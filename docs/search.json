[
  {
    "objectID": "starter-analysis-exercise/results/tables-files/readme.html",
    "href": "starter-analysis-exercise/results/tables-files/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "Folder for all tables (generally stored as Rds files) and other files.\nYou can create further sub-folders if that makes sense."
  },
  {
    "objectID": "starter-analysis-exercise/results/figures/readme.html",
    "href": "starter-analysis-exercise/results/figures/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "Folder for all figures.\nYou can create further sub-folders if that makes sense."
  },
  {
    "objectID": "starter-analysis-exercise/products/readme.html",
    "href": "starter-analysis-exercise/products/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "The folders inside this folder should contain all the products of your project.\nFor a classical academic project, this will be a peer-reviewed manuscript, and should be placed into a manuscript folder.\nFor our case, since we’ll want to put it on the website, we call it a report.\nOften you need a library of references in bibtex format, as well as a CSL style file that determines reference formatting. Since those files might be used by several of the products, I’m placing them in the main products folder. Feel free to re-organize."
  },
  {
    "objectID": "starter-analysis-exercise/data/raw-data/readme.html",
    "href": "starter-analysis-exercise/data/raw-data/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "This folder contains a simple made-up data-set in an Excel file.\nIt contains the variables Height, Weight and Gender of a few imaginary individuals.\nThe dataset purposefully contains some faulty entries that need to be cleaned.\nGenerally, any dataset should contain some meta-data explaining what each variable in the dataset is. (This is often called a Codebook.) For this simple example, the codebook is given as a second sheet in the Excel file.\nThis raw data-set should generally not be edited by hand. It should instead be loaded and processed/cleaned using code."
  },
  {
    "objectID": "starter-analysis-exercise/code/processing-code/readme.html",
    "href": "starter-analysis-exercise/code/processing-code/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "This folder contains code for processing data.\nCurrently, there is just a single Quarto file to illustrate how the processing can look like.\nInstead of a Quarto file that contains code, it is also possible to use R scripts or a combination of R scripts and Quarto code. Those approaches are illustrated in the full dataanalysis-template repository."
  },
  {
    "objectID": "starter-analysis-exercise/code/eda-code/readme.html",
    "href": "starter-analysis-exercise/code/eda-code/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "This folder contains code to do some simple exploratory data analysis (EDA) on the processed/cleaned data. The code produces a few tables and figures, which are saved in the appropriate results sub-folder."
  },
  {
    "objectID": "starter-analysis-exercise/code/analysis-code/readme.html",
    "href": "starter-analysis-exercise/code/analysis-code/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "This folder contains code to do some simple exploratory analysis and statistical analysis on the processed/cleaned data. The code produces a few tables and figures, which are saved in the results folder.\nIt’s the same code done 3 times:\n\nFirst, there is an R script that you can run which does all the computations.\nSecond, there is a Quarto file which contains exactly the same code as the R script.\nThird, my current favorite, is a Quarto file with an approach where the code is pulled in from the R script and run.\n\nThe last version has the advantage of having code in one place for easy writing/debugging, and then being able to pull the code into the Quarto file for a nice combination of text/commentary and code.\nEach way of doing this is a reasonable approach, pick whichever one you prefer or makes the most sense for your setup. Whichever approach you choose, add ample documentation/commentary so you and others can easily understand what’s going on and what is done."
  },
  {
    "objectID": "coding-exercise/coding-exercise.html",
    "href": "coding-exercise/coding-exercise.html",
    "title": "R Coding Exercise",
    "section": "",
    "text": "Module 3 - R Coding Exercise\n\nDone by: Shaun van den Hurk\nGetting started and set up with packages and retrieving dataset.\n\n#Installing required packages (\"dslabs\", \"tidyverse\")\noptions(repos = c(CRAN = \"https://cran.rstudio.com/\")) #Attempting to address issue with downloading dslabs script at render\ninstall.packages(\"dslabs\") #for dataset\n\nInstalling package into 'C:/Users/shaun/AppData/Local/R/win-library/4.4'\n(as 'lib' is unspecified)\n\n\npackage 'dslabs' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\shaun\\AppData\\Local\\Temp\\Rtmp0sfl5M\\downloaded_packages\n\ninstall.packages(\"tidyverse\") #for tools for analysis\n\nInstalling package into 'C:/Users/shaun/AppData/Local/R/win-library/4.4'\n(as 'lib' is unspecified)\n\n\npackage 'tidyverse' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\shaun\\AppData\\Local\\Temp\\Rtmp0sfl5M\\downloaded_packages\n\n#load required libraries (\"dslabs\", \"tidyverse\", \"ggplot2\", \"here\")\nlibrary(\"dslabs\")\n\nWarning: package 'dslabs' was built under R version 4.4.2\n\nlibrary(\"tidyverse\")\n\nWarning: package 'tidyverse' was built under R version 4.4.2\n\n\nWarning: package 'readr' was built under R version 4.4.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(\"ggplot2\") #for generated plots\n\n#Getting an overview of the data\n#Look at the gapminder data help file help(gapminder)\n\n#Get an overview of the gapminder data structure\nstr(gapminder)\n\n'data.frame':   10545 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ year            : int  1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ...\n $ infant_mortality: num  115.4 148.2 208 NA 59.9 ...\n $ life_expectancy : num  62.9 47.5 36 63 65.4 ...\n $ fertility       : num  6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ...\n $ population      : num  1636054 11124892 5270844 54681 20619075 ...\n $ gdp             : num  NA 1.38e+10 NA NA 1.08e+11 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 4 1 1 2 2 3 2 5 4 3 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 19 11 10 2 15 21 2 1 22 21 ...\n\n#Get a summary of the gapminder data\nsummary(gapminder)\n\n                country           year      infant_mortality life_expectancy\n Albania            :   57   Min.   :1960   Min.   :  1.50   Min.   :13.20  \n Algeria            :   57   1st Qu.:1974   1st Qu.: 16.00   1st Qu.:57.50  \n Angola             :   57   Median :1988   Median : 41.50   Median :67.54  \n Antigua and Barbuda:   57   Mean   :1988   Mean   : 55.31   Mean   :64.81  \n Argentina          :   57   3rd Qu.:2002   3rd Qu.: 85.10   3rd Qu.:73.00  \n Armenia            :   57   Max.   :2016   Max.   :276.90   Max.   :83.90  \n (Other)            :10203                  NA's   :1453                    \n   fertility       population             gdp               continent   \n Min.   :0.840   Min.   :3.124e+04   Min.   :4.040e+07   Africa  :2907  \n 1st Qu.:2.200   1st Qu.:1.333e+06   1st Qu.:1.846e+09   Americas:2052  \n Median :3.750   Median :5.009e+06   Median :7.794e+09   Asia    :2679  \n Mean   :4.084   Mean   :2.701e+07   Mean   :1.480e+11   Europe  :2223  \n 3rd Qu.:6.000   3rd Qu.:1.523e+07   3rd Qu.:5.540e+10   Oceania : 684  \n Max.   :9.220   Max.   :1.376e+09   Max.   :1.174e+13                  \n NA's   :187     NA's   :185         NA's   :2972                       \n             region    \n Western Asia   :1026  \n Eastern Africa : 912  \n Western Africa : 912  \n Caribbean      : 741  \n South America  : 684  \n Southern Europe: 684  \n (Other)        :5586  \n\n\n#Determine the type of the object gapminder\nclass(gapminder)\n\n\n#Getting started with data processing\n#Filter out data from African countries by filtering by continent\n\n#Filter out African data\nafricadata &lt;- gapminder |&gt; filter(continent ==\"Africa\")\n#View the newly filtered data\nView(africadata)\n\n#From the filtered Africa data, create two new objects, one with the two columns “infant_mortality” and “life_expectancy”, and second object with the two columns “population” and “life_expectancy”.\n#Creating the first object named “africa_1” and looking at the overview and summary of the newly created object\n\n#Using the \"select\" function to select the columns from the previous \"africadata\" dataset\nafrica_1 &lt;- africadata |&gt; select(infant_mortality, life_expectancy)\n#get an overview of the new africa_1 datset\nstr(africa_1)\n\n'data.frame':   2907 obs. of  2 variables:\n $ infant_mortality: num  148 208 187 116 161 ...\n $ life_expectancy : num  47.5 36 38.3 50.3 35.2 ...\n\n#see a summary of the new africa_1 dataset\nsummary(africa_1)\n\n infant_mortality life_expectancy\n Min.   : 11.40   Min.   :13.20  \n 1st Qu.: 62.20   1st Qu.:48.23  \n Median : 93.40   Median :53.98  \n Mean   : 95.12   Mean   :54.38  \n 3rd Qu.:124.70   3rd Qu.:60.10  \n Max.   :237.40   Max.   :77.60  \n NA's   :226                     \n\n#View the resulting object more closely\nview(africa_1)\n\n#Creating the second object named “africa_2” with the columns “population” and “life_expectancy” following the same approach as before\n\n#Using the \"select\" function to select the columns from the previous \"africadata\" dataset\nafrica_2 &lt;- africadata |&gt; select(population, life_expectancy)\n#get an overview of the new africa_1 datset\nstr(africa_2)\n\n'data.frame':   2907 obs. of  2 variables:\n $ population     : num  11124892 5270844 2431620 524029 4829291 ...\n $ life_expectancy: num  47.5 36 38.3 50.3 35.2 ...\n\n#see a summary of the new africa_1 dataset\nsummary(africa_2)\n\n   population        life_expectancy\n Min.   :    41538   Min.   :13.20  \n 1st Qu.:  1605232   1st Qu.:48.23  \n Median :  5570982   Median :53.98  \n Mean   : 12235961   Mean   :54.38  \n 3rd Qu.: 13888152   3rd Qu.:60.10  \n Max.   :182201962   Max.   :77.60  \n NA's   :51                         \n\n#View the resulting object more closely\nview(africa_2)\n\n#Create two different plots to evaluate the data from the objects arica_1 and africa_2 using the ggplot2 package - previously loaded.\n#Generate a plot demonstrating life expectancy as a function of infant mortality.\n\n#Generate the plot as a scatter plot with the variables associated with the approiate axes, reduce point size to 1, set colour to blue, label different areas of the graph\nggplot(africa_1, aes(x = infant_mortality, y = life_expectancy)) +   \n  geom_point(size = 1, color = \"blue\") +\n  labs(title = \"Infant mortality vs Life expectancy\", x = \"Infant mortality\", y = \"Life expectancy\" ) \n\nWarning: Removed 226 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n#Save the generated plot\nggsave(\"africa_1_Life_expectancy_vs_infant_mortality.png\", width = 8, height =6)\n\nWarning: Removed 226 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nThe data shows shows a negative correlation between infant mortality and life expectancy. This is intuitive.\n#Generate a second plot demonstrating life expectancy as a function of population size, where the x-axis (population) is plotted on a log scale\n\n#Generate the plot as a scatter plot with the variables associated with the approiate axes,set the x-axis (population) to be in the log-scale, reduce point size to 1, set colour to red, label different areas of the graph\nggplot(africa_2, aes(x = population, y = life_expectancy)) +   \n  geom_point(size = 1, color = \"red\") +\n  scale_x_log10() +\n  labs(title = \"Population vs Life expectancy\", x = \"Population (Log-scale)\", y = \"Life expectancy\" ) \n\nWarning: Removed 51 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n#Save the generated plot\nggsave(\"africa_2_Life_expectancy_vs_population_log_scale.png\", width = 8, height =6)\n\nWarning: Removed 51 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nThe plots generated are a bit messy and difficult to interpret as they currently are. The strange appearance is most likely a result of the repition of the data (collected data) that has occured by reporting the variables from 1962 to 2016. Therefore, there is a great deal of overlap and it is hard to see any real relationships or trends. This is amplified by the fact that the life expectancy and certainly the populaion changes each year and so the points are being shifted. It might be best to focus on a particular country or region over a period of time, or to focus on one particular year to reduce this overlap. T\n#Search for years with missing (NA) data points for infant mortality.\n\n#I used the textbook and ChatGPT to help me generate and correct my code. I tried the select function with & first which is not apprpriate for rows\nmissing_infant_mortality &lt;- africadata |&gt; #Assigning new variable and searching in the dataset\nfilter(is.na(infant_mortality)) |&gt;  #continuing with pipe and filtering for where infant mortality is \"NA\"\nselect(year)  #continuing pipe and keeping the years where infant mortality is NA\"\n\n#Create a new object “africa_3_y2000” with the extracted data from the year 2000 from “africadata” and view the summary of the data\n\n#Use the filter function to select the columns where the year is 2000\nafrica_3_y2000 &lt;- africadata |&gt; filter(year==2000)\n#view the data structure of the new object africa_3_y2000\nstr(africa_3_y2000)\n\n'data.frame':   51 obs. of  9 variables:\n $ country         : Factor w/ 185 levels \"Albania\",\"Algeria\",..: 2 3 18 22 26 27 29 31 32 33 ...\n $ year            : int  2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ...\n $ infant_mortality: num  33.9 128.3 89.3 52.4 96.2 ...\n $ life_expectancy : num  73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ...\n $ fertility       : num  2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ...\n $ population      : num  31183658 15058638 6949366 1736579 11607944 ...\n $ gdp             : num  5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ...\n $ continent       : Factor w/ 5 levels \"Africa\",\"Americas\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ region          : Factor w/ 22 levels \"Australia and New Zealand\",..: 11 10 20 17 20 5 10 20 10 10 ...\n\n#view a summary of the new object africa_3_y2000\nsummary(africa_3_y2000)\n\n         country        year      infant_mortality life_expectancy\n Algeria     : 1   Min.   :2000   Min.   : 12.30   Min.   :37.60  \n Angola      : 1   1st Qu.:2000   1st Qu.: 60.80   1st Qu.:51.75  \n Benin       : 1   Median :2000   Median : 80.30   Median :54.30  \n Botswana    : 1   Mean   :2000   Mean   : 78.93   Mean   :56.36  \n Burkina Faso: 1   3rd Qu.:2000   3rd Qu.:103.30   3rd Qu.:60.00  \n Burundi     : 1   Max.   :2000   Max.   :143.30   Max.   :75.00  \n (Other)     :45                                                  \n   fertility       population             gdp               continent \n Min.   :1.990   Min.   :    81154   Min.   :2.019e+08   Africa  :51  \n 1st Qu.:4.150   1st Qu.:  2304687   1st Qu.:1.274e+09   Americas: 0  \n Median :5.550   Median :  8799165   Median :3.238e+09   Asia    : 0  \n Mean   :5.156   Mean   : 15659800   Mean   :1.155e+10   Europe  : 0  \n 3rd Qu.:5.960   3rd Qu.: 17391242   3rd Qu.:8.654e+09   Oceania : 0  \n Max.   :7.730   Max.   :122876723   Max.   :1.329e+11                \n                                                                      \n                       region  \n Eastern Africa           :16  \n Western Africa           :16  \n Middle Africa            : 8  \n Northern Africa          : 6  \n Southern Africa          : 5  \n Australia and New Zealand: 0  \n (Other)                  : 0  \n\n\n#Make new plots for the data from the year 2000 following the same approach and similar code as before\n#Generate a plot to view infant mortality vs life expectancy from the year 2000 by using the filtered object created for the year 2000 from the Africa dataset that was originally created.\n\n#Generate the plot as a scatter plot with the variables associated with the approiate axes, reduce point size to 1, set colour to black, label different areas of the graph\nggplot(africa_3_y2000, aes(x = infant_mortality, y = life_expectancy)) +   \n  geom_point(size = 1, color = \"black\") +\n  labs(title = \"Infant mortality vs Life expectancy from the year 2000\", x = \"Infant mortality\", y = \"Life expectancy\" ) \n\n\n\n\n\n\n\n#Save the generated plot\nggsave(\"africa_3_y2000_Life_expectancy_vs_infant_mortality.png\", width = 8, height =6)\n\n#Generate a simialr plot to view population (on a log-scale) vs life expectancy from the year 2000 by using the filtered object created for the year 2000 from the Africa dataset that was originally created.\n\n#Generate the plot as a scatter plot with the variables associated with the approiate axes,set the x-axis (population) to be in the log-scale, reduce point size to 1, set colour to red, label different areas of the graph\nggplot(africa_3_y2000, aes(x = population, y = life_expectancy)) +   \n  geom_point(size = 1, color = \"red\") +\n  scale_x_log10() +\n  labs(title = \"Population vs Life expectancy for the year 2000\", x = \"Population (Log-scale)\", y = \"Life expectancy\" ) \n\n\n\n\n\n\n\n#Save the generated plot\nggsave(\"africa_3_y2000_Life_expectancy_vs_population_log_scale.png\", width = 8, height =6)\n\n#Fit a linear model to the data to help with further interpretation. Use the “lm” function to fit life expectancy as the outcome, with infant mortality as the predictor. This is based on the data from the year 2000 in Africa only.\n\nfit1 &lt;- lm(life_expectancy ~ infant_mortality, data = africa_3_y2000)\n#View the summary of the model\nsummary(fit1)\n\n\nCall:\nlm(formula = life_expectancy ~ infant_mortality, data = africa_3_y2000)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-22.6651  -3.7087   0.9914   4.0408   8.6817 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      71.29331    2.42611  29.386  &lt; 2e-16 ***\ninfant_mortality -0.18916    0.02869  -6.594 2.83e-08 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.221 on 49 degrees of freedom\nMultiple R-squared:  0.4701,    Adjusted R-squared:  0.4593 \nF-statistic: 43.48 on 1 and 49 DF,  p-value: 2.826e-08\n\n\nFrom this fit it appears that infant moratlity has a strong and highly significant association with life expectancy (p value is 2.83e-08). We see that higher infant mortality is associated with a lower life expectancy.\n#Generate a similar linear fit with life expectancy as the outcome and population size as the predictor. This is based on the data from the year 2000 in Africa only.\n\nfit2 &lt;- lm(life_expectancy ~ population, data = africa_3_y2000)\n#View the summary of the model\nsummary(fit2)\n\n\nCall:\nlm(formula = life_expectancy ~ population, data = africa_3_y2000)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-18.429  -4.602  -2.568   3.800  18.802 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 5.593e+01  1.468e+00  38.097   &lt;2e-16 ***\npopulation  2.756e-08  5.459e-08   0.505    0.616    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.524 on 49 degrees of freedom\nMultiple R-squared:  0.005176,  Adjusted R-squared:  -0.01513 \nF-statistic: 0.2549 on 1 and 49 DF,  p-value: 0.6159\n\n\nThere does not appear to be any statistical significance in the relationship between population size and life expectancy in this dataset modelled. The p-value was 0.6159, which is not significant. This indicates that population size is not an effective predictor of life expectancy in this dataset.\n\n\n…………………………………………………………………………………….\n\n\n\n\n\n\n\n\nThis section contributed by Asmith Joseph\n\n# Taking a look at the dslabs to identify which dataset I want to choose for the assignment\nlibrary(dslabs)\ndata(package = \"dslabs\")\n\n\n# I chose us_contagious_diseases dataset\n# Loading the  us_contagious_diseases datasetthe Dataset\nlibrary(dslabs)\ndata(\"us_contagious_diseases\")\n\n\n#The dataset contains the following columns:\n\n#disease: The name of the disease (e.g., \"Measles,\" \"Polio\").\n#state: The U.S. state where the data was recorded.\n#year: The year the data was reported.\n#weeks_reporting: The number of weeks during the year in which the state reported data.\n#count: The number of reported cases of the disease.\n#population: The population of the state in the respective year.\n#rate: The number of disease cases per 10,000 people\n\n\n#Exploring the datasets to identify variables and so on \nhead(us_contagious_diseases)\n\n      disease   state year weeks_reporting count population\n1 Hepatitis A Alabama 1966              50   321    3345787\n2 Hepatitis A Alabama 1967              49   291    3364130\n3 Hepatitis A Alabama 1968              52   314    3386068\n4 Hepatitis A Alabama 1969              49   380    3412450\n5 Hepatitis A Alabama 1970              51   413    3444165\n6 Hepatitis A Alabama 1971              51   378    3481798\n\n#checking the structure \nstr(us_contagious_diseases)\n\n'data.frame':   16065 obs. of  6 variables:\n $ disease        : Factor w/ 7 levels \"Hepatitis A\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ state          : Factor w/ 51 levels \"Alabama\",\"Alaska\",..: 1 1 1 1 1 1 1 1 1 1 ...\n $ year           : num  1966 1967 1968 1969 1970 ...\n $ weeks_reporting: num  50 49 52 49 51 51 45 45 45 46 ...\n $ count          : num  321 291 314 380 413 378 342 467 244 286 ...\n $ population     : num  3345787 3364130 3386068 3412450 3444165 ...\n\n# Exploring the summary \nsummary(us_contagious_diseases)\n\n        disease            state            year      weeks_reporting\n Hepatitis A:2346   Alabama   :  315   Min.   :1928   Min.   : 0.00  \n Measles    :3825   Alaska    :  315   1st Qu.:1950   1st Qu.:31.00  \n Mumps      :1785   Arizona   :  315   Median :1975   Median :46.00  \n Pertussis  :2856   Arkansas  :  315   Mean   :1971   Mean   :37.38  \n Polio      :2091   California:  315   3rd Qu.:1990   3rd Qu.:50.00  \n Rubella    :1887   Colorado  :  315   Max.   :2011   Max.   :52.00  \n Smallpox   :1275   (Other)   :14175                                 \n     count          population      \n Min.   :     0   Min.   :   86853  \n 1st Qu.:     7   1st Qu.: 1018755  \n Median :    69   Median : 2749249  \n Mean   :  1492   Mean   : 4107584  \n 3rd Qu.:   525   3rd Qu.: 4996229  \n Max.   :132342   Max.   :37607525  \n                  NA's   :214       \n\n\n\n#Processing and cleaning the Data. First I am filtering out diseases with missing data, mostly focusing on one specific diseases, Measles. \n### Data Processing I focus on measles data for this analysis. The dataset is cleaned to remove rows with missing values, and a new variable, `rate_per_100k`, is calculated to represent cases per 100,000 people.\n\n\n# filtering out the data for measles\nmeasles &lt;- us_contagious_diseases %&gt;%\n  filter(disease == \"Measles\") %&gt;%\n  drop_na()  # Remove rows with missing values\n\n# Adding a column for the cases per 100,000 population\nmeasles &lt;- measles %&gt;%\n  mutate(rate_per_100k = (count / population) * 100000)\n\n# Previewing the cleaned dataset\nhead(measles)\n\n  disease   state year weeks_reporting count population rate_per_100k\n1 Measles Alabama 1928              52  8843    2589923     341.43872\n2 Measles Alabama 1929              49  2959    2619131     112.97640\n3 Measles Alabama 1930              52  4156    2646248     157.05255\n4 Measles Alabama 1931              49  8934    2670818     334.50426\n5 Measles Alabama 1932              41   270    2693027      10.02589\n6 Measles Alabama 1933              51  1735    2713243      63.94562\n\n# Checking for missing values\nsum(is.na(measles))\n\n[1] 0\n\n\n\n### In the next part, I am doing exploratory Figures by visualizing the trends of measles cases over time and across states. 1) figure shows the number of cases over the years, 2) second figure is a heatmap of cases by state and year.\n\n\n#Creating exploratory figures, such as Visualize trends, distributions, or summaries.\n\n# Plot the total number of measles cases over time\nggplot(measles, aes(x = year, y = count)) +\n  geom_line(color = \"pink\") +\n  labs(title = \"Measles Cases Over Time\",\n       x = \"Year\",\n       y = \"Number of Cases\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n#  2nd figure Measles Cases by State (Heatmap)\n# Creating a heatmap of cases by state and year\nmeasles_heatmap &lt;- measles %&gt;%\n  group_by(state, year) %&gt;%\n  summarize(total_cases = sum(count, na.rm = TRUE))\n\n`summarise()` has grouped output by 'state'. You can override using the\n`.groups` argument.\n\nggplot(measles_heatmap, aes(x = year, y = reorder(state, total_cases), fill = total_cases)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"white\", high = \"red\") +\n  labs(title = \"Measles Cases Heatmap by State and Year\",\n       x = \"Year\",\n       y = \"State\",\n       fill = \"Total Cases\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nNext Part, I am focusing on Statistical Model. fitting a simple linear regression model to examine the trend of measles cases over time. The model uses year as the predictor and count (number of cases) as the outcome variable.\n\n# Fitting a linear model to examine the trend of measles cases over time\nmeasles_lm &lt;- lm(count ~ year, data = measles)\n\n# Summarizing the model\nsummary(measles_lm)\n\n\nCall:\nlm(formula = count ~ year, data = measles)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-12080  -4342  -1783    846 122169 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 379731.549  15514.361   24.48   &lt;2e-16 ***\nyear          -190.690      7.893  -24.16   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10460 on 3759 degrees of freedom\nMultiple R-squared:  0.1344,    Adjusted R-squared:  0.1342 \nF-statistic: 583.6 on 1 and 3759 DF,  p-value: &lt; 2.2e-16\n\n\n\n### Results from the Linear Model\n#The summary of the linear regression model shows the following:\n# 1) The slope coefficient for `year` is negative, indicating a decline in measles cases over time, 2) The model's p-value suggests that this decline is statistically significant."
  },
  {
    "objectID": "aboutme.html",
    "href": "aboutme.html",
    "title": "About me",
    "section": "",
    "text": "Who am I?\nI am a second year PhD student in the Comparative Biomedical Sciences program in the College of Veterinary Medicine. I am a veterinarian from South Africa and I lived and worked in South Africa until 2023, when I came to UGA!\n\n\nMy background and hopes for the course:\nMy professional background is mainly as a clinical veterinarian, with particular interests in cattle production and medicine (I taught these topics at the University of Pretoria in South Africa previously), and so programming and data analysis is quite new to me.\nAs a veterinarian we get taught some basics in epidemiology but I did not learn anything about real data anaylsis and application. I am interested in learning more about data analysis and statistics to apply this to infectious disease studies in animals (particularly cattle) and my current research projects focus on bovine respiratory disease complex agents. I hope that this course will give me exposure and hands-on experience with working woth different tools (box is already getting ticked with this exercise) and performing data analysis on real-world data.\n\n\nSomething interesting about myself:\nAs you might expect, I love animals and wildlife and my favourite holiday destination is the Kruger National Park in South Africa which is one of the biggest nature reserves in the world. I aim to stay in every camp and to do every bush trail offered, I have big plans!\nThis picture is a typical view of the landscape.\n\n\n\n\n\n\n\nSomething interesting related to data analysis:\nI am sharing a link to a research study that was published by other researchers investigating bovine respiratory disease complex.\n“https://www.nature.com/articles/s41598-021-02343-7”\nThis study is very cool as the researchers are looking at genes and regulatroy mechanisms that are associated with bovine respiratory disease, and they made use of machine learning models for this. I hope to develop my skills with data analysis and machine learning to process similar data and research questions."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Shaun’s website and data analysis portfolio",
    "section": "",
    "text": "Hello everyone!\n\nI am Shaun van den Hurk.\nWelcome to my website and data analysis portfolio for the Modern Applied Data Analysis (MADA) course at UGA\n\nPlease use the Menu Bar above to look around.\n\nHave fun and stay warm!\nShaun"
  },
  {
    "objectID": "starter-analysis-exercise/code/eda-code/eda.html",
    "href": "starter-analysis-exercise/code/eda-code/eda.html",
    "title": "An example exploratory analysis script",
    "section": "",
    "text": "This Quarto file loads the cleaned data and does some exploring.\nI’m only showing it the way where the code is included in the file. As described in the processing_code materials, I currently prefer the approach of having R code in a separate file and pulling it in.\nBut I already had this written and haven’t yet re-done it that way. Feel free to redo and send a pull request on GitHub :)\nAgain, it is largely a matter of preference and what makes the most sense to decide if one wants to have code inside Quarto files, or as separate R files. And sometimes, an R script with enough comments is good enough and one doesn’t need a Quarto file.\nAlso note that while here I split cleaning and exploring, this is iterative. You saw that as part of the processing, we already had to explore the data somewhat to understand how to clean it. In general, as you explore, you’ll find things that need cleaning. As you clean, you can explore more. Therefore, at times it might make more sense to combine the cleaning and exploring code parts into a single R or Quarto file. Or split things in any other logical way.\nAs part of the exploratory analysis, you should produce plots or tables or other summary quantities for the most interesting/important quantities in your data. Depending on the total number of variables in your dataset, explore all or some of the others. Figures produced here might be histograms or density plots, correlation plots, etc. Tables might summarize your data.\nStart by exploring one variable at a time. Then continue by creating plots or tables of the outcome(s) of interest and the predictor/exposure/input variables you are most interested in. If your dataset is small, you can do that for all variables.\nPlots produced here can be scatterplots, boxplots, violinplots, etc. Tables can be simple 2x2 tables or larger ones.\n\nSetup\n\n#load needed packages. make sure they are installed.\nlibrary(here) #for data loading/saving\n\nhere() starts at E:/Shaun Documents/Work/Work/UGA/PhD/MADA/ShaunvandenHurk-MADA-portfolio\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(skimr)\n\nWarning: package 'skimr' was built under R version 4.4.2\n\nlibrary(ggplot2)\n\nLoad the data.\n\n#Path to data. Note the use of the here() package and not absolute paths\ndata_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"processed-data\",\"processeddata.rds\")\n#load data\nmydata &lt;- readRDS(data_location)\n\n\n\nData exploration through tables\nShowing a bit of code to produce and save a summary table.\n\nsummary_df = skimr::skim(mydata)\nprint(summary_df)\n\n── Data Summary ────────────────────────\n                           Values\nName                       mydata\nNumber of rows             9     \nNumber of columns          3     \n_______________________          \nColumn type frequency:           \n  factor                   1     \n  numeric                  2     \n________________________         \nGroup variables            None  \n\n── Variable type: factor ───────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate ordered n_unique top_counts      \n1 Gender                0             1 FALSE          3 M: 4, F: 3, O: 2\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate  mean   sd  p0 p25 p50 p75 p100 hist \n1 Height                0             1 166.  16.0 133 156 166 178  183 ▂▁▃▃▇\n2 Weight                0             1  70.1 21.2  45  55  70  80  110 ▇▂▃▂▂\n\n# save to file\nsummarytable_file = here(\"starter-analysis-exercise\",\"results\", \"tables-files\", \"summarytable.rds\")\nsaveRDS(summary_df, file = summarytable_file)\n\nWe are saving the results to the results/tables folder. Structure the folders inside results such that they make sense for your specific analysis. Provide enough documentation that someone can understand what you are doing and what goes where. readme.md files inside each folder are a good idea.\n\n\nData exploration through figures\nHistogram plots for the continuous outcomes.\nHeight first.\n\np1 &lt;- mydata %&gt;% ggplot(aes(x=Height)) + geom_histogram() \nplot(p1)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-distribution.png\")\nggsave(filename = figure_file, plot=p1) \n\nSaving 7 x 5 in image\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nNow weights.\n\np2 &lt;- mydata %&gt;% ggplot(aes(x=Weight)) + geom_histogram() \nplot(p2)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"weight-distribution.png\")\nggsave(filename = figure_file, plot=p2) \n\nSaving 7 x 5 in image\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nNow height as function of weight.\n\np3 &lt;- mydata %&gt;% ggplot(aes(x=Height, y=Weight)) + geom_point() + geom_smooth(method='lm')\nplot(p3)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-weight.png\")\nggsave(filename = figure_file, plot=p3) \n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\nOnce more height as function of weight, stratified by gender. Note that there is so little data, it’s a bit silly. But we’ll plot it anyway.\n\np4 &lt;- mydata %&gt;% ggplot(aes(x=Height, y=Weight, color = Gender)) + geom_point() + geom_smooth(method='lm')\nplot(p4)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning in qt((1 - level)/2, df): NaNs produced\n\n\nWarning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning\n-Inf\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-weight-stratified.png\")\nggsave(filename = figure_file, plot=p4) \n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning in qt((1 - level)/2, df): NaNs produced\nWarning in qt((1 - level)/2, df): no non-missing arguments to max; returning\n-Inf\n\n\n\n\nNotes\nFor your own explorations, tables and figures can be “quick and dirty”. As long as you can see what’s going on, there is no need to polish them. That’s in contrast to figures you’ll produce for your final products (paper, report, presentation, website, etc.). Those should look as nice, polished and easy to understand as possible."
  },
  {
    "objectID": "starter-analysis-exercise/code/processing-code/processingfile.html",
    "href": "starter-analysis-exercise/code/processing-code/processingfile.html",
    "title": "An example cleaning script",
    "section": "",
    "text": "Processing script\nThis Quarto file contains a mix of code and explanatory text to illustrate a simple data processing/cleaning setup.\n\n\nSetup\nLoad needed packages. make sure they are installed.\n\nlibrary(readxl) #for loading Excel files\nlibrary(dplyr) #for data processing/cleaning\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr) #for data processing/cleaning\nlibrary(skimr) #for nice visualization of data \n\nWarning: package 'skimr' was built under R version 4.4.2\n\nlibrary(here) #to set paths\n\nhere() starts at E:/Shaun Documents/Work/Work/UGA/PhD/MADA/ShaunvandenHurk-MADA-portfolio\n\n\n\n\nData loading\nNote that for functions that come from specific packages (instead of base R), I often specify both package and function like so: package::function() that’s not required one could just call the function specifying the package makes it clearer where the function “lives”, but it adds typing. You can do it either way.\n\n# path to data\n# note the use of the here() package and not absolute paths\ndata_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"raw-data\",\"exampledata.xlsx\")\nrawdata &lt;- readxl::read_excel(data_location)\n\n\n\nCheck data\nFirst we can look at the codebook\n\ncodebook &lt;- readxl::read_excel(data_location, sheet =\"Codebook\")\nprint(codebook)\n\n# A tibble: 3 × 3\n  `Variable Name` `Variable Definition`                 `Allowed Values`      \n  &lt;chr&gt;           &lt;chr&gt;                                 &lt;chr&gt;                 \n1 Height          height in centimeters                 numeric value &gt;0 or NA\n2 Weight          weight in kilograms                   numeric value &gt;0 or NA\n3 Gender          identified gender (male/female/other) M/F/O/NA              \n\n\nSeveral ways of looking at the data\n\ndplyr::glimpse(rawdata)\n\nRows: 14\nColumns: 3\n$ Height &lt;chr&gt; \"180\", \"175\", \"sixty\", \"178\", \"192\", \"6\", \"156\", \"166\", \"155\", …\n$ Weight &lt;dbl&gt; 80, 70, 60, 76, 90, 55, 90, 110, 54, 7000, NA, 45, 55, 50\n$ Gender &lt;chr&gt; \"M\", \"O\", \"F\", \"F\", \"NA\", \"F\", \"O\", \"M\", \"N\", \"M\", \"F\", \"F\", \"M…\n\nsummary(rawdata)\n\n    Height              Weight          Gender         \n Length:14          Min.   :  45.0   Length:14         \n Class :character   1st Qu.:  55.0   Class :character  \n Mode  :character   Median :  70.0   Mode  :character  \n                    Mean   : 602.7                     \n                    3rd Qu.:  90.0                     \n                    Max.   :7000.0                     \n                    NA's   :1                          \n\nhead(rawdata)\n\n# A tibble: 6 × 3\n  Height Weight Gender\n  &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt; \n1 180        80 M     \n2 175        70 O     \n3 sixty      60 F     \n4 178        76 F     \n5 192        90 NA    \n6 6          55 F     \n\nskimr::skim(rawdata)\n\n\nData summary\n\n\nName\nrawdata\n\n\nNumber of rows\n14\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nHeight\n0\n1\n1\n5\n0\n13\n0\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nWeight\n1\n0.93\n602.69\n1922.25\n45\n55\n70\n90\n7000\n▇▁▁▁▁\n\n\n\n\n\n\n\nCleaning\nBy inspecting the data as done above, we find some problems that need addressing:\nFirst, there is an entry for height which says “sixty” instead of a number. Does that mean it should be a numeric 60? It somehow doesn’t make sense since the weight is 60kg, which can’t happen for a 60cm person (a baby). Since we don’t know how to fix this, we might decide to remove the person. This “sixty” entry also turned all Height entries into characters instead of numeric. That conversion to character also means that our summary function isn’t very meaningful. So let’s fix that first.\n\nd1 &lt;- rawdata %&gt;% dplyr::filter( Height != \"sixty\" ) %&gt;% \n                  dplyr::mutate(Height = as.numeric(Height))\nskimr::skim(d1)\n\n\nData summary\n\n\nName\nd1\n\n\nNumber of rows\n13\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1.00\n151.62\n46.46\n6\n154.00\n165\n175\n192\n▁▁▁▂▇\n\n\nWeight\n1\n0.92\n647.92\n2000.48\n45\n54.75\n73\n90\n7000\n▇▁▁▁▁\n\n\n\n\nhist(d1$Height)\n\n\n\n\n\n\n\n\nNow we see that there is one person with a height of 6. That could be a typo, or someone mistakenly entered their height in feet. Since we unfortunately don’t know, we might need to remove this person, which we’ll do here.\n\nd2 &lt;- d1 %&gt;% dplyr::mutate( Height = replace(Height, Height==\"6\",round(6*30.48,0)) )\nskimr::skim(d2)\n\n\nData summary\n\n\nName\nd2\n\n\nNumber of rows\n13\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1.00\n165.23\n16.52\n133\n155.00\n166\n178\n192\n▂▇▆▆▃\n\n\nWeight\n1\n0.92\n647.92\n2000.48\n45\n54.75\n73\n90\n7000\n▇▁▁▁▁\n\n\n\n\n\nHeight values seem ok now.\nNow let’s look at the Weight variable. There is a person with weight of 7000, which is impossible, and one person with missing weight. To be able to analyze the data, we’ll remove those individuals as well.\n\nd3 &lt;- d2 %&gt;%  dplyr::filter(Weight != 7000) %&gt;% tidyr::drop_na()\nskimr::skim(d3)\n\n\nData summary\n\n\nName\nd3\n\n\nNumber of rows\n11\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n167.09\n16.81\n133\n155.5\n166\n179\n192\n▂▇▅▇▅\n\n\nWeight\n0\n1\n70.45\n20.65\n45\n54.5\n70\n85\n110\n▇▂▃▃▂\n\n\n\n\n\nNow checking the Gender variable. Gender should be a categorical/factor variable but is loaded as character. We can fix that with simple base R code to mix things up.\n\nd3$Gender &lt;- as.factor(d3$Gender)  \nskimr::skim(d3)\n\n\nData summary\n\n\nName\nd3\n\n\nNumber of rows\n11\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nGender\n0\n1\nFALSE\n5\nM: 4, F: 3, O: 2, N: 1\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n167.09\n16.81\n133\n155.5\n166\n179\n192\n▂▇▅▇▅\n\n\nWeight\n0\n1\n70.45\n20.65\n45\n54.5\n70\n85\n110\n▇▂▃▃▂\n\n\n\n\n\nNow we see that there is another NA, but it’s not NA from R, instead it was loaded as character and is now considered as a category. Well proceed here by removing that individual with that NA entry. Since this keeps an empty category for Gender, I’m also using droplevels() to get rid of it.\n\nd4 &lt;- d3 %&gt;% dplyr::filter( !(Gender %in% c(\"NA\",\"N\")) ) %&gt;% droplevels()\nskimr::skim(d4)\n\n\nData summary\n\n\nName\nd4\n\n\nNumber of rows\n9\n\n\nNumber of columns\n3\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nGender\n0\n1\nFALSE\n3\nM: 4, F: 3, O: 2\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n165.67\n15.98\n133\n156\n166\n178\n183\n▂▁▃▃▇\n\n\nWeight\n0\n1\n70.11\n21.25\n45\n55\n70\n80\n110\n▇▂▃▂▂\n\n\n\n\n\nAll done, data is clean now.\nLet’s assign at the end to some final variable, this makes it easier to add further cleaning steps above.\n\nprocesseddata &lt;- d4\n\n\n\nSave data\nFinally, we save the clean data as RDS file. I suggest you save your processed and cleaned data as RDS or RDA/Rdata files. This preserves coding like factors, characters, numeric, etc. If you save as CSV, that information would get lost. However, CSV is better for sharing with others since it’s plain text. If you do CSV, you might want to write down somewhere what each variable is.\nSee here for some suggestions on how to store your processed data: http://www.sthda.com/english/wiki/saving-data-into-r-data-format-rds-and-rdata\n\nsave_data_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"processed-data\",\"processeddata.rds\")\nsaveRDS(processeddata, file = save_data_location)\n\nNote the use of the here package and here command to specify a path relative to the main project directory, that is the folder that contains the .Rproj file. Always use this approach instead of hard-coding file paths that only exist on your computer.\n\n\nNotes\nRemoving anyone observation with “faulty” or missing data is one approach. It’s often not the best. based on your question and your analysis approach, you might want to do cleaning differently (e.g. keep observations with some missing information)."
  },
  {
    "objectID": "starter-analysis-exercise/code/readme.html",
    "href": "starter-analysis-exercise/code/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "Place your various R or Quarto files in the appropriate folders.\nYou can either have fewer large scripts, or multiple scripts that do only specific actions. Those can be R or Quarto files. In either case, document the scripts and what goes on in them so well that someone else (including future you) can easily figure out what is happening.\nThe scripts should load the appropriate data (e.g. raw or processed), perform actions, and save results (e.g. processed data, figures, computed values) in the appropriate folders. Document somewhere what inputs each script takes and where output is placed.\nIf scripts need to be run in a specific order, document this. Either as comments in the script, or in a separate text file such as this readme file. Ideally of course in both locations.\nDepending on your specific project, you might want to have further folders/sub-folders."
  },
  {
    "objectID": "starter-analysis-exercise/data/readme.html",
    "href": "starter-analysis-exercise/data/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "The folders inside this folder should contain all data at various stages.\nThis data is being loaded/manipulated/changed/saved with code from the code folders.\nYou should place the raw data in the raw_data folder and not edit it. Ever!\nIdeally, load the raw data into R and do all changes there with code, so everything is automatically reproducible and documented.\nSometimes, you need to edit the files in the format you got. For instance, Excel files are sometimes so poorly formatted that it’s close to impossible to read them into R, or the persons you got the data from used color to code some information, which of course won’t import into R. In those cases, you might have to make modifications in a software other than R. If you need to make edits in whatever format you got the data (e.g. Excel), make a copy and place those copies in a separate folder, AND ONLY EDIT THOSE COPIES. Also, write down somewhere the edits you made.\nAdd as many sub-folders as suitable. If you only have a single processing step, one sub-folder for processed data is enough. If you have multiple stages of cleaning and processing, additional sub-folders might be useful. Adjust based on the complexity of your project.\nI suggest you save your processed and cleaned data as RDS or RDA/Rdata files. This preserves coding like factors, characters, numeric, etc. If you save as CSV, that information would get lost. However, CSV is better for sharing with others since it’s plain text. If you do CSV, you might want to write down somewhere what each variable is.\nSee here for some suggestions on how to store your processed data:\nhttp://www.sthda.com/english/wiki/saving-data-into-r-data-format-rds-and-rdata"
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "",
    "text": "The structure below is one possible setup for a data analysis project (including the course project). For a manuscript, adjust as needed. You don’t need to have exactly these sections, but the content covering those sections should be addressed.\nThis uses MS Word as output format. See here for more information. You can switch to other formats, like html or pdf. See the Quarto documentation for other formats."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#general-background-information",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#general-background-information",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "2.1 General Background Information",
    "text": "2.1 General Background Information\nProvide enough background on your topic that others can understand the why and how of your analysis"
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#description-of-data-and-data-source",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#description-of-data-and-data-source",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "2.2 Description of data and data source",
    "text": "2.2 Description of data and data source\nThe data contains a combination of numeric and categorical data related to people. There are four columns, these look into height, gender, minutes of daily exercise, and star/zodiac sign."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#questionshypotheses-to-be-addressed",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#questionshypotheses-to-be-addressed",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "2.3 Questions/Hypotheses to be addressed",
    "text": "2.3 Questions/Hypotheses to be addressed\nState the research questions you plan to answer with this analysis.\nTo cite other work (important everywhere, but likely happens first in introduction), make sure your references are in the bibtex file specified in the YAML header above (here dataanalysis_template_references.bib) and have the right bibtex key. Then you can include like this:\nExamples of reproducible research projects can for instance be found in (McKay, Ebell, Billings, et al., 2020; McKay, Ebell, Dale, Shen, & Handel, 2020)"
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#data-aquisition",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#data-aquisition",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "3.1 Data aquisition",
    "text": "3.1 Data aquisition\nAs applicable, explain where and how you got the data. If you directly import the data from an online source, you can combine this section with the next."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#data-import-and-cleaning",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#data-import-and-cleaning",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "3.2 Data import and cleaning",
    "text": "3.2 Data import and cleaning\nWrite code that reads in the file and cleans it so it’s ready for analysis. Since this will be fairly long code for most datasets, it might be a good idea to have it in one or several R scripts. If that is the case, explain here briefly what kind of cleaning/processing you do, and provide more details and well documented code somewhere (e.g. as supplement in a paper). All materials, including files that contain code, should be commented well so everyone can follow along."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#statistical-analysis",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#statistical-analysis",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "3.3 Statistical analysis",
    "text": "3.3 Statistical analysis\nExplain anything related to your statistical analyses."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#exploratorydescriptive-analysis",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#exploratorydescriptive-analysis",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "4.1 Exploratory/Descriptive analysis",
    "text": "4.1 Exploratory/Descriptive analysis\nUse a combination of text/tables/figures to explore and describe your data. Show the most important descriptive results here. Additional ones should go in the supplement. Even more can be in the R and Quarto files that are part of your project.\nTable 1 shows a summary of the data.\nNote the loading of the data providing a relative path using the ../../ notation. (Two dots means a folder up). You never want to specify an absolute path like C:\\ahandel\\myproject\\results\\ because if you share this with someone, it won’t work for them since they don’t have that path. You can also use the here R package to create paths. See examples of that below. I recommend the here package, but I’m showing the other approach here just in case you encounter it.\n\n\n\n\nTable 1: Data summary table.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_type\nskim_variable\nn_missing\ncomplete_rate\ncharacter.min\ncharacter.max\ncharacter.empty\ncharacter.n_unique\ncharacter.whitespace\nfactor.ordered\nfactor.n_unique\nfactor.top_counts\nnumeric.mean\nnumeric.sd\nnumeric.p0\nnumeric.p25\nnumeric.p50\nnumeric.p75\nnumeric.p100\nnumeric.hist\n\n\n\n\ncharacter\nStar sign\n0\n1\n5\n9\n0\n7\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nfactor\nGender\n0\n1\nNA\nNA\nNA\nNA\nNA\nFALSE\n3\nM: 4, F: 3, O: 2\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nnumeric\nHeight\n0\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n165.66667\n15.976545\n133\n156\n166\n178\n183\n▂▁▃▃▇\n\n\nnumeric\nWeight\n0\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n70.11111\n21.245261\n45\n55\n70\n80\n110\n▇▂▃▂▂\n\n\nnumeric\nDaily Exercise minutes\n0\n1\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n5.00000\n2.738613\n1\n3\n5\n7\n9\n▇▇▃▇▇"
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#basic-statistical-analysis",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#basic-statistical-analysis",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "4.2 Basic statistical analysis",
    "text": "4.2 Basic statistical analysis\nTo get some further insight into your data, if reasonable you could compute simple statistics (e.g. simple models with 1 predictor) to look for associations between your outcome(s) and each individual predictor variable. Though note that unless you pre-specified the outcome and main exposure, any “p&lt;0.05 means statistical significance” interpretation is not valid.\nFigure 1 shows a scatterplot figure produced by one of the R scripts.\n\n\n\n\n\n\n\n\nFigure 1: Height and weight stratified by gender.\n\n\n\n\n\nFigure 2 shows a scatterplot figure evaluating weight and daily exercise minutes as produced by one of the R scripts.\n\n\n\n\n\n\n\n\nFigure 2: Weight and daily exercise minutes.\n\n\n\n\n\nThe figure seems to demonstrate a negative correlation between daily exercise and weight, as daily exercise minutes increase, weight decreases.\nFigure 3 shows a boxplot figure evaluating star sign and height as produced by one of the R scripts.\n\n\n\n\n\n\n\n\nFigure 3: Star sign and height.\n\n\n\n\n\nThe box plot does not indicate much information regarding a relationship between star (zodiac) sign and height, and this is likely because there are too few data points to evaluate this effectively. We do see that most participants (except for one) were over 155cm in height and that Virgo was the most common star sign in the dataset."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#full-analysis",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#full-analysis",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "4.3 Full analysis",
    "text": "4.3 Full analysis\nUse one or several suitable statistical/machine learning methods to analyze your data and to produce meaningful figures, tables, etc. This might again be code that is best placed in one or several separate R scripts that need to be well documented. You want the code to produce figures and data ready for display as tables, and save those. Then you load them here.\nExample Table 2 shows a summary of a linear model fit.\n\n\n\n\nTable 2: Linear model fit table.\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n149.2726967\n23.3823360\n6.3839942\n0.0013962\n\n\nWeight\n0.2623972\n0.3512436\n0.7470519\n0.4886517\n\n\nGenderM\n-2.1244913\n15.5488953\n-0.1366329\n0.8966520\n\n\nGenderO\n-4.7644739\n19.0114155\n-0.2506112\n0.8120871\n\n\n\n\n\n\n\n\nExample Table 3 shows a summary of a linear model fit for height as an outcome with daily exercise minutes and star sign as predictors.\n\n\n\n\nTable 3: Linear model fit table.\n\n\n\n\n\n\n\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n139.341463\n6.0014622\n23.217919\n0.0274024\n\n\nDaily Exercise minutes\n-1.268293\n0.4146341\n-3.058823\n0.2011529\n\n\nStar signAries\n51.451220\n8.2693269\n6.221936\n0.1014510\n\n\nStar signCapricorn\n16.658537\n8.2302528\n2.024061\n0.2921329\n\n\nStar signLibra\n66.024390\n10.1055112\n6.533503\n0.0966889\n\n\nStar signPisces\n52.536585\n8.0079155\n6.560582\n0.0962959\n\n\nStar signScorpio\n102.756098\n24.1557754\n4.253894\n0.1469870\n\n\nStar signVirgo\n55.195122\n10.0115044\n5.513170\n0.1142306\n\n\n\n\n\n\n\n\nThere does not seem to be a statistically significant association between these factors."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#summary-and-interpretation",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#summary-and-interpretation",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "5.1 Summary and Interpretation",
    "text": "5.1 Summary and Interpretation\nSummarize what you did, what you found and what it means."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#strengths-and-limitations",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#strengths-and-limitations",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "5.2 Strengths and Limitations",
    "text": "5.2 Strengths and Limitations\nDiscuss what you perceive as strengths and limitations of your analysis."
  },
  {
    "objectID": "starter-analysis-exercise/products/report/starter-analysis-report.html#conclusions",
    "href": "starter-analysis-exercise/products/report/starter-analysis-report.html#conclusions",
    "title": "Manuscript/Report Template for a Data Analysis Project",
    "section": "5.3 Conclusions",
    "text": "5.3 Conclusions\nWhat are the main take-home messages?\nInclude citations in your Rmd file using bibtex, the list of references will automatically be placed at the end\nThis paper (Leek & Peng, 2015) discusses types of analyses.\nThese papers (McKay, Ebell, Billings, et al., 2020; McKay, Ebell, Dale, et al., 2020) are good examples of papers published using a fully reproducible setup similar to the one shown in this template.\nNote that this cited reference will show up at the end of the document, the reference formatting is determined by the CSL file specified in the YAML header. Many more style files for almost any journal are available. You also specify the location of your bibtex reference file in the YAML. You can call your reference file anything you like, I just used the generic word references.bib but giving it a more descriptive name is probably better."
  },
  {
    "objectID": "starter-analysis-exercise/results/readme.html",
    "href": "starter-analysis-exercise/results/readme.html",
    "title": "YOURNAME Data Analysis Portfolio",
    "section": "",
    "text": "This folder contains results produced by the code, such as figures and tables.\nDepending on the size and type of your project, you can either place it all in a single folder or create sub-folders. For instance you could create a folder for figures, another for tables. Or you could create a sub-folder for dataset 1, another for dataset 2. Or you could have a subfolder for exploratory analysis, another for final analysis. The options are endless, choose whatever makes sense for your project. For this template, there is just a a single folder, but having sub-folders is often a good idea."
  },
  {
    "objectID": "starter-analysis-exercise/code/processing-code/processingfile2.html",
    "href": "starter-analysis-exercise/code/processing-code/processingfile2.html",
    "title": "An example cleaning script",
    "section": "",
    "text": "Processing script\nThis Quarto file contains a mix of code and explanatory text to illustrate a simple data processing/cleaning setup.\n\n\nSetup\nLoad needed packages. make sure they are installed.\n\nlibrary(readxl) #for loading Excel files\nlibrary(dplyr) #for data processing/cleaning\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr) #for data processing/cleaning\nlibrary(skimr) #for nice visualization of data \n\nWarning: package 'skimr' was built under R version 4.4.2\n\nlibrary(here) #to set paths\n\nhere() starts at E:/Shaun Documents/Work/Work/UGA/PhD/MADA/ShaunvandenHurk-MADA-portfolio\n\n\n\n\nData loading\nNote that for functions that come from specific packages (instead of base R), I often specify both package and function like so: package::function() that’s not required one could just call the function specifying the package makes it clearer where the function “lives”, but it adds typing. You can do it either way.\n\n# path to data\n# note the use of the here() package and not absolute paths\ndata_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"raw-data\",\"exampledata2.xlsx\")\nrawdata &lt;- readxl::read_excel(data_location)\n\n\n\nCheck data\nFirst we can look at the codebook\n\ncodebook &lt;- readxl::read_excel(data_location, sheet =\"Codebook\")\nprint(codebook)\n\n# A tibble: 5 × 3\n  `Variable Name`        `Variable Definition`                 `Allowed Values` \n  &lt;chr&gt;                  &lt;chr&gt;                                 &lt;chr&gt;            \n1 Height                 height in centimeters                 numeric value &gt;0…\n2 Weight                 weight in kilograms                   numeric value &gt;0…\n3 Gender                 identified gender (male/female/other) M/F/O/NA         \n4 Daily exercise minutes Average minutes exercised per day     numeric value &gt;o…\n5 Star sign              Zodiac sign based on birth month      Aries/Taurus/Gem…\n\n\nSeveral ways of looking at the data\n\ndplyr::glimpse(rawdata)\n\nRows: 14\nColumns: 5\n$ Height                   &lt;chr&gt; \"180\", \"175\", \"sixty\", \"178\", \"192\", \"6\", \"15…\n$ Weight                   &lt;dbl&gt; 80, 70, 60, 76, 90, 55, 90, 110, 54, 7000, NA…\n$ Gender                   &lt;chr&gt; \"M\", \"O\", \"F\", \"F\", \"NA\", \"F\", \"O\", \"M\", \"N\",…\n$ `Daily Exercise minutes` &lt;chr&gt; \"20\", \"10\", \"35\", \"15\", \"33\", \"7\", \"0\", \"22\",…\n$ `Star sign`              &lt;chr&gt; \"Libra\", \"Aries\", \"Taurus\", \"Virgo\", \"Libra\",…\n\nsummary(rawdata)\n\n    Height              Weight          Gender          Daily Exercise minutes\n Length:14          Min.   :  45.0   Length:14          Length:14             \n Class :character   1st Qu.:  55.0   Class :character   Class :character      \n Mode  :character   Median :  70.0   Mode  :character   Mode  :character      \n                    Mean   : 602.7                                            \n                    3rd Qu.:  90.0                                            \n                    Max.   :7000.0                                            \n                    NA's   :1                                                 \n  Star sign        \n Length:14         \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n                   \n\nhead(rawdata)\n\n# A tibble: 6 × 5\n  Height Weight Gender `Daily Exercise minutes` `Star sign`\n  &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;                    &lt;chr&gt;      \n1 180        80 M      20                       Libra      \n2 175        70 O      10                       Aries      \n3 sixty      60 F      35                       Taurus     \n4 178        76 F      15                       Virgo      \n5 192        90 NA     33                       Libra      \n6 6          55 F      7                        Pisces     \n\nskimr::skim(rawdata)\n\n\nData summary\n\n\nName\nrawdata\n\n\nNumber of rows\n14\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n4\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nHeight\n0\n1\n1\n5\n0\n13\n0\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n14\n0\n\n\nStar sign\n0\n1\n3\n11\n0\n11\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nWeight\n1\n0.93\n602.69\n1922.25\n45\n55\n70\n90\n7000\n▇▁▁▁▁\n\n\n\n\n\n\n\nCleaning\nBy inspecting the data as done above, we find some problems that need addressing:\nFirst, there is an entry for height which says “sixty” instead of a number. Does that mean it should be a numeric 60? It somehow doesn’t make sense since the weight is 60kg, which can’t happen for a 60cm person (a baby). Since we don’t know how to fix this, we might decide to remove the person. This “sixty” entry also turned all Height entries into characters instead of numeric. That conversion to character also means that our summary function isn’t very meaningful. So let’s fix that first.\n\nd1 &lt;- rawdata %&gt;% dplyr::filter( Height != \"sixty\" ) %&gt;% \n                  dplyr::mutate(Height = as.numeric(Height))\nskimr::skim(d1)\n\n\nData summary\n\n\nName\nd1\n\n\nNumber of rows\n13\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n13\n0\n\n\nStar sign\n0\n1\n3\n11\n0\n10\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1.00\n151.62\n46.46\n6\n154.00\n165\n175\n192\n▁▁▁▂▇\n\n\nWeight\n1\n0.92\n647.92\n2000.48\n45\n54.75\n73\n90\n7000\n▇▁▁▁▁\n\n\n\n\nhist(d1$Height)\n\n\n\n\n\n\n\n\nNow we see that there is one person with a height of 6. That could be a typo, or someone mistakenly entered their height in feet. Since we unfortunately don’t know, we might need to remove this person, which we’ll do here.\n\nd2 &lt;- d1 %&gt;% dplyr::mutate( Height = replace(Height, Height==\"6\",round(6*30.48,0)) )\nskimr::skim(d2)\n\n\nData summary\n\n\nName\nd2\n\n\nNumber of rows\n13\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n13\n0\n\n\nStar sign\n0\n1\n3\n11\n0\n10\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1.00\n165.23\n16.52\n133\n155.00\n166\n178\n192\n▂▇▆▆▃\n\n\nWeight\n1\n0.92\n647.92\n2000.48\n45\n54.75\n73\n90\n7000\n▇▁▁▁▁\n\n\n\n\n\nHeight values seem ok now.\nNow let’s look at the Weight variable. There is a person with weight of 7000, which is impossible, and one person with missing weight. To be able to analyze the data, we’ll remove those individuals as well.\n\nd3 &lt;- d2 %&gt;%  dplyr::filter(Weight != 7000) %&gt;% tidyr::drop_na()\nskimr::skim(d3)\n\n\nData summary\n\n\nName\nd3\n\n\nNumber of rows\n11\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nGender\n0\n1\n1\n2\n0\n5\n0\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n11\n0\n\n\nStar sign\n0\n1\n5\n9\n0\n8\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n167.09\n16.81\n133\n155.5\n166\n179\n192\n▂▇▅▇▅\n\n\nWeight\n0\n1\n70.45\n20.65\n45\n54.5\n70\n85\n110\n▇▂▃▃▂\n\n\n\n\nsummary(d3)\n\n     Height          Weight          Gender          Daily Exercise minutes\n Min.   :133.0   Min.   : 45.00   Length:11          Length:11             \n 1st Qu.:155.5   1st Qu.: 54.50   Class :character   Class :character      \n Median :166.0   Median : 70.00   Mode  :character   Mode  :character      \n Mean   :167.1   Mean   : 70.45                                            \n 3rd Qu.:179.0   3rd Qu.: 85.00                                            \n Max.   :192.0   Max.   :110.00                                            \n  Star sign        \n Length:11         \n Class :character  \n Mode  :character  \n                   \n                   \n                   \n\nclass(d3$Gender)\n\n[1] \"character\"\n\n\nNow checking the Gender variable. Gender should be a categorical/factor variable but is loaded as character. We can fix that with simple base R code to mix things up.\n\nd3$Gender &lt;- as.factor(d3$Gender)  \nskimr::skim(d3)\n\n\nData summary\n\n\nName\nd3\n\n\nNumber of rows\n11\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\nfactor\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n11\n0\n\n\nStar sign\n0\n1\n5\n9\n0\n8\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nGender\n0\n1\nFALSE\n5\nM: 4, F: 3, O: 2, N: 1\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n167.09\n16.81\n133\n155.5\n166\n179\n192\n▂▇▅▇▅\n\n\nWeight\n0\n1\n70.45\n20.65\n45\n54.5\n70\n85\n110\n▇▂▃▃▂\n\n\n\n\n\nNow we see that there is another NA, but it’s not NA from R, instead it was loaded as character and is now considered as a category. Well proceed here by removing that individual with that NA entry. Since this keeps an empty category for Gender, I’m also using droplevels() to get rid of it.\n\nd4 &lt;- d3 %&gt;% dplyr::filter( !(Gender %in% c(\"NA\",\"N\")) ) %&gt;% droplevels()\nskimr::skim(d4)\n\n\nData summary\n\n\nName\nd4\n\n\nNumber of rows\n9\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n2\n\n\nfactor\n1\n\n\nnumeric\n2\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nDaily Exercise minutes\n0\n1\n1\n2\n0\n9\n0\n\n\nStar sign\n0\n1\n5\n9\n0\n7\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nGender\n0\n1\nFALSE\n3\nM: 4, F: 3, O: 2\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n165.67\n15.98\n133\n156\n166\n178\n183\n▂▁▃▃▇\n\n\nWeight\n0\n1\n70.11\n21.25\n45\n55\n70\n80\n110\n▇▂▃▂▂\n\n\n\n\n\nM.Y: The column Daily Exercise minutes is read as character by R. Here I will convert it back to integer.\n\nd4$`Daily Exercise minutes` &lt;- as.integer(d4$`Daily Exercise minutes`)  \nskimr::skim(d4)\n\n\nData summary\n\n\nName\nd4\n\n\nNumber of rows\n9\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nfactor\n1\n\n\nnumeric\n3\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nStar sign\n0\n1\n5\n9\n0\n7\n0\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nGender\n0\n1\nFALSE\n3\nM: 4, F: 3, O: 2\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nHeight\n0\n1\n165.67\n15.98\n133\n156\n166\n178\n183\n▂▁▃▃▇\n\n\nWeight\n0\n1\n70.11\n21.25\n45\n55\n70\n80\n110\n▇▂▃▂▂\n\n\nDaily Exercise minutes\n0\n1\n18.78\n18.06\n0\n7\n15\n22\n60\n▇▆▂▁▂\n\n\n\n\nclass(d4$`Daily Exercise minutes`)\n\n[1] \"integer\"\n\n\nAll done, data is clean now.\nLet’s assign at the end to some final variable, this makes it easier to add further cleaning steps above.\n\nprocesseddata &lt;- d4\n\n\n\nSave data\nFinally, we save the clean data as RDS file. I suggest you save your processed and cleaned data as RDS or RDA/Rdata files. This preserves coding like factors, characters, numeric, etc. If you save as CSV, that information would get lost. However, CSV is better for sharing with others since it’s plain text. If you do CSV, you might want to write down somewhere what each variable is.\nSee here for some suggestions on how to store your processed data: http://www.sthda.com/english/wiki/saving-data-into-r-data-format-rds-and-rdata\n\nsave_data_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"processed-data\",\"processeddata2.rds\")\nsaveRDS(processeddata, file = save_data_location)\n\nNote the use of the here package and here command to specify a path relative to the main project directory, that is the folder that contains the .Rproj file. Always use this approach instead of hard-coding file paths that only exist on your computer.\n\n\nNotes\nRemoving anyone observation with “faulty” or missing data is one approach. It’s often not the best. based on your question and your analysis approach, you might want to do cleaning differently (e.g. keep observations with some missing information)."
  },
  {
    "objectID": "starter-analysis-exercise/code/eda-code/eda2.html",
    "href": "starter-analysis-exercise/code/eda-code/eda2.html",
    "title": "An example exploratory analysis script",
    "section": "",
    "text": "This Quarto file loads the cleaned data and does some exploring.\nI’m only showing it the way where the code is included in the file. As described in the processing_code materials, I currently prefer the approach of having R code in a separate file and pulling it in.\nBut I already had this written and haven’t yet re-done it that way. Feel free to redo and send a pull request on GitHub :)\nAgain, it is largely a matter of preference and what makes the most sense to decide if one wants to have code inside Quarto files, or as separate R files. And sometimes, an R script with enough comments is good enough and one doesn’t need a Quarto file.\nAlso note that while here I split cleaning and exploring, this is iterative. You saw that as part of the processing, we already had to explore the data somewhat to understand how to clean it. In general, as you explore, you’ll find things that need cleaning. As you clean, you can explore more. Therefore, at times it might make more sense to combine the cleaning and exploring code parts into a single R or Quarto file. Or split things in any other logical way.\nAs part of the exploratory analysis, you should produce plots or tables or other summary quantities for the most interesting/important quantities in your data. Depending on the total number of variables in your dataset, explore all or some of the others. Figures produced here might be histograms or density plots, correlation plots, etc. Tables might summarize your data.\nStart by exploring one variable at a time. Then continue by creating plots or tables of the outcome(s) of interest and the predictor/exposure/input variables you are most interested in. If your dataset is small, you can do that for all variables.\nPlots produced here can be scatterplots, boxplots, violinplots, etc. Tables can be simple 2x2 tables or larger ones.\n\nSetup\n\n#load needed packages. make sure they are installed.\nlibrary(here) #for data loading/saving\n\nhere() starts at E:/Shaun Documents/Work/Work/UGA/PhD/MADA/ShaunvandenHurk-MADA-portfolio\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(skimr)\n\nWarning: package 'skimr' was built under R version 4.4.2\n\nlibrary(ggplot2)\n\nLoad the data.\n\n#Path to data. Note the use of the here() package and not absolute paths\ndata_location &lt;- here::here(\"starter-analysis-exercise\",\"data\",\"processed-data\",\"processeddata2.rds\")\n#load data\nmydata &lt;- readRDS(data_location)\n\n\n\nData exploration through tables\nShowing a bit of code to produce and save a summary table.\n\nsummary_df = skimr::skim(mydata)\nprint(summary_df)\n\n── Data Summary ────────────────────────\n                           Values\nName                       mydata\nNumber of rows             9     \nNumber of columns          5     \n_______________________          \nColumn type frequency:           \n  character                1     \n  factor                   1     \n  numeric                  3     \n________________________         \nGroup variables            None  \n\n── Variable type: character ────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate min max empty n_unique whitespace\n1 Star sign             0             1   5   9     0        7          0\n\n── Variable type: factor ───────────────────────────────────────────────────────\n  skim_variable n_missing complete_rate ordered n_unique top_counts      \n1 Gender                0             1 FALSE          3 M: 4, F: 3, O: 2\n\n── Variable type: numeric ──────────────────────────────────────────────────────\n  skim_variable          n_missing complete_rate  mean   sd  p0 p25 p50 p75 p100\n1 Height                         0             1 166.  16.0 133 156 166 178  183\n2 Weight                         0             1  70.1 21.2  45  55  70  80  110\n3 Daily Exercise minutes         0             1  18.8 18.1   0   7  15  22   60\n  hist \n1 ▂▁▃▃▇\n2 ▇▂▃▂▂\n3 ▇▆▂▁▂\n\n# save to file\nsummarytable_file = here(\"starter-analysis-exercise\",\"results\", \"tables-files\", \"summarytable.rds\")\nsaveRDS(summary_df, file = summarytable_file)\n\nWe are saving the results to the results/tables folder. Structure the folders inside results such that they make sense for your specific analysis. Provide enough documentation that someone can understand what you are doing and what goes where. readme.md files inside each folder are a good idea.\n\n\nData exploration through figures\nHistogram plots for the continuous outcomes.\nHeight first.\n\np1 &lt;- mydata %&gt;% ggplot(aes(x=Height)) + geom_histogram() \nplot(p1)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-distribution.png\")\nggsave(filename = figure_file, plot=p1) \n\nSaving 7 x 5 in image\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nNow weights.\n\np2 &lt;- mydata %&gt;% ggplot(aes(x=Weight)) + geom_histogram() \nplot(p2)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"weight-distribution.png\")\nggsave(filename = figure_file, plot=p2) \n\nSaving 7 x 5 in image\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nNow height as function of weight.\n\np3 &lt;- mydata %&gt;% ggplot(aes(x=Height, y=Weight)) + geom_point() + geom_smooth(method='lm')\nplot(p3)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-weight.png\")\nggsave(filename = figure_file, plot=p3) \n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\nOnce more height as function of weight, stratified by gender. Note that there is so little data, it’s a bit silly. But we’ll plot it anyway.\n\np4 &lt;- mydata %&gt;% ggplot(aes(x=Height, y=Weight, color = Gender)) + geom_point() + geom_smooth(method='lm')\nplot(p4)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning in qt((1 - level)/2, df): NaNs produced\n\n\nWarning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning\n-Inf\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"height-weight-stratified.png\")\nggsave(filename = figure_file, plot=p4) \n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning in qt((1 - level)/2, df): NaNs produced\nWarning in qt((1 - level)/2, df): no non-missing arguments to max; returning\n-Inf\n\n\nM.Y: Here is the scattter plot with weight on the x-axis and daily exercise minutes on the y-axis.\n\np5 &lt;- mydata %&gt;% ggplot(aes(x=Weight, y= `Daily Exercise minutes`)) + geom_point() + geom_smooth(method='lm')\nplot(p5)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"weight-daily exercise minutes.png\")\nggsave(filename = figure_file, plot=p5) \n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\nM.Y: This is a Boxplot with star sign plotted against Height with star sign on the x-axis and height on the y-axis.\n\np6 &lt;- mydata %&gt;% ggplot(aes(x=`Star sign`, y= Height)) + geom_boxplot() + geom_smooth(method='lm')\nplot(p6)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nfigure_file = here(\"starter-analysis-exercise\",\"results\",\"figures\",\"star sign-height.png\")\nggsave(filename = figure_file, plot=p6)\n\nSaving 7 x 5 in image\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\nNotes\nFor your own explorations, tables and figures can be “quick and dirty”. As long as you can see what’s going on, there is no need to polish them. That’s in contrast to figures you’ll produce for your final products (paper, report, presentation, website, etc.). Those should look as nice, polished and easy to understand as possible."
  },
  {
    "objectID": "data-exercise/data-exercise.qmd.html",
    "href": "data-exercise/data-exercise.qmd.html",
    "title": "Data Exercise",
    "section": "",
    "text": "Load the required packages:\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\nlibrary(patchwork)\n\nWe are looking to generate a synthetic dataset that evaluates the relationship between vaccination status and history of disease within and to compare thi between different cattle breeds (beef vs dairy breeds). We are going to generate a dataset with 330 individual animals from the age of 6 months to 3 years. Since females are found in higher numbers in cattle production systems we are generating the dataset with 70% females (30% males). We are looking at vaccination as yes or no without specifying specific diseases or vaccines. We will generate columns for history of respiratory disease and history of diarrheal disease (either yes or no).\nWe first need to set the seed to that our random generation of variables is repeatable\n\nset.seed(123)\n\nWe will start to generate our dataset as described:\n\n#Start by assigning the number of cattle (observations)\nn &lt;- 330\n\n#We will assign ages to the animals between 6 months and 3 years (18 months). Age can only be integers (whole numbers in months)\nage &lt;- sample(6:36, n, replace = TRUE)\n\n#we will assign the sex with 70% as females as mentioned\nsex &lt;- sample(c(\"Female\", \"Male\"), n, replace= TRUE, prob = c(0.7, 0.3))\n\n#We will assign the cattle breeds with an equal split using Angus as the beef breed and Holstein as the dairy breed\nbreed &lt;- sample(c(\"Angus\", \"Holstein\"), n, replace = TRUE)\n\n#We will classify these breeds to help with further interpretation and analysis downstream. This would be particularly helpful if we had multiple different breeds for each category in the dataset. We will use the if else function in R.\nbreed_type &lt;- ifelse(breed==\"Angus\", \"Beef\", \"Dairy\")\n\n#Double check that our breed data worked\nView(breed_type)\nprint(breed_type)\n\n  [1] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\"\n [10] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\"\n [19] \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n [28] \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\" \n [37] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n [46] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n [55] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n [64] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\"\n [73] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n [82] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n [91] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n[100] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[109] \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\"\n[118] \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[127] \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[136] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\"\n[145] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\" \n[154] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n[163] \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\" \n[172] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[181] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n[190] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\"\n[199] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[208] \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n[217] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[226] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[235] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[244] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\" \n[253] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n[262] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n[271] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[280] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[289] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[298] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[307] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\" \n[316] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\" \n[325] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\" \n\n\nWe must now generate the vaccination and disease history data before we can produce our dataframe.\nWe will make the incidence of respiratory disease slightly higher in beef animals than in dairy animals, and the opposite (slightly higher incidence of diarrheal disease in dairy animals than beef animals).\n\n#We will assign vaccination status (yes/no) randomly\nvaccination &lt;- sample (c(\"Yes\",\"No\"), n, replace = TRUE)\n\n#Assign history of diseases based on our assumptions\n#Start by generating a vector for the history of disease - diarrhea or respiratory\nhistory_diarrhea &lt;- rep(\"No\", n)\nhistory_respiratory &lt;- rep(\"No\", n)\n\n#Using a loop function to change the incidence of the different diseases in beef and dairy breeds as mentioned above\n#I had chatGPT help me to generate the code for this\n\nfor (i in 1:n) {\n  if (breed[i] == \"Holstein\") {\n    if (runif(1) &lt; 0.35) history_diarrhea[i] &lt;- \"Yes\"\n    if (runif(1) &lt; 0.25) history_respiratory[i] &lt;- \"Yes\"\n  } else {\n    if (runif(1) &lt; 0.30) history_diarrhea[i] &lt;- \"Yes\"\n    if (runif(1) &lt; 0.35) history_respiratory[i] &lt;- \"Yes\"\n  }\n}\n\n#We are applying the conditions above if the breed is Holstein and if it is not then we apply the conditions below the else.\n\n\n#We now want to make sure that animals that are not vaccinated have a higher incidence of disease (vaccination is correlated with freedom from or reduced incidence of disease)\n#We will use another loop funciton for this.\n# I had ChatGPT assist with this code for the loop\n\nfor (i in 1:n) {\n  if (vaccination[i] == \"No\" && history_diarrhea[i] == \"No\" && history_respiratory[i] == \"No\") {\n    if (runif(1) &lt; 0.5) {\n      history_diarrhea[i] &lt;- \"Yes\"\n    } else {\n      history_respiratory[i] &lt;- \"Yes\"\n    }\n  }\n}\n\nWe want to make four different categories that will help us to evaluate the different disease states that are possible. Different states are “Respiratory disease”, “Diarrhea disease”, “Both diseases”, and “No disease”. We will create an additional column for this to make it easier for us to call back to this for later models and plots. This could have been done as a second or separate dataframe without including it in the main datframe if we preferred. For ease it has been done now for less separate steps.\nCreate disease history classification:\n\ndisease_history &lt;- case_when(history_respiratory == \"Yes\" & history_diarrhea == \"No\" ~ \"Respiratory Only\", history_respiratory == \"No\" & history_diarrhea == \"Yes\" ~ \"Diarrhea Only\", history_respiratory == \"yes\" & history_diarrhea == \"Yes\" ~ \"Both Diseases\", TRUE ~ \"No Disease\")\n\nWe then create a dataframe with all of these variables that we have assigned. We will call this cattle_data. We change the font of the column names to help use define searches and functions more directly.\n\ncattle_data &lt;- data.frame(Age = age, Sex = sex, Breed = breed, Breed_Type = breed_type, Vaccination = vaccination, History_Diarrhea = history_diarrhea, History_Respiratory = history_respiratory, Disease_History = factor(disease_history, levels = c(\"No Disease\", \"Respiratory Only\", \"Diarrhea Only\", \"Both Diseases\")))\n\nsummary(cattle_data)\n\n      Age            Sex               Breed            Breed_Type       \n Min.   : 6.00   Length:330         Length:330         Length:330        \n 1st Qu.:14.00   Class :character   Class :character   Class :character  \n Median :22.00   Mode  :character   Mode  :character   Mode  :character  \n Mean   :21.84                                                           \n 3rd Qu.:30.00                                                           \n Max.   :36.00                                                           \n Vaccination        History_Diarrhea   History_Respiratory\n Length:330         Length:330         Length:330         \n Class :character   Class :character   Class :character   \n Mode  :character   Mode  :character   Mode  :character   \n                                                          \n                                                          \n                                                          \n         Disease_History\n No Disease      :111   \n Respiratory Only:102   \n Diarrhea Only   :117   \n Both Diseases   :  0   \n                        \n                        \n\nprint(cattle_data)\n\n    Age    Sex    Breed Breed_Type Vaccination History_Diarrhea\n1    36 Female    Angus       Beef          No              Yes\n2    20 Female    Angus       Beef          No               No\n3    24 Female    Angus       Beef         Yes              Yes\n4    19 Female Holstein      Dairy          No              Yes\n5     8 Female Holstein      Dairy         Yes               No\n6    15   Male Holstein      Dairy         Yes               No\n7    23 Female Holstein      Dairy          No              Yes\n8    27 Female    Angus       Beef          No               No\n9    16 Female Holstein      Dairy         Yes               No\n10   10 Female    Angus       Beef         Yes               No\n11   25   Male    Angus       Beef          No              Yes\n12   19 Female    Angus       Beef          No              Yes\n13   27 Female Holstein      Dairy         Yes               No\n14   30 Female    Angus       Beef          No               No\n15   31   Male Holstein      Dairy         Yes               No\n16   32 Female Holstein      Dairy         Yes              Yes\n17   10 Female    Angus       Beef         Yes               No\n18   24 Female Holstein      Dairy          No              Yes\n19   32   Male    Angus       Beef          No               No\n20   30 Female Holstein      Dairy         Yes              Yes\n21   33 Female    Angus       Beef         Yes              Yes\n22   30   Male    Angus       Beef          No              Yes\n23   14 Female Holstein      Dairy         Yes               No\n24   34 Female Holstein      Dairy          No               No\n25    8   Male Holstein      Dairy          No               No\n26   13 Female Holstein      Dairy          No              Yes\n27   31 Female Holstein      Dairy         Yes              Yes\n28   12 Female Holstein      Dairy         Yes              Yes\n29   15 Female Holstein      Dairy         Yes               No\n30   14 Female Holstein      Dairy          No              Yes\n31   35 Female    Angus       Beef          No               No\n32   24   Male    Angus       Beef          No              Yes\n33    9 Female    Angus       Beef         Yes               No\n34   19 Female Holstein      Dairy          No               No\n35   22   Male    Angus       Beef          No              Yes\n36   16   Male    Angus       Beef         Yes              Yes\n37   12 Female    Angus       Beef         Yes               No\n38   26 Female Holstein      Dairy         Yes               No\n39   17   Male Holstein      Dairy         Yes               No\n40   20 Female    Angus       Beef         Yes               No\n41   15   Male Holstein      Dairy         Yes               No\n42   18 Female    Angus       Beef         Yes              Yes\n43   12   Male Holstein      Dairy          No              Yes\n44   14 Female    Angus       Beef          No              Yes\n45   14   Male Holstein      Dairy          No              Yes\n46   15 Female Holstein      Dairy          No              Yes\n47   28 Female Holstein      Dairy          No              Yes\n48   32 Female    Angus       Beef         Yes              Yes\n49   33 Female    Angus       Beef         Yes               No\n50   26   Male Holstein      Dairy          No               No\n51   12 Female Holstein      Dairy          No              Yes\n52   26   Male Holstein      Dairy          No              Yes\n53   32   Male Holstein      Dairy         Yes               No\n54   11 Female Holstein      Dairy          No               No\n55   30 Female    Angus       Beef         Yes               No\n56    7 Female    Angus       Beef          No               No\n57   34 Female Holstein      Dairy          No              Yes\n58   10 Female    Angus       Beef          No               No\n59   13   Male Holstein      Dairy          No              Yes\n60   17   Male    Angus       Beef          No              Yes\n61   36 Female    Angus       Beef         Yes               No\n62   18   Male    Angus       Beef         Yes              Yes\n63   23 Female    Angus       Beef         Yes               No\n64    6 Female    Angus       Beef          No              Yes\n65   30 Female Holstein      Dairy          No              Yes\n66   32   Male Holstein      Dairy          No              Yes\n67   30 Female    Angus       Beef         Yes              Yes\n68   11 Female Holstein      Dairy         Yes               No\n69   26 Female    Angus       Beef         Yes              Yes\n70   20 Female    Angus       Beef          No               No\n71   14   Male    Angus       Beef         Yes              Yes\n72   20 Female Holstein      Dairy          No              Yes\n73   31 Female    Angus       Beef         Yes               No\n74   33 Female    Angus       Beef         Yes               No\n75   36 Female    Angus       Beef          No               No\n76   21   Male    Angus       Beef          No              Yes\n77   25 Female Holstein      Dairy         Yes               No\n78   35 Female    Angus       Beef         Yes              Yes\n79   11 Female Holstein      Dairy          No               No\n80   16 Female Holstein      Dairy          No               No\n81   13 Female Holstein      Dairy         Yes              Yes\n82   27 Female    Angus       Beef         Yes               No\n83   27 Female    Angus       Beef         Yes               No\n84   12   Male    Angus       Beef          No              Yes\n85   36 Female Holstein      Dairy         Yes               No\n86   21 Female Holstein      Dairy         Yes               No\n87   22 Female    Angus       Beef         Yes              Yes\n88   27 Female Holstein      Dairy         Yes               No\n89   23   Male    Angus       Beef          No               No\n90   22   Male Holstein      Dairy         Yes               No\n91    7 Female    Angus       Beef          No              Yes\n92    9 Female Holstein      Dairy         Yes              Yes\n93   18   Male Holstein      Dairy          No               No\n94   10 Female Holstein      Dairy         Yes               No\n95   27 Female Holstein      Dairy          No              Yes\n96   36 Female Holstein      Dairy          No              Yes\n97   24 Female Holstein      Dairy         Yes               No\n98   30 Female Holstein      Dairy          No              Yes\n99   25 Female Holstein      Dairy          No               No\n100  27 Female    Angus       Beef         Yes              Yes\n101  30 Female    Angus       Beef         Yes               No\n102  19   Male Holstein      Dairy         Yes               No\n103  30 Female    Angus       Beef         Yes              Yes\n104  28   Male    Angus       Beef          No              Yes\n105   8   Male Holstein      Dairy          No               No\n106  13   Male    Angus       Beef         Yes               No\n107  21 Female    Angus       Beef         Yes               No\n108  35 Female Holstein      Dairy         Yes              Yes\n109  17 Female Holstein      Dairy         Yes               No\n110  36 Female    Angus       Beef          No              Yes\n111  30 Female    Angus       Beef         Yes              Yes\n112  19 Female    Angus       Beef          No              Yes\n113  35 Female    Angus       Beef          No              Yes\n114   8 Female    Angus       Beef          No              Yes\n115  19   Male    Angus       Beef         Yes               No\n116  34   Male Holstein      Dairy          No              Yes\n117  12   Male Holstein      Dairy          No              Yes\n118   8 Female Holstein      Dairy          No              Yes\n119  28 Female Holstein      Dairy          No               No\n120  27   Male    Angus       Beef         Yes               No\n121  31 Female Holstein      Dairy          No              Yes\n122  20 Female    Angus       Beef         Yes               No\n123  26 Female Holstein      Dairy         Yes               No\n124  10 Female    Angus       Beef          No               No\n125  13 Female    Angus       Beef          No               No\n126  24 Female    Angus       Beef         Yes              Yes\n127  15 Female Holstein      Dairy         Yes              Yes\n128  23 Female Holstein      Dairy         Yes               No\n129  15   Male Holstein      Dairy         Yes               No\n130  17 Female    Angus       Beef         Yes               No\n131   7   Male    Angus       Beef         Yes               No\n132  15 Female Holstein      Dairy         Yes               No\n133  27   Male Holstein      Dairy          No              Yes\n134  36 Female    Angus       Beef          No              Yes\n135  17 Female    Angus       Beef         Yes              Yes\n136  25 Female    Angus       Beef         Yes              Yes\n137  19 Female    Angus       Beef          No              Yes\n138  22 Female    Angus       Beef         Yes              Yes\n139  35   Male    Angus       Beef         Yes              Yes\n140  19 Female    Angus       Beef         Yes               No\n141  27   Male    Angus       Beef          No               No\n142   8 Female    Angus       Beef         Yes               No\n143  13 Female    Angus       Beef          No              Yes\n144  19   Male Holstein      Dairy          No              Yes\n145  24 Female    Angus       Beef          No              Yes\n146  35 Female Holstein      Dairy          No              Yes\n147  20 Female    Angus       Beef          No              Yes\n148  29 Female Holstein      Dairy          No              Yes\n149  22   Male Holstein      Dairy          No              Yes\n150  28   Male    Angus       Beef         Yes               No\n151  16 Female Holstein      Dairy          No               No\n152  12 Female Holstein      Dairy         Yes               No\n153  34   Male    Angus       Beef         Yes               No\n154  20 Female    Angus       Beef          No              Yes\n155  28   Male Holstein      Dairy          No               No\n156  31 Female Holstein      Dairy         Yes               No\n157  11 Female    Angus       Beef          No               No\n158  19 Female Holstein      Dairy         Yes               No\n159  36   Male    Angus       Beef         Yes               No\n160  12 Female Holstein      Dairy          No              Yes\n161  32 Female Holstein      Dairy          No              Yes\n162  15 Female Holstein      Dairy         Yes               No\n163  10 Female    Angus       Beef          No               No\n164  11 Female    Angus       Beef         Yes               No\n165  21 Female Holstein      Dairy          No               No\n166  29 Female Holstein      Dairy         Yes              Yes\n167  26 Female Holstein      Dairy         Yes               No\n168  28   Male    Angus       Beef          No               No\n169  16 Female    Angus       Beef          No               No\n170   9 Female Holstein      Dairy          No              Yes\n171  17 Female    Angus       Beef          No               No\n172  19   Male Holstein      Dairy          No               No\n173  33 Female Holstein      Dairy          No               No\n174  34   Male Holstein      Dairy          No              Yes\n175  24 Female Holstein      Dairy          No              Yes\n176  30 Female    Angus       Beef          No              Yes\n177  12   Male Holstein      Dairy          No              Yes\n178  27 Female Holstein      Dairy         Yes              Yes\n179  31   Male    Angus       Beef         Yes               No\n180  14 Female    Angus       Beef         Yes               No\n181  12 Female Holstein      Dairy         Yes              Yes\n182   7 Female Holstein      Dairy         Yes               No\n183  21 Female    Angus       Beef         Yes               No\n184  18 Female    Angus       Beef         Yes               No\n185  24 Female    Angus       Beef          No              Yes\n186  29   Male    Angus       Beef          No              Yes\n187  25 Female    Angus       Beef          No               No\n188  20   Male    Angus       Beef         Yes               No\n189  12 Female    Angus       Beef         Yes               No\n190   9   Male    Angus       Beef          No               No\n191   6 Female    Angus       Beef          No              Yes\n192  13 Female    Angus       Beef         Yes               No\n193  35   Male Holstein      Dairy          No               No\n194  35 Female    Angus       Beef         Yes               No\n195  25   Male    Angus       Beef         Yes              Yes\n196  30 Female    Angus       Beef         Yes               No\n197  21   Male Holstein      Dairy          No              Yes\n198  29 Female Holstein      Dairy         Yes               No\n199  27 Female Holstein      Dairy         Yes               No\n200  16   Male Holstein      Dairy         Yes              Yes\n201  21 Female Holstein      Dairy          No               No\n202  25   Male Holstein      Dairy          No               No\n203  13 Female Holstein      Dairy         Yes               No\n204   8   Male Holstein      Dairy         Yes               No\n205  34   Male    Angus       Beef         Yes               No\n206   9 Female    Angus       Beef          No               No\n207  25   Male Holstein      Dairy         Yes              Yes\n208  17   Male Holstein      Dairy         Yes              Yes\n209  27 Female    Angus       Beef         Yes               No\n210  22 Female Holstein      Dairy         Yes               No\n211  15 Female    Angus       Beef         Yes               No\n212  32 Female    Angus       Beef          No               No\n213  25   Male    Angus       Beef         Yes               No\n214  16 Female    Angus       Beef          No              Yes\n215  30 Female    Angus       Beef         Yes               No\n216  28 Female    Angus       Beef         Yes              Yes\n217  13 Female Holstein      Dairy          No              Yes\n218  19 Female Holstein      Dairy          No              Yes\n219  26 Female    Angus       Beef          No               No\n220  18 Female    Angus       Beef          No               No\n221   7   Male Holstein      Dairy          No               No\n222  16   Male Holstein      Dairy          No               No\n223  18 Female    Angus       Beef          No               No\n224  19 Female    Angus       Beef         Yes              Yes\n225  11 Female    Angus       Beef         Yes               No\n226  30 Female Holstein      Dairy          No              Yes\n227  13   Male    Angus       Beef          No               No\n228  17 Female    Angus       Beef         Yes              Yes\n229  31   Male Holstein      Dairy          No               No\n230   9 Female Holstein      Dairy          No               No\n231  18   Male Holstein      Dairy         Yes              Yes\n232  34 Female    Angus       Beef         Yes               No\n233  19 Female    Angus       Beef          No              Yes\n234  26   Male Holstein      Dairy          No              Yes\n235  21   Male Holstein      Dairy          No               No\n236  28 Female Holstein      Dairy          No               No\n237  34 Female    Angus       Beef          No              Yes\n238   6 Female    Angus       Beef          No              Yes\n239  13 Female Holstein      Dairy         Yes               No\n240  13   Male Holstein      Dairy         Yes               No\n241  15   Male    Angus       Beef          No               No\n242  30   Male    Angus       Beef          No              Yes\n243  13 Female    Angus       Beef          No               No\n244  23   Male Holstein      Dairy         Yes               No\n245  34 Female Holstein      Dairy          No              Yes\n246  26 Female    Angus       Beef         Yes               No\n247  14 Female    Angus       Beef         Yes               No\n248  12   Male Holstein      Dairy         Yes               No\n249  12 Female    Angus       Beef         Yes               No\n250  31 Female    Angus       Beef          No              Yes\n251  34 Female Holstein      Dairy         Yes               No\n252  33   Male    Angus       Beef         Yes              Yes\n253  15 Female Holstein      Dairy          No              Yes\n254  29 Female    Angus       Beef         Yes               No\n255  36   Male    Angus       Beef         Yes               No\n256  27 Female Holstein      Dairy         Yes               No\n257  28 Female Holstein      Dairy         Yes               No\n258  31   Male    Angus       Beef         Yes              Yes\n259  16 Female Holstein      Dairy         Yes              Yes\n260   6 Female Holstein      Dairy         Yes              Yes\n261  30 Female Holstein      Dairy          No               No\n262  34 Female Holstein      Dairy          No              Yes\n263  34 Female Holstein      Dairy         Yes               No\n264  24 Female Holstein      Dairy         Yes              Yes\n265  15   Male Holstein      Dairy         Yes               No\n266  26 Female    Angus       Beef         Yes               No\n267  27   Male    Angus       Beef         Yes               No\n268  18 Female Holstein      Dairy         Yes              Yes\n269  16 Female    Angus       Beef          No              Yes\n270  16 Female Holstein      Dairy         Yes               No\n271  30 Female Holstein      Dairy         Yes               No\n272  25 Female    Angus       Beef         Yes               No\n273  31   Male    Angus       Beef          No               No\n274  12 Female Holstein      Dairy          No              Yes\n275  30   Male    Angus       Beef          No               No\n276  28   Male Holstein      Dairy         Yes              Yes\n277  31   Male Holstein      Dairy          No              Yes\n278  25   Male    Angus       Beef          No               No\n279  34 Female    Angus       Beef         Yes               No\n280  29   Male    Angus       Beef         Yes               No\n281  30   Male Holstein      Dairy          No               No\n282  14   Male    Angus       Beef          No               No\n283  14 Female Holstein      Dairy          No              Yes\n284  10 Female Holstein      Dairy          No               No\n285  28 Female Holstein      Dairy          No               No\n286  19 Female    Angus       Beef          No              Yes\n287  19   Male    Angus       Beef          No               No\n288  11 Female    Angus       Beef          No               No\n289  32 Female    Angus       Beef         Yes               No\n290   6   Male    Angus       Beef         Yes               No\n291  31   Male    Angus       Beef          No              Yes\n292  15 Female    Angus       Beef         Yes               No\n293  22   Male Holstein      Dairy          No              Yes\n294  31 Female Holstein      Dairy         Yes               No\n295  22 Female Holstein      Dairy         Yes              Yes\n296  34   Male    Angus       Beef          No              Yes\n297  31   Male    Angus       Beef          No              Yes\n298  32   Male    Angus       Beef         Yes               No\n299  26 Female    Angus       Beef          No              Yes\n300  12 Female Holstein      Dairy         Yes               No\n301  33   Male    Angus       Beef         Yes               No\n302  26   Male Holstein      Dairy          No              Yes\n303  31 Female Holstein      Dairy          No              Yes\n304  14 Female    Angus       Beef          No               No\n305  25 Female    Angus       Beef          No              Yes\n306  11   Male Holstein      Dairy          No              Yes\n307  23 Female    Angus       Beef          No               No\n308  35 Female Holstein      Dairy         Yes               No\n309  36 Female    Angus       Beef         Yes               No\n310  34   Male Holstein      Dairy          No              Yes\n311  22   Male Holstein      Dairy         Yes               No\n312  10 Female Holstein      Dairy         Yes              Yes\n313  30 Female    Angus       Beef          No               No\n314  25   Male Holstein      Dairy         Yes               No\n315   8   Male    Angus       Beef         Yes              Yes\n316  30   Male    Angus       Beef          No              Yes\n317  19 Female Holstein      Dairy         Yes              Yes\n318   6 Female Holstein      Dairy         Yes               No\n319   7 Female Holstein      Dairy          No              Yes\n320   9   Male    Angus       Beef          No               No\n321  15   Male Holstein      Dairy         Yes               No\n322   6 Female    Angus       Beef          No               No\n323  10   Male Holstein      Dairy          No               No\n324  26 Female    Angus       Beef          No              Yes\n325  30 Female    Angus       Beef         Yes              Yes\n326  13   Male Holstein      Dairy          No               No\n327  28 Female Holstein      Dairy          No              Yes\n328  30 Female Holstein      Dairy          No              Yes\n329  26 Female Holstein      Dairy          No               No\n330  18 Female    Angus       Beef         Yes              Yes\n    History_Respiratory  Disease_History\n1                    No    Diarrhea Only\n2                   Yes Respiratory Only\n3                    No    Diarrhea Only\n4                    No    Diarrhea Only\n5                    No       No Disease\n6                    No       No Disease\n7                    No    Diarrhea Only\n8                   Yes Respiratory Only\n9                    No       No Disease\n10                  Yes Respiratory Only\n11                  Yes       No Disease\n12                  Yes       No Disease\n13                  Yes Respiratory Only\n14                  Yes Respiratory Only\n15                   No       No Disease\n16                   No    Diarrhea Only\n17                  Yes Respiratory Only\n18                  Yes       No Disease\n19                  Yes Respiratory Only\n20                   No    Diarrhea Only\n21                   No    Diarrhea Only\n22                   No    Diarrhea Only\n23                   No       No Disease\n24                  Yes Respiratory Only\n25                  Yes Respiratory Only\n26                   No    Diarrhea Only\n27                   No    Diarrhea Only\n28                  Yes       No Disease\n29                  Yes Respiratory Only\n30                   No    Diarrhea Only\n31                  Yes Respiratory Only\n32                   No    Diarrhea Only\n33                   No       No Disease\n34                  Yes Respiratory Only\n35                  Yes       No Disease\n36                  Yes       No Disease\n37                  Yes Respiratory Only\n38                   No       No Disease\n39                  Yes Respiratory Only\n40                   No       No Disease\n41                   No       No Disease\n42                  Yes       No Disease\n43                   No    Diarrhea Only\n44                   No    Diarrhea Only\n45                   No    Diarrhea Only\n46                   No    Diarrhea Only\n47                   No    Diarrhea Only\n48                   No    Diarrhea Only\n49                   No       No Disease\n50                  Yes Respiratory Only\n51                   No    Diarrhea Only\n52                   No    Diarrhea Only\n53                   No       No Disease\n54                  Yes Respiratory Only\n55                  Yes Respiratory Only\n56                  Yes Respiratory Only\n57                   No    Diarrhea Only\n58                  Yes Respiratory Only\n59                   No    Diarrhea Only\n60                   No    Diarrhea Only\n61                   No       No Disease\n62                   No    Diarrhea Only\n63                  Yes Respiratory Only\n64                   No    Diarrhea Only\n65                   No    Diarrhea Only\n66                   No    Diarrhea Only\n67                  Yes       No Disease\n68                   No       No Disease\n69                   No    Diarrhea Only\n70                  Yes Respiratory Only\n71                   No    Diarrhea Only\n72                   No    Diarrhea Only\n73                   No       No Disease\n74                   No       No Disease\n75                  Yes Respiratory Only\n76                   No    Diarrhea Only\n77                   No       No Disease\n78                   No    Diarrhea Only\n79                  Yes Respiratory Only\n80                  Yes Respiratory Only\n81                   No    Diarrhea Only\n82                  Yes Respiratory Only\n83                   No       No Disease\n84                   No    Diarrhea Only\n85                   No       No Disease\n86                   No       No Disease\n87                   No    Diarrhea Only\n88                   No       No Disease\n89                  Yes Respiratory Only\n90                   No       No Disease\n91                   No    Diarrhea Only\n92                   No    Diarrhea Only\n93                  Yes Respiratory Only\n94                   No       No Disease\n95                   No    Diarrhea Only\n96                   No    Diarrhea Only\n97                   No       No Disease\n98                  Yes       No Disease\n99                  Yes Respiratory Only\n100                  No    Diarrhea Only\n101                  No       No Disease\n102                  No       No Disease\n103                  No    Diarrhea Only\n104                  No    Diarrhea Only\n105                 Yes Respiratory Only\n106                 Yes Respiratory Only\n107                  No       No Disease\n108                 Yes       No Disease\n109                  No       No Disease\n110                  No    Diarrhea Only\n111                  No    Diarrhea Only\n112                  No    Diarrhea Only\n113                  No    Diarrhea Only\n114                  No    Diarrhea Only\n115                  No       No Disease\n116                  No    Diarrhea Only\n117                  No    Diarrhea Only\n118                 Yes       No Disease\n119                 Yes Respiratory Only\n120                 Yes Respiratory Only\n121                  No    Diarrhea Only\n122                 Yes Respiratory Only\n123                 Yes Respiratory Only\n124                 Yes Respiratory Only\n125                 Yes Respiratory Only\n126                 Yes       No Disease\n127                  No    Diarrhea Only\n128                  No       No Disease\n129                  No       No Disease\n130                  No       No Disease\n131                  No       No Disease\n132                  No       No Disease\n133                  No    Diarrhea Only\n134                  No    Diarrhea Only\n135                  No    Diarrhea Only\n136                 Yes       No Disease\n137                  No    Diarrhea Only\n138                  No    Diarrhea Only\n139                  No    Diarrhea Only\n140                  No       No Disease\n141                 Yes Respiratory Only\n142                  No       No Disease\n143                  No    Diarrhea Only\n144                  No    Diarrhea Only\n145                 Yes       No Disease\n146                 Yes       No Disease\n147                  No    Diarrhea Only\n148                  No    Diarrhea Only\n149                  No    Diarrhea Only\n150                  No       No Disease\n151                 Yes Respiratory Only\n152                  No       No Disease\n153                 Yes Respiratory Only\n154                 Yes       No Disease\n155                 Yes Respiratory Only\n156                  No       No Disease\n157                 Yes Respiratory Only\n158                  No       No Disease\n159                  No       No Disease\n160                  No    Diarrhea Only\n161                  No    Diarrhea Only\n162                 Yes Respiratory Only\n163                 Yes Respiratory Only\n164                 Yes Respiratory Only\n165                 Yes Respiratory Only\n166                  No    Diarrhea Only\n167                  No       No Disease\n168                 Yes Respiratory Only\n169                 Yes Respiratory Only\n170                  No    Diarrhea Only\n171                 Yes Respiratory Only\n172                 Yes Respiratory Only\n173                 Yes Respiratory Only\n174                  No    Diarrhea Only\n175                 Yes       No Disease\n176                  No    Diarrhea Only\n177                  No    Diarrhea Only\n178                  No    Diarrhea Only\n179                  No       No Disease\n180                  No       No Disease\n181                  No    Diarrhea Only\n182                  No       No Disease\n183                  No       No Disease\n184                  No       No Disease\n185                  No    Diarrhea Only\n186                  No    Diarrhea Only\n187                 Yes Respiratory Only\n188                 Yes Respiratory Only\n189                  No       No Disease\n190                 Yes Respiratory Only\n191                 Yes       No Disease\n192                  No       No Disease\n193                 Yes Respiratory Only\n194                  No       No Disease\n195                  No    Diarrhea Only\n196                  No       No Disease\n197                 Yes       No Disease\n198                 Yes Respiratory Only\n199                  No       No Disease\n200                  No    Diarrhea Only\n201                 Yes Respiratory Only\n202                 Yes Respiratory Only\n203                  No       No Disease\n204                  No       No Disease\n205                 Yes Respiratory Only\n206                 Yes Respiratory Only\n207                 Yes       No Disease\n208                  No    Diarrhea Only\n209                  No       No Disease\n210                  No       No Disease\n211                  No       No Disease\n212                 Yes Respiratory Only\n213                  No       No Disease\n214                  No    Diarrhea Only\n215                  No       No Disease\n216                 Yes       No Disease\n217                  No    Diarrhea Only\n218                  No    Diarrhea Only\n219                 Yes Respiratory Only\n220                 Yes Respiratory Only\n221                 Yes Respiratory Only\n222                 Yes Respiratory Only\n223                 Yes Respiratory Only\n224                  No    Diarrhea Only\n225                 Yes Respiratory Only\n226                  No    Diarrhea Only\n227                 Yes Respiratory Only\n228                  No    Diarrhea Only\n229                 Yes Respiratory Only\n230                 Yes Respiratory Only\n231                  No    Diarrhea Only\n232                  No       No Disease\n233                  No    Diarrhea Only\n234                  No    Diarrhea Only\n235                 Yes Respiratory Only\n236                 Yes Respiratory Only\n237                  No    Diarrhea Only\n238                  No    Diarrhea Only\n239                  No       No Disease\n240                  No       No Disease\n241                 Yes Respiratory Only\n242                  No    Diarrhea Only\n243                 Yes Respiratory Only\n244                  No       No Disease\n245                  No    Diarrhea Only\n246                 Yes Respiratory Only\n247                  No       No Disease\n248                 Yes Respiratory Only\n249                  No       No Disease\n250                  No    Diarrhea Only\n251                  No       No Disease\n252                 Yes       No Disease\n253                  No    Diarrhea Only\n254                  No       No Disease\n255                 Yes Respiratory Only\n256                  No       No Disease\n257                  No       No Disease\n258                  No    Diarrhea Only\n259                  No    Diarrhea Only\n260                  No    Diarrhea Only\n261                 Yes Respiratory Only\n262                  No    Diarrhea Only\n263                  No       No Disease\n264                  No    Diarrhea Only\n265                  No       No Disease\n266                 Yes Respiratory Only\n267                  No       No Disease\n268                  No    Diarrhea Only\n269                  No    Diarrhea Only\n270                  No       No Disease\n271                 Yes Respiratory Only\n272                 Yes Respiratory Only\n273                 Yes Respiratory Only\n274                  No    Diarrhea Only\n275                 Yes Respiratory Only\n276                  No    Diarrhea Only\n277                 Yes       No Disease\n278                 Yes Respiratory Only\n279                 Yes Respiratory Only\n280                  No       No Disease\n281                 Yes Respiratory Only\n282                 Yes Respiratory Only\n283                  No    Diarrhea Only\n284                 Yes Respiratory Only\n285                 Yes Respiratory Only\n286                 Yes       No Disease\n287                 Yes Respiratory Only\n288                 Yes Respiratory Only\n289                  No       No Disease\n290                 Yes Respiratory Only\n291                  No    Diarrhea Only\n292                  No       No Disease\n293                 Yes       No Disease\n294                  No       No Disease\n295                  No    Diarrhea Only\n296                  No    Diarrhea Only\n297                  No    Diarrhea Only\n298                  No       No Disease\n299                  No    Diarrhea Only\n300                  No       No Disease\n301                 Yes Respiratory Only\n302                 Yes       No Disease\n303                  No    Diarrhea Only\n304                 Yes Respiratory Only\n305                  No    Diarrhea Only\n306                 Yes       No Disease\n307                 Yes Respiratory Only\n308                 Yes Respiratory Only\n309                  No       No Disease\n310                 Yes       No Disease\n311                 Yes Respiratory Only\n312                  No    Diarrhea Only\n313                 Yes Respiratory Only\n314                  No       No Disease\n315                  No    Diarrhea Only\n316                 Yes       No Disease\n317                  No    Diarrhea Only\n318                  No       No Disease\n319                  No    Diarrhea Only\n320                 Yes Respiratory Only\n321                  No       No Disease\n322                 Yes Respiratory Only\n323                 Yes Respiratory Only\n324                  No    Diarrhea Only\n325                  No    Diarrhea Only\n326                 Yes Respiratory Only\n327                  No    Diarrhea Only\n328                  No    Diarrhea Only\n329                 Yes Respiratory Only\n330                  No    Diarrhea Only\n\n\nWe want to changed the categorical variables (most of our variables) to factors\n\ncattle_data$Vaccination &lt;- as.factor(cattle_data$Vaccination)\ncattle_data$History_Diarrhea &lt;- as.factor(cattle_data$History_Diarrhea)\ncattle_data$History_Respiratory &lt;- as.factor(cattle_data$History_Respiratory)\ncattle_data$Breed &lt;- as.factor(cattle_data$Breed)\n\nWe will now use logistic regression models to evaluate our data and hopefully see the patterns that we expect. We will also produce some plots to evaluate the data.\nFirst model: geometric logistic regression to test the association between vaccination and disease history (our main association of interest)\n\nmodel1 &lt;- glm(Vaccination ~ Disease_History + Breed, data = cattle_data, family = binomial)\nsummary(model1)\n\n\nCall:\nglm(formula = Vaccination ~ Disease_History + Breed, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n                                Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                       1.7733     0.2925   6.062 1.35e-09 ***\nDisease_HistoryRespiratory Only  -2.4618     0.3363  -7.321 2.47e-13 ***\nDisease_HistoryDiarrhea Only     -2.2069     0.3193  -6.911 4.82e-12 ***\nBreedHolstein                    -0.3552     0.2543  -1.397    0.162    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 457.47  on 329  degrees of freedom\nResidual deviance: 376.50  on 326  degrees of freedom\nAIC: 384.5\n\nNumber of Fisher Scoring iterations: 4\n\n\nFrom the results of this model we can see that the absence of vaccination is strongly and statistically associated with the presence of both respiratory and diarrheal disease in caatle in the dataset. However there is not a statistically significant association/effect between breed and vaccination.\nSecond model: geometric logistic regression to test the effect of breed on respiratory disease (we expect beef breeds to have a higher incidence than dairy)\nLogistic regression testing the effect of breed on disease history. We would need to use a multinomial regression here if we want to test disease history with both respiratory and diarrheal disease in the same model, so instead we will evaluate diarrheal disease and respiratory disease separately using binomial models.\nSecond model: Geometric logistic regression testing the effect of breed on respiratory disease history (we expect respiratory disease to be slightly higher in beef breeds).\n\nmodel2 &lt;- glm(History_Respiratory ~ Breed + Age, data = cattle_data, family = binomial)\nsummary(model2)\n\n\nCall:\nglm(formula = History_Respiratory ~ Breed + Age, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)    0.08072    0.33356   0.242   0.8088  \nBreedHolstein -0.44122    0.22784  -1.937   0.0528 .\nAge           -0.01319    0.01319  -1.000   0.3172  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 443.36  on 329  degrees of freedom\nResidual deviance: 438.85  on 327  degrees of freedom\nAIC: 444.85\n\nNumber of Fisher Scoring iterations: 4\n\n\nThird model: geometric logistic regression to test the effect of breed on diarrhea disease (we expect dairy breeds to have a higher incidence than beef)\n\nmodel3 &lt;- glm(History_Diarrhea ~ Breed + Age, data = cattle_data, family = binomial)\nsummary(model3)\n\n\nCall:\nglm(formula = History_Diarrhea ~ Breed + Age, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)   -0.79869    0.33562  -2.380   0.0173 *\nBreedHolstein  0.24110    0.22365   1.078   0.2810  \nAge            0.02044    0.01304   1.568   0.1169  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 453.09  on 329  degrees of freedom\nResidual deviance: 449.69  on 327  degrees of freedom\nAIC: 455.69\n\nNumber of Fisher Scoring iterations: 4\n\n\nFourth model: linear logistic regression to test age differences across vaccination status (we do not expect correlation in our dataset)\n\nmodel4 &lt;- lm(Age ~ Vaccination, data = cattle_data)\nsummary(model4)\n\n\nCall:\nlm(formula = Age ~ Vaccination, data = cattle_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-16.1402  -7.5482   0.1558   7.8598  14.4518 \n\nCoefficients:\n               Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)     21.5482     0.6701  32.155   &lt;2e-16 ***\nVaccinationYes   0.5921     0.9506   0.623    0.534    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.634 on 328 degrees of freedom\nMultiple R-squared:  0.001181,  Adjusted R-squared:  -0.001864 \nF-statistic: 0.3879 on 1 and 328 DF,  p-value: 0.5338\n\n\nFifth model: linear logistic regression to test age differences across disease history (we do not expect correlation in our dataset)\n\nmodel5 &lt;- lm(Age ~ Disease_History, data = cattle_data)\nsummary(model5)\n\n\nCall:\nlm(formula = Age ~ Disease_History, data = cattle_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-16.4615  -7.4615   0.2255   7.5385  15.2255 \n\nCoefficients:\n                                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                      22.1712     0.8183  27.093   &lt;2e-16 ***\nDisease_HistoryRespiratory Only  -1.3967     1.1825  -1.181    0.238    \nDisease_HistoryDiarrhea Only      0.2904     1.1424   0.254    0.800    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.622 on 327 degrees of freedom\nMultiple R-squared:  0.007074,  Adjusted R-squared:  0.001001 \nF-statistic: 1.165 on 2 and 327 DF,  p-value: 0.3133\n\n\nPlotting our graphs to see how they compare with our associations seen in the linear regression models\nFirst plot: Violin plot to compare disease history with the vaccination status per breed\n\np1 &lt;- ggplot(cattle_data, aes(x = Disease_History, y = Vaccination, fill = Breed)) +\n  geom_violin() +\n  labs(x = \"Disease History\", y = \"Vaccination Status\", fill = \"Breed\") +\n  theme_minimal()\n\nprint(p1)\n\n\n\n\n\n\n\n\nThis violin plot doesn’t really display this data well. We will produce a bar plot instead.\nGenerate a bar plot to evaluate the relationship between vaccination status and disease history by comparing the proportions of animals with history of disease and vaccination status. We are working with proportion instead of count to make interpretation easier.\n\np2 &lt;- ggplot(cattle_data, aes(x = Disease_History, fill = Vaccination)) +\n    geom_bar(position = \"fill\") +  \n    labs(x = \"Disease History\", y = \"Proportion\", fill = \"Vaccination Status\") +\n    theme_minimal()\n\nprint(p2)\n\n\n\n\n\n\n\n\nThird plot: Scatter plot of age vs vaccination status\n\np3 &lt;- ggplot(cattle_data, aes(x = Vaccination, y = Age, color = Vaccination)) +\n  geom_jitter(width = 0.2, alpha = 0.6) +\n  labs(x = \"Vaccination Status\", y = \"Age (Months)\") +\n  theme_minimal()\n\nprint(p3)\n\n\n\n\n\n\n\n\nVaccination status does not show any obvious relationship with age.\nFourth plot: Scatter plot of age vs History of infection (respiratory and diarrheal)\n\np4 &lt;- ggplot(cattle_data, aes(x = Disease_History, y = Age, color = Disease_History)) +\n  geom_jitter(width = 0.2, alpha = 0.6) +\n  labs(x = \"History of Disease\", y = \"Age (Months)\", color = \"Disease History\") +\n  theme_minimal()\n\nprint(p4)\n\n\n\n\n\n\n\n\nFifth plot: Bar plot comparing disease history across all breeds\n\np5 &lt;- ggplot(cattle_data, aes(x = Breed, fill = Disease_History)) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Breed\", y = \"Count\", fill = \"History of Disease\") +\n  theme_minimal()\n\nprint(p5)\n\n\n\n\n\n\n\n\nFrom the graphs we once again see that there is no obvious relationship between disease status and age (as we created in the synthetic data, which might differ from real life evaluations). We do see that there is slightly higher incidence of respiratory disease in beef animals, and diarrhea disease in dairy animals.\nIn summary, our models used for evalaution work well and we produce the expected results from this synthetic dataset. There are some aspects of the synthetic dataset that could be worked on further to make it more closely resemble and model a real-world situation, and then we might need more evaluation. However, as a proof of concept this is helpful at this stage."
  },
  {
    "objectID": "data-exercise/data-exercise.qmd.html#data-exercise-to-generate-synthetic-data.",
    "href": "data-exercise/data-exercise.qmd.html#data-exercise-to-generate-synthetic-data.",
    "title": "Data Exercise",
    "section": "",
    "text": "Load the required packages:\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\nlibrary(patchwork)\n\nWe are looking to generate a synthetic dataset that evaluates the relationship between vaccination status and history of disease within and to compare thi between different cattle breeds (beef vs dairy breeds). We are going to generate a dataset with 330 individual animals from the age of 6 months to 3 years. Since females are found in higher numbers in cattle production systems we are generating the dataset with 70% females (30% males). We are looking at vaccination as yes or no without specifying specific diseases or vaccines. We will generate columns for history of respiratory disease and history of diarrheal disease (either yes or no).\nWe first need to set the seed to that our random generation of variables is repeatable\n\nset.seed(123)\n\nWe will start to generate our dataset as described:\n\n#Start by assigning the number of cattle (observations)\nn &lt;- 330\n\n#We will assign ages to the animals between 6 months and 3 years (18 months). Age can only be integers (whole numbers in months)\nage &lt;- sample(6:36, n, replace = TRUE)\n\n#we will assign the sex with 70% as females as mentioned\nsex &lt;- sample(c(\"Female\", \"Male\"), n, replace= TRUE, prob = c(0.7, 0.3))\n\n#We will assign the cattle breeds with an equal split using Angus as the beef breed and Holstein as the dairy breed\nbreed &lt;- sample(c(\"Angus\", \"Holstein\"), n, replace = TRUE)\n\n#We will classify these breeds to help with further interpretation and analysis downstream. This would be particularly helpful if we had multiple different breeds for each category in the dataset. We will use the if else function in R.\nbreed_type &lt;- ifelse(breed==\"Angus\", \"Beef\", \"Dairy\")\n\n#Double check that our breed data worked\nView(breed_type)\nprint(breed_type)\n\n  [1] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\"\n [10] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\"\n [19] \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n [28] \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\" \n [37] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n [46] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n [55] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n [64] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\"\n [73] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n [82] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n [91] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\"\n[100] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[109] \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\"\n[118] \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[127] \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[136] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\"\n[145] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\" \n[154] \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n[163] \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\" \n[172] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[181] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n[190] \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\"\n[199] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[208] \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\" \n[217] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[226] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[235] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[244] \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\" \n[253] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\"\n[262] \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\"\n[271] \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[280] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Beef\" \n[289] \"Beef\"  \"Beef\"  \"Beef\"  \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\" \n[298] \"Beef\"  \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Beef\"  \"Beef\"  \"Dairy\"\n[307] \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\" \n[316] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\"  \"Dairy\" \"Beef\" \n[325] \"Beef\"  \"Dairy\" \"Dairy\" \"Dairy\" \"Dairy\" \"Beef\" \n\n\nWe must now generate the vaccination and disease history data before we can produce our dataframe.\nWe will make the incidence of respiratory disease slightly higher in beef animals than in dairy animals, and the opposite (slightly higher incidence of diarrheal disease in dairy animals than beef animals).\n\n#We will assign vaccination status (yes/no) randomly\nvaccination &lt;- sample (c(\"Yes\",\"No\"), n, replace = TRUE)\n\n#Assign history of diseases based on our assumptions\n#Start by generating a vector for the history of disease - diarrhea or respiratory\nhistory_diarrhea &lt;- rep(\"No\", n)\nhistory_respiratory &lt;- rep(\"No\", n)\n\n#Using a loop function to change the incidence of the different diseases in beef and dairy breeds as mentioned above\n#I had chatGPT help me to generate the code for this\n\nfor (i in 1:n) {\n  if (breed[i] == \"Holstein\") {\n    if (runif(1) &lt; 0.35) history_diarrhea[i] &lt;- \"Yes\"\n    if (runif(1) &lt; 0.25) history_respiratory[i] &lt;- \"Yes\"\n  } else {\n    if (runif(1) &lt; 0.30) history_diarrhea[i] &lt;- \"Yes\"\n    if (runif(1) &lt; 0.35) history_respiratory[i] &lt;- \"Yes\"\n  }\n}\n\n#We are applying the conditions above if the breed is Holstein and if it is not then we apply the conditions below the else.\n\n\n#We now want to make sure that animals that are not vaccinated have a higher incidence of disease (vaccination is correlated with freedom from or reduced incidence of disease)\n#We will use another loop funciton for this.\n# I had ChatGPT assist with this code for the loop\n\nfor (i in 1:n) {\n  if (vaccination[i] == \"No\" && history_diarrhea[i] == \"No\" && history_respiratory[i] == \"No\") {\n    if (runif(1) &lt; 0.5) {\n      history_diarrhea[i] &lt;- \"Yes\"\n    } else {\n      history_respiratory[i] &lt;- \"Yes\"\n    }\n  }\n}\n\nWe want to make four different categories that will help us to evaluate the different disease states that are possible. Different states are “Respiratory disease”, “Diarrhea disease”, “Both diseases”, and “No disease”. We will create an additional column for this to make it easier for us to call back to this for later models and plots. This could have been done as a second or separate dataframe without including it in the main datframe if we preferred. For ease it has been done now for less separate steps.\nCreate disease history classification:\n\ndisease_history &lt;- case_when(history_respiratory == \"Yes\" & history_diarrhea == \"No\" ~ \"Respiratory Only\", history_respiratory == \"No\" & history_diarrhea == \"Yes\" ~ \"Diarrhea Only\", history_respiratory == \"yes\" & history_diarrhea == \"Yes\" ~ \"Both Diseases\", TRUE ~ \"No Disease\")\n\nWe then create a dataframe with all of these variables that we have assigned. We will call this cattle_data. We change the font of the column names to help use define searches and functions more directly.\n\ncattle_data &lt;- data.frame(Age = age, Sex = sex, Breed = breed, Breed_Type = breed_type, Vaccination = vaccination, History_Diarrhea = history_diarrhea, History_Respiratory = history_respiratory, Disease_History = factor(disease_history, levels = c(\"No Disease\", \"Respiratory Only\", \"Diarrhea Only\", \"Both Diseases\")))\n\nsummary(cattle_data)\n\n      Age            Sex               Breed            Breed_Type       \n Min.   : 6.00   Length:330         Length:330         Length:330        \n 1st Qu.:14.00   Class :character   Class :character   Class :character  \n Median :22.00   Mode  :character   Mode  :character   Mode  :character  \n Mean   :21.84                                                           \n 3rd Qu.:30.00                                                           \n Max.   :36.00                                                           \n Vaccination        History_Diarrhea   History_Respiratory\n Length:330         Length:330         Length:330         \n Class :character   Class :character   Class :character   \n Mode  :character   Mode  :character   Mode  :character   \n                                                          \n                                                          \n                                                          \n         Disease_History\n No Disease      :111   \n Respiratory Only:102   \n Diarrhea Only   :117   \n Both Diseases   :  0   \n                        \n                        \n\nprint(cattle_data)\n\n    Age    Sex    Breed Breed_Type Vaccination History_Diarrhea\n1    36 Female    Angus       Beef          No              Yes\n2    20 Female    Angus       Beef          No               No\n3    24 Female    Angus       Beef         Yes              Yes\n4    19 Female Holstein      Dairy          No              Yes\n5     8 Female Holstein      Dairy         Yes               No\n6    15   Male Holstein      Dairy         Yes               No\n7    23 Female Holstein      Dairy          No              Yes\n8    27 Female    Angus       Beef          No               No\n9    16 Female Holstein      Dairy         Yes               No\n10   10 Female    Angus       Beef         Yes               No\n11   25   Male    Angus       Beef          No              Yes\n12   19 Female    Angus       Beef          No              Yes\n13   27 Female Holstein      Dairy         Yes               No\n14   30 Female    Angus       Beef          No               No\n15   31   Male Holstein      Dairy         Yes               No\n16   32 Female Holstein      Dairy         Yes              Yes\n17   10 Female    Angus       Beef         Yes               No\n18   24 Female Holstein      Dairy          No              Yes\n19   32   Male    Angus       Beef          No               No\n20   30 Female Holstein      Dairy         Yes              Yes\n21   33 Female    Angus       Beef         Yes              Yes\n22   30   Male    Angus       Beef          No              Yes\n23   14 Female Holstein      Dairy         Yes               No\n24   34 Female Holstein      Dairy          No               No\n25    8   Male Holstein      Dairy          No               No\n26   13 Female Holstein      Dairy          No              Yes\n27   31 Female Holstein      Dairy         Yes              Yes\n28   12 Female Holstein      Dairy         Yes              Yes\n29   15 Female Holstein      Dairy         Yes               No\n30   14 Female Holstein      Dairy          No              Yes\n31   35 Female    Angus       Beef          No               No\n32   24   Male    Angus       Beef          No              Yes\n33    9 Female    Angus       Beef         Yes               No\n34   19 Female Holstein      Dairy          No               No\n35   22   Male    Angus       Beef          No              Yes\n36   16   Male    Angus       Beef         Yes              Yes\n37   12 Female    Angus       Beef         Yes               No\n38   26 Female Holstein      Dairy         Yes               No\n39   17   Male Holstein      Dairy         Yes               No\n40   20 Female    Angus       Beef         Yes               No\n41   15   Male Holstein      Dairy         Yes               No\n42   18 Female    Angus       Beef         Yes              Yes\n43   12   Male Holstein      Dairy          No              Yes\n44   14 Female    Angus       Beef          No              Yes\n45   14   Male Holstein      Dairy          No              Yes\n46   15 Female Holstein      Dairy          No              Yes\n47   28 Female Holstein      Dairy          No              Yes\n48   32 Female    Angus       Beef         Yes              Yes\n49   33 Female    Angus       Beef         Yes               No\n50   26   Male Holstein      Dairy          No               No\n51   12 Female Holstein      Dairy          No              Yes\n52   26   Male Holstein      Dairy          No              Yes\n53   32   Male Holstein      Dairy         Yes               No\n54   11 Female Holstein      Dairy          No               No\n55   30 Female    Angus       Beef         Yes               No\n56    7 Female    Angus       Beef          No               No\n57   34 Female Holstein      Dairy          No              Yes\n58   10 Female    Angus       Beef          No               No\n59   13   Male Holstein      Dairy          No              Yes\n60   17   Male    Angus       Beef          No              Yes\n61   36 Female    Angus       Beef         Yes               No\n62   18   Male    Angus       Beef         Yes              Yes\n63   23 Female    Angus       Beef         Yes               No\n64    6 Female    Angus       Beef          No              Yes\n65   30 Female Holstein      Dairy          No              Yes\n66   32   Male Holstein      Dairy          No              Yes\n67   30 Female    Angus       Beef         Yes              Yes\n68   11 Female Holstein      Dairy         Yes               No\n69   26 Female    Angus       Beef         Yes              Yes\n70   20 Female    Angus       Beef          No               No\n71   14   Male    Angus       Beef         Yes              Yes\n72   20 Female Holstein      Dairy          No              Yes\n73   31 Female    Angus       Beef         Yes               No\n74   33 Female    Angus       Beef         Yes               No\n75   36 Female    Angus       Beef          No               No\n76   21   Male    Angus       Beef          No              Yes\n77   25 Female Holstein      Dairy         Yes               No\n78   35 Female    Angus       Beef         Yes              Yes\n79   11 Female Holstein      Dairy          No               No\n80   16 Female Holstein      Dairy          No               No\n81   13 Female Holstein      Dairy         Yes              Yes\n82   27 Female    Angus       Beef         Yes               No\n83   27 Female    Angus       Beef         Yes               No\n84   12   Male    Angus       Beef          No              Yes\n85   36 Female Holstein      Dairy         Yes               No\n86   21 Female Holstein      Dairy         Yes               No\n87   22 Female    Angus       Beef         Yes              Yes\n88   27 Female Holstein      Dairy         Yes               No\n89   23   Male    Angus       Beef          No               No\n90   22   Male Holstein      Dairy         Yes               No\n91    7 Female    Angus       Beef          No              Yes\n92    9 Female Holstein      Dairy         Yes              Yes\n93   18   Male Holstein      Dairy          No               No\n94   10 Female Holstein      Dairy         Yes               No\n95   27 Female Holstein      Dairy          No              Yes\n96   36 Female Holstein      Dairy          No              Yes\n97   24 Female Holstein      Dairy         Yes               No\n98   30 Female Holstein      Dairy          No              Yes\n99   25 Female Holstein      Dairy          No               No\n100  27 Female    Angus       Beef         Yes              Yes\n101  30 Female    Angus       Beef         Yes               No\n102  19   Male Holstein      Dairy         Yes               No\n103  30 Female    Angus       Beef         Yes              Yes\n104  28   Male    Angus       Beef          No              Yes\n105   8   Male Holstein      Dairy          No               No\n106  13   Male    Angus       Beef         Yes               No\n107  21 Female    Angus       Beef         Yes               No\n108  35 Female Holstein      Dairy         Yes              Yes\n109  17 Female Holstein      Dairy         Yes               No\n110  36 Female    Angus       Beef          No              Yes\n111  30 Female    Angus       Beef         Yes              Yes\n112  19 Female    Angus       Beef          No              Yes\n113  35 Female    Angus       Beef          No              Yes\n114   8 Female    Angus       Beef          No              Yes\n115  19   Male    Angus       Beef         Yes               No\n116  34   Male Holstein      Dairy          No              Yes\n117  12   Male Holstein      Dairy          No              Yes\n118   8 Female Holstein      Dairy          No              Yes\n119  28 Female Holstein      Dairy          No               No\n120  27   Male    Angus       Beef         Yes               No\n121  31 Female Holstein      Dairy          No              Yes\n122  20 Female    Angus       Beef         Yes               No\n123  26 Female Holstein      Dairy         Yes               No\n124  10 Female    Angus       Beef          No               No\n125  13 Female    Angus       Beef          No               No\n126  24 Female    Angus       Beef         Yes              Yes\n127  15 Female Holstein      Dairy         Yes              Yes\n128  23 Female Holstein      Dairy         Yes               No\n129  15   Male Holstein      Dairy         Yes               No\n130  17 Female    Angus       Beef         Yes               No\n131   7   Male    Angus       Beef         Yes               No\n132  15 Female Holstein      Dairy         Yes               No\n133  27   Male Holstein      Dairy          No              Yes\n134  36 Female    Angus       Beef          No              Yes\n135  17 Female    Angus       Beef         Yes              Yes\n136  25 Female    Angus       Beef         Yes              Yes\n137  19 Female    Angus       Beef          No              Yes\n138  22 Female    Angus       Beef         Yes              Yes\n139  35   Male    Angus       Beef         Yes              Yes\n140  19 Female    Angus       Beef         Yes               No\n141  27   Male    Angus       Beef          No               No\n142   8 Female    Angus       Beef         Yes               No\n143  13 Female    Angus       Beef          No              Yes\n144  19   Male Holstein      Dairy          No              Yes\n145  24 Female    Angus       Beef          No              Yes\n146  35 Female Holstein      Dairy          No              Yes\n147  20 Female    Angus       Beef          No              Yes\n148  29 Female Holstein      Dairy          No              Yes\n149  22   Male Holstein      Dairy          No              Yes\n150  28   Male    Angus       Beef         Yes               No\n151  16 Female Holstein      Dairy          No               No\n152  12 Female Holstein      Dairy         Yes               No\n153  34   Male    Angus       Beef         Yes               No\n154  20 Female    Angus       Beef          No              Yes\n155  28   Male Holstein      Dairy          No               No\n156  31 Female Holstein      Dairy         Yes               No\n157  11 Female    Angus       Beef          No               No\n158  19 Female Holstein      Dairy         Yes               No\n159  36   Male    Angus       Beef         Yes               No\n160  12 Female Holstein      Dairy          No              Yes\n161  32 Female Holstein      Dairy          No              Yes\n162  15 Female Holstein      Dairy         Yes               No\n163  10 Female    Angus       Beef          No               No\n164  11 Female    Angus       Beef         Yes               No\n165  21 Female Holstein      Dairy          No               No\n166  29 Female Holstein      Dairy         Yes              Yes\n167  26 Female Holstein      Dairy         Yes               No\n168  28   Male    Angus       Beef          No               No\n169  16 Female    Angus       Beef          No               No\n170   9 Female Holstein      Dairy          No              Yes\n171  17 Female    Angus       Beef          No               No\n172  19   Male Holstein      Dairy          No               No\n173  33 Female Holstein      Dairy          No               No\n174  34   Male Holstein      Dairy          No              Yes\n175  24 Female Holstein      Dairy          No              Yes\n176  30 Female    Angus       Beef          No              Yes\n177  12   Male Holstein      Dairy          No              Yes\n178  27 Female Holstein      Dairy         Yes              Yes\n179  31   Male    Angus       Beef         Yes               No\n180  14 Female    Angus       Beef         Yes               No\n181  12 Female Holstein      Dairy         Yes              Yes\n182   7 Female Holstein      Dairy         Yes               No\n183  21 Female    Angus       Beef         Yes               No\n184  18 Female    Angus       Beef         Yes               No\n185  24 Female    Angus       Beef          No              Yes\n186  29   Male    Angus       Beef          No              Yes\n187  25 Female    Angus       Beef          No               No\n188  20   Male    Angus       Beef         Yes               No\n189  12 Female    Angus       Beef         Yes               No\n190   9   Male    Angus       Beef          No               No\n191   6 Female    Angus       Beef          No              Yes\n192  13 Female    Angus       Beef         Yes               No\n193  35   Male Holstein      Dairy          No               No\n194  35 Female    Angus       Beef         Yes               No\n195  25   Male    Angus       Beef         Yes              Yes\n196  30 Female    Angus       Beef         Yes               No\n197  21   Male Holstein      Dairy          No              Yes\n198  29 Female Holstein      Dairy         Yes               No\n199  27 Female Holstein      Dairy         Yes               No\n200  16   Male Holstein      Dairy         Yes              Yes\n201  21 Female Holstein      Dairy          No               No\n202  25   Male Holstein      Dairy          No               No\n203  13 Female Holstein      Dairy         Yes               No\n204   8   Male Holstein      Dairy         Yes               No\n205  34   Male    Angus       Beef         Yes               No\n206   9 Female    Angus       Beef          No               No\n207  25   Male Holstein      Dairy         Yes              Yes\n208  17   Male Holstein      Dairy         Yes              Yes\n209  27 Female    Angus       Beef         Yes               No\n210  22 Female Holstein      Dairy         Yes               No\n211  15 Female    Angus       Beef         Yes               No\n212  32 Female    Angus       Beef          No               No\n213  25   Male    Angus       Beef         Yes               No\n214  16 Female    Angus       Beef          No              Yes\n215  30 Female    Angus       Beef         Yes               No\n216  28 Female    Angus       Beef         Yes              Yes\n217  13 Female Holstein      Dairy          No              Yes\n218  19 Female Holstein      Dairy          No              Yes\n219  26 Female    Angus       Beef          No               No\n220  18 Female    Angus       Beef          No               No\n221   7   Male Holstein      Dairy          No               No\n222  16   Male Holstein      Dairy          No               No\n223  18 Female    Angus       Beef          No               No\n224  19 Female    Angus       Beef         Yes              Yes\n225  11 Female    Angus       Beef         Yes               No\n226  30 Female Holstein      Dairy          No              Yes\n227  13   Male    Angus       Beef          No               No\n228  17 Female    Angus       Beef         Yes              Yes\n229  31   Male Holstein      Dairy          No               No\n230   9 Female Holstein      Dairy          No               No\n231  18   Male Holstein      Dairy         Yes              Yes\n232  34 Female    Angus       Beef         Yes               No\n233  19 Female    Angus       Beef          No              Yes\n234  26   Male Holstein      Dairy          No              Yes\n235  21   Male Holstein      Dairy          No               No\n236  28 Female Holstein      Dairy          No               No\n237  34 Female    Angus       Beef          No              Yes\n238   6 Female    Angus       Beef          No              Yes\n239  13 Female Holstein      Dairy         Yes               No\n240  13   Male Holstein      Dairy         Yes               No\n241  15   Male    Angus       Beef          No               No\n242  30   Male    Angus       Beef          No              Yes\n243  13 Female    Angus       Beef          No               No\n244  23   Male Holstein      Dairy         Yes               No\n245  34 Female Holstein      Dairy          No              Yes\n246  26 Female    Angus       Beef         Yes               No\n247  14 Female    Angus       Beef         Yes               No\n248  12   Male Holstein      Dairy         Yes               No\n249  12 Female    Angus       Beef         Yes               No\n250  31 Female    Angus       Beef          No              Yes\n251  34 Female Holstein      Dairy         Yes               No\n252  33   Male    Angus       Beef         Yes              Yes\n253  15 Female Holstein      Dairy          No              Yes\n254  29 Female    Angus       Beef         Yes               No\n255  36   Male    Angus       Beef         Yes               No\n256  27 Female Holstein      Dairy         Yes               No\n257  28 Female Holstein      Dairy         Yes               No\n258  31   Male    Angus       Beef         Yes              Yes\n259  16 Female Holstein      Dairy         Yes              Yes\n260   6 Female Holstein      Dairy         Yes              Yes\n261  30 Female Holstein      Dairy          No               No\n262  34 Female Holstein      Dairy          No              Yes\n263  34 Female Holstein      Dairy         Yes               No\n264  24 Female Holstein      Dairy         Yes              Yes\n265  15   Male Holstein      Dairy         Yes               No\n266  26 Female    Angus       Beef         Yes               No\n267  27   Male    Angus       Beef         Yes               No\n268  18 Female Holstein      Dairy         Yes              Yes\n269  16 Female    Angus       Beef          No              Yes\n270  16 Female Holstein      Dairy         Yes               No\n271  30 Female Holstein      Dairy         Yes               No\n272  25 Female    Angus       Beef         Yes               No\n273  31   Male    Angus       Beef          No               No\n274  12 Female Holstein      Dairy          No              Yes\n275  30   Male    Angus       Beef          No               No\n276  28   Male Holstein      Dairy         Yes              Yes\n277  31   Male Holstein      Dairy          No              Yes\n278  25   Male    Angus       Beef          No               No\n279  34 Female    Angus       Beef         Yes               No\n280  29   Male    Angus       Beef         Yes               No\n281  30   Male Holstein      Dairy          No               No\n282  14   Male    Angus       Beef          No               No\n283  14 Female Holstein      Dairy          No              Yes\n284  10 Female Holstein      Dairy          No               No\n285  28 Female Holstein      Dairy          No               No\n286  19 Female    Angus       Beef          No              Yes\n287  19   Male    Angus       Beef          No               No\n288  11 Female    Angus       Beef          No               No\n289  32 Female    Angus       Beef         Yes               No\n290   6   Male    Angus       Beef         Yes               No\n291  31   Male    Angus       Beef          No              Yes\n292  15 Female    Angus       Beef         Yes               No\n293  22   Male Holstein      Dairy          No              Yes\n294  31 Female Holstein      Dairy         Yes               No\n295  22 Female Holstein      Dairy         Yes              Yes\n296  34   Male    Angus       Beef          No              Yes\n297  31   Male    Angus       Beef          No              Yes\n298  32   Male    Angus       Beef         Yes               No\n299  26 Female    Angus       Beef          No              Yes\n300  12 Female Holstein      Dairy         Yes               No\n301  33   Male    Angus       Beef         Yes               No\n302  26   Male Holstein      Dairy          No              Yes\n303  31 Female Holstein      Dairy          No              Yes\n304  14 Female    Angus       Beef          No               No\n305  25 Female    Angus       Beef          No              Yes\n306  11   Male Holstein      Dairy          No              Yes\n307  23 Female    Angus       Beef          No               No\n308  35 Female Holstein      Dairy         Yes               No\n309  36 Female    Angus       Beef         Yes               No\n310  34   Male Holstein      Dairy          No              Yes\n311  22   Male Holstein      Dairy         Yes               No\n312  10 Female Holstein      Dairy         Yes              Yes\n313  30 Female    Angus       Beef          No               No\n314  25   Male Holstein      Dairy         Yes               No\n315   8   Male    Angus       Beef         Yes              Yes\n316  30   Male    Angus       Beef          No              Yes\n317  19 Female Holstein      Dairy         Yes              Yes\n318   6 Female Holstein      Dairy         Yes               No\n319   7 Female Holstein      Dairy          No              Yes\n320   9   Male    Angus       Beef          No               No\n321  15   Male Holstein      Dairy         Yes               No\n322   6 Female    Angus       Beef          No               No\n323  10   Male Holstein      Dairy          No               No\n324  26 Female    Angus       Beef          No              Yes\n325  30 Female    Angus       Beef         Yes              Yes\n326  13   Male Holstein      Dairy          No               No\n327  28 Female Holstein      Dairy          No              Yes\n328  30 Female Holstein      Dairy          No              Yes\n329  26 Female Holstein      Dairy          No               No\n330  18 Female    Angus       Beef         Yes              Yes\n    History_Respiratory  Disease_History\n1                    No    Diarrhea Only\n2                   Yes Respiratory Only\n3                    No    Diarrhea Only\n4                    No    Diarrhea Only\n5                    No       No Disease\n6                    No       No Disease\n7                    No    Diarrhea Only\n8                   Yes Respiratory Only\n9                    No       No Disease\n10                  Yes Respiratory Only\n11                  Yes       No Disease\n12                  Yes       No Disease\n13                  Yes Respiratory Only\n14                  Yes Respiratory Only\n15                   No       No Disease\n16                   No    Diarrhea Only\n17                  Yes Respiratory Only\n18                  Yes       No Disease\n19                  Yes Respiratory Only\n20                   No    Diarrhea Only\n21                   No    Diarrhea Only\n22                   No    Diarrhea Only\n23                   No       No Disease\n24                  Yes Respiratory Only\n25                  Yes Respiratory Only\n26                   No    Diarrhea Only\n27                   No    Diarrhea Only\n28                  Yes       No Disease\n29                  Yes Respiratory Only\n30                   No    Diarrhea Only\n31                  Yes Respiratory Only\n32                   No    Diarrhea Only\n33                   No       No Disease\n34                  Yes Respiratory Only\n35                  Yes       No Disease\n36                  Yes       No Disease\n37                  Yes Respiratory Only\n38                   No       No Disease\n39                  Yes Respiratory Only\n40                   No       No Disease\n41                   No       No Disease\n42                  Yes       No Disease\n43                   No    Diarrhea Only\n44                   No    Diarrhea Only\n45                   No    Diarrhea Only\n46                   No    Diarrhea Only\n47                   No    Diarrhea Only\n48                   No    Diarrhea Only\n49                   No       No Disease\n50                  Yes Respiratory Only\n51                   No    Diarrhea Only\n52                   No    Diarrhea Only\n53                   No       No Disease\n54                  Yes Respiratory Only\n55                  Yes Respiratory Only\n56                  Yes Respiratory Only\n57                   No    Diarrhea Only\n58                  Yes Respiratory Only\n59                   No    Diarrhea Only\n60                   No    Diarrhea Only\n61                   No       No Disease\n62                   No    Diarrhea Only\n63                  Yes Respiratory Only\n64                   No    Diarrhea Only\n65                   No    Diarrhea Only\n66                   No    Diarrhea Only\n67                  Yes       No Disease\n68                   No       No Disease\n69                   No    Diarrhea Only\n70                  Yes Respiratory Only\n71                   No    Diarrhea Only\n72                   No    Diarrhea Only\n73                   No       No Disease\n74                   No       No Disease\n75                  Yes Respiratory Only\n76                   No    Diarrhea Only\n77                   No       No Disease\n78                   No    Diarrhea Only\n79                  Yes Respiratory Only\n80                  Yes Respiratory Only\n81                   No    Diarrhea Only\n82                  Yes Respiratory Only\n83                   No       No Disease\n84                   No    Diarrhea Only\n85                   No       No Disease\n86                   No       No Disease\n87                   No    Diarrhea Only\n88                   No       No Disease\n89                  Yes Respiratory Only\n90                   No       No Disease\n91                   No    Diarrhea Only\n92                   No    Diarrhea Only\n93                  Yes Respiratory Only\n94                   No       No Disease\n95                   No    Diarrhea Only\n96                   No    Diarrhea Only\n97                   No       No Disease\n98                  Yes       No Disease\n99                  Yes Respiratory Only\n100                  No    Diarrhea Only\n101                  No       No Disease\n102                  No       No Disease\n103                  No    Diarrhea Only\n104                  No    Diarrhea Only\n105                 Yes Respiratory Only\n106                 Yes Respiratory Only\n107                  No       No Disease\n108                 Yes       No Disease\n109                  No       No Disease\n110                  No    Diarrhea Only\n111                  No    Diarrhea Only\n112                  No    Diarrhea Only\n113                  No    Diarrhea Only\n114                  No    Diarrhea Only\n115                  No       No Disease\n116                  No    Diarrhea Only\n117                  No    Diarrhea Only\n118                 Yes       No Disease\n119                 Yes Respiratory Only\n120                 Yes Respiratory Only\n121                  No    Diarrhea Only\n122                 Yes Respiratory Only\n123                 Yes Respiratory Only\n124                 Yes Respiratory Only\n125                 Yes Respiratory Only\n126                 Yes       No Disease\n127                  No    Diarrhea Only\n128                  No       No Disease\n129                  No       No Disease\n130                  No       No Disease\n131                  No       No Disease\n132                  No       No Disease\n133                  No    Diarrhea Only\n134                  No    Diarrhea Only\n135                  No    Diarrhea Only\n136                 Yes       No Disease\n137                  No    Diarrhea Only\n138                  No    Diarrhea Only\n139                  No    Diarrhea Only\n140                  No       No Disease\n141                 Yes Respiratory Only\n142                  No       No Disease\n143                  No    Diarrhea Only\n144                  No    Diarrhea Only\n145                 Yes       No Disease\n146                 Yes       No Disease\n147                  No    Diarrhea Only\n148                  No    Diarrhea Only\n149                  No    Diarrhea Only\n150                  No       No Disease\n151                 Yes Respiratory Only\n152                  No       No Disease\n153                 Yes Respiratory Only\n154                 Yes       No Disease\n155                 Yes Respiratory Only\n156                  No       No Disease\n157                 Yes Respiratory Only\n158                  No       No Disease\n159                  No       No Disease\n160                  No    Diarrhea Only\n161                  No    Diarrhea Only\n162                 Yes Respiratory Only\n163                 Yes Respiratory Only\n164                 Yes Respiratory Only\n165                 Yes Respiratory Only\n166                  No    Diarrhea Only\n167                  No       No Disease\n168                 Yes Respiratory Only\n169                 Yes Respiratory Only\n170                  No    Diarrhea Only\n171                 Yes Respiratory Only\n172                 Yes Respiratory Only\n173                 Yes Respiratory Only\n174                  No    Diarrhea Only\n175                 Yes       No Disease\n176                  No    Diarrhea Only\n177                  No    Diarrhea Only\n178                  No    Diarrhea Only\n179                  No       No Disease\n180                  No       No Disease\n181                  No    Diarrhea Only\n182                  No       No Disease\n183                  No       No Disease\n184                  No       No Disease\n185                  No    Diarrhea Only\n186                  No    Diarrhea Only\n187                 Yes Respiratory Only\n188                 Yes Respiratory Only\n189                  No       No Disease\n190                 Yes Respiratory Only\n191                 Yes       No Disease\n192                  No       No Disease\n193                 Yes Respiratory Only\n194                  No       No Disease\n195                  No    Diarrhea Only\n196                  No       No Disease\n197                 Yes       No Disease\n198                 Yes Respiratory Only\n199                  No       No Disease\n200                  No    Diarrhea Only\n201                 Yes Respiratory Only\n202                 Yes Respiratory Only\n203                  No       No Disease\n204                  No       No Disease\n205                 Yes Respiratory Only\n206                 Yes Respiratory Only\n207                 Yes       No Disease\n208                  No    Diarrhea Only\n209                  No       No Disease\n210                  No       No Disease\n211                  No       No Disease\n212                 Yes Respiratory Only\n213                  No       No Disease\n214                  No    Diarrhea Only\n215                  No       No Disease\n216                 Yes       No Disease\n217                  No    Diarrhea Only\n218                  No    Diarrhea Only\n219                 Yes Respiratory Only\n220                 Yes Respiratory Only\n221                 Yes Respiratory Only\n222                 Yes Respiratory Only\n223                 Yes Respiratory Only\n224                  No    Diarrhea Only\n225                 Yes Respiratory Only\n226                  No    Diarrhea Only\n227                 Yes Respiratory Only\n228                  No    Diarrhea Only\n229                 Yes Respiratory Only\n230                 Yes Respiratory Only\n231                  No    Diarrhea Only\n232                  No       No Disease\n233                  No    Diarrhea Only\n234                  No    Diarrhea Only\n235                 Yes Respiratory Only\n236                 Yes Respiratory Only\n237                  No    Diarrhea Only\n238                  No    Diarrhea Only\n239                  No       No Disease\n240                  No       No Disease\n241                 Yes Respiratory Only\n242                  No    Diarrhea Only\n243                 Yes Respiratory Only\n244                  No       No Disease\n245                  No    Diarrhea Only\n246                 Yes Respiratory Only\n247                  No       No Disease\n248                 Yes Respiratory Only\n249                  No       No Disease\n250                  No    Diarrhea Only\n251                  No       No Disease\n252                 Yes       No Disease\n253                  No    Diarrhea Only\n254                  No       No Disease\n255                 Yes Respiratory Only\n256                  No       No Disease\n257                  No       No Disease\n258                  No    Diarrhea Only\n259                  No    Diarrhea Only\n260                  No    Diarrhea Only\n261                 Yes Respiratory Only\n262                  No    Diarrhea Only\n263                  No       No Disease\n264                  No    Diarrhea Only\n265                  No       No Disease\n266                 Yes Respiratory Only\n267                  No       No Disease\n268                  No    Diarrhea Only\n269                  No    Diarrhea Only\n270                  No       No Disease\n271                 Yes Respiratory Only\n272                 Yes Respiratory Only\n273                 Yes Respiratory Only\n274                  No    Diarrhea Only\n275                 Yes Respiratory Only\n276                  No    Diarrhea Only\n277                 Yes       No Disease\n278                 Yes Respiratory Only\n279                 Yes Respiratory Only\n280                  No       No Disease\n281                 Yes Respiratory Only\n282                 Yes Respiratory Only\n283                  No    Diarrhea Only\n284                 Yes Respiratory Only\n285                 Yes Respiratory Only\n286                 Yes       No Disease\n287                 Yes Respiratory Only\n288                 Yes Respiratory Only\n289                  No       No Disease\n290                 Yes Respiratory Only\n291                  No    Diarrhea Only\n292                  No       No Disease\n293                 Yes       No Disease\n294                  No       No Disease\n295                  No    Diarrhea Only\n296                  No    Diarrhea Only\n297                  No    Diarrhea Only\n298                  No       No Disease\n299                  No    Diarrhea Only\n300                  No       No Disease\n301                 Yes Respiratory Only\n302                 Yes       No Disease\n303                  No    Diarrhea Only\n304                 Yes Respiratory Only\n305                  No    Diarrhea Only\n306                 Yes       No Disease\n307                 Yes Respiratory Only\n308                 Yes Respiratory Only\n309                  No       No Disease\n310                 Yes       No Disease\n311                 Yes Respiratory Only\n312                  No    Diarrhea Only\n313                 Yes Respiratory Only\n314                  No       No Disease\n315                  No    Diarrhea Only\n316                 Yes       No Disease\n317                  No    Diarrhea Only\n318                  No       No Disease\n319                  No    Diarrhea Only\n320                 Yes Respiratory Only\n321                  No       No Disease\n322                 Yes Respiratory Only\n323                 Yes Respiratory Only\n324                  No    Diarrhea Only\n325                  No    Diarrhea Only\n326                 Yes Respiratory Only\n327                  No    Diarrhea Only\n328                  No    Diarrhea Only\n329                 Yes Respiratory Only\n330                  No    Diarrhea Only\n\n\nWe want to changed the categorical variables (most of our variables) to factors\n\ncattle_data$Vaccination &lt;- as.factor(cattle_data$Vaccination)\ncattle_data$History_Diarrhea &lt;- as.factor(cattle_data$History_Diarrhea)\ncattle_data$History_Respiratory &lt;- as.factor(cattle_data$History_Respiratory)\ncattle_data$Breed &lt;- as.factor(cattle_data$Breed)\n\nWe will now use logistic regression models to evaluate our data and hopefully see the patterns that we expect. We will also produce some plots to evaluate the data.\nFirst model: geometric logistic regression to test the association between vaccination and disease history (our main association of interest)\n\nmodel1 &lt;- glm(Vaccination ~ Disease_History + Breed, data = cattle_data, family = binomial)\nsummary(model1)\n\n\nCall:\nglm(formula = Vaccination ~ Disease_History + Breed, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n                                Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)                       1.7733     0.2925   6.062 1.35e-09 ***\nDisease_HistoryRespiratory Only  -2.4618     0.3363  -7.321 2.47e-13 ***\nDisease_HistoryDiarrhea Only     -2.2069     0.3193  -6.911 4.82e-12 ***\nBreedHolstein                    -0.3552     0.2543  -1.397    0.162    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 457.47  on 329  degrees of freedom\nResidual deviance: 376.50  on 326  degrees of freedom\nAIC: 384.5\n\nNumber of Fisher Scoring iterations: 4\n\n\nFrom the results of this model we can see that the absence of vaccination is strongly and statistically associated with the presence of both respiratory and diarrheal disease in caatle in the dataset. However there is not a statistically significant association/effect between breed and vaccination.\nSecond model: geometric logistic regression to test the effect of breed on respiratory disease (we expect beef breeds to have a higher incidence than dairy)\nLogistic regression testing the effect of breed on disease history. We would need to use a multinomial regression here if we want to test disease history with both respiratory and diarrheal disease in the same model, so instead we will evaluate diarrheal disease and respiratory disease separately using binomial models.\nSecond model: Geometric logistic regression testing the effect of breed on respiratory disease history (we expect respiratory disease to be slightly higher in beef breeds).\n\nmodel2 &lt;- glm(History_Respiratory ~ Breed + Age, data = cattle_data, family = binomial)\nsummary(model2)\n\n\nCall:\nglm(formula = History_Respiratory ~ Breed + Age, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)    0.08072    0.33356   0.242   0.8088  \nBreedHolstein -0.44122    0.22784  -1.937   0.0528 .\nAge           -0.01319    0.01319  -1.000   0.3172  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 443.36  on 329  degrees of freedom\nResidual deviance: 438.85  on 327  degrees of freedom\nAIC: 444.85\n\nNumber of Fisher Scoring iterations: 4\n\n\nThird model: geometric logistic regression to test the effect of breed on diarrhea disease (we expect dairy breeds to have a higher incidence than beef)\n\nmodel3 &lt;- glm(History_Diarrhea ~ Breed + Age, data = cattle_data, family = binomial)\nsummary(model3)\n\n\nCall:\nglm(formula = History_Diarrhea ~ Breed + Age, family = binomial, \n    data = cattle_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)   -0.79869    0.33562  -2.380   0.0173 *\nBreedHolstein  0.24110    0.22365   1.078   0.2810  \nAge            0.02044    0.01304   1.568   0.1169  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 453.09  on 329  degrees of freedom\nResidual deviance: 449.69  on 327  degrees of freedom\nAIC: 455.69\n\nNumber of Fisher Scoring iterations: 4\n\n\nFourth model: linear logistic regression to test age differences across vaccination status (we do not expect correlation in our dataset)\n\nmodel4 &lt;- lm(Age ~ Vaccination, data = cattle_data)\nsummary(model4)\n\n\nCall:\nlm(formula = Age ~ Vaccination, data = cattle_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-16.1402  -7.5482   0.1558   7.8598  14.4518 \n\nCoefficients:\n               Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)     21.5482     0.6701  32.155   &lt;2e-16 ***\nVaccinationYes   0.5921     0.9506   0.623    0.534    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.634 on 328 degrees of freedom\nMultiple R-squared:  0.001181,  Adjusted R-squared:  -0.001864 \nF-statistic: 0.3879 on 1 and 328 DF,  p-value: 0.5338\n\n\nFifth model: linear logistic regression to test age differences across disease history (we do not expect correlation in our dataset)\n\nmodel5 &lt;- lm(Age ~ Disease_History, data = cattle_data)\nsummary(model5)\n\n\nCall:\nlm(formula = Age ~ Disease_History, data = cattle_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-16.4615  -7.4615   0.2255   7.5385  15.2255 \n\nCoefficients:\n                                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)                      22.1712     0.8183  27.093   &lt;2e-16 ***\nDisease_HistoryRespiratory Only  -1.3967     1.1825  -1.181    0.238    \nDisease_HistoryDiarrhea Only      0.2904     1.1424   0.254    0.800    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 8.622 on 327 degrees of freedom\nMultiple R-squared:  0.007074,  Adjusted R-squared:  0.001001 \nF-statistic: 1.165 on 2 and 327 DF,  p-value: 0.3133\n\n\nPlotting our graphs to see how they compare with our associations seen in the linear regression models\nFirst plot: Violin plot to compare disease history with the vaccination status per breed\n\np1 &lt;- ggplot(cattle_data, aes(x = Disease_History, y = Vaccination, fill = Breed)) +\n  geom_violin() +\n  labs(x = \"Disease History\", y = \"Vaccination Status\", fill = \"Breed\") +\n  theme_minimal()\n\nprint(p1)\n\n\n\n\n\n\n\n\nThis violin plot doesn’t really display this data well. We will produce a bar plot instead.\nGenerate a bar plot to evaluate the relationship between vaccination status and disease history by comparing the proportions of animals with history of disease and vaccination status. We are working with proportion instead of count to make interpretation easier.\n\np2 &lt;- ggplot(cattle_data, aes(x = Disease_History, fill = Vaccination)) +\n    geom_bar(position = \"fill\") +  \n    labs(x = \"Disease History\", y = \"Proportion\", fill = \"Vaccination Status\") +\n    theme_minimal()\n\nprint(p2)\n\n\n\n\n\n\n\n\nThird plot: Scatter plot of age vs vaccination status\n\np3 &lt;- ggplot(cattle_data, aes(x = Vaccination, y = Age, color = Vaccination)) +\n  geom_jitter(width = 0.2, alpha = 0.6) +\n  labs(x = \"Vaccination Status\", y = \"Age (Months)\") +\n  theme_minimal()\n\nprint(p3)\n\n\n\n\n\n\n\n\nVaccination status does not show any obvious relationship with age.\nFourth plot: Scatter plot of age vs History of infection (respiratory and diarrheal)\n\np4 &lt;- ggplot(cattle_data, aes(x = Disease_History, y = Age, color = Disease_History)) +\n  geom_jitter(width = 0.2, alpha = 0.6) +\n  labs(x = \"History of Disease\", y = \"Age (Months)\", color = \"Disease History\") +\n  theme_minimal()\n\nprint(p4)\n\n\n\n\n\n\n\n\nFifth plot: Bar plot comparing disease history across all breeds\n\np5 &lt;- ggplot(cattle_data, aes(x = Breed, fill = Disease_History)) +\n  geom_bar(position = \"dodge\") +\n  labs(x = \"Breed\", y = \"Count\", fill = \"History of Disease\") +\n  theme_minimal()\n\nprint(p5)\n\n\n\n\n\n\n\n\nFrom the graphs we once again see that there is no obvious relationship between disease status and age (as we created in the synthetic data, which might differ from real life evaluations). We do see that there is slightly higher incidence of respiratory disease in beef animals, and diarrhea disease in dairy animals.\nIn summary, our models used for evalaution work well and we produce the expected results from this synthetic dataset. There are some aspects of the synthetic dataset that could be worked on further to make it more closely resemble and model a real-world situation, and then we might need more evaluation. However, as a proof of concept this is helpful at this stage."
  },
  {
    "objectID": "cdcdata-exercise/cdcdata-exercise.html",
    "href": "cdcdata-exercise/cdcdata-exercise.html",
    "title": "CDC Data Exercise",
    "section": "",
    "text": "This dataset was sourced from the data repositories on the CDC website. This data evaluates the weekly hospitalization metrics for viral respiratory infections by jurisdiction in the United States from the mandatory reporting periods of August 1, 2020 to April 30, 2024, and then some voluntary reporting from May 1, 2024 - October 31, 2024. The data focuses on viral respiratory hospitalizations, primarily COVID-19 and influenza, and is derived from the National Healthcare Safety Network (NHSN).\nThe data is reported by week and contains information on the number of hospitals reporting adult COVID-19 adminssions, pediatric COVID-19 admissions, and influenza admissions. It then also provides a number of other variables related to hospital admissions and occupancies (including inpatient and ICU bed occupancies), and this is reported by geographic aggregation (State) and icludes the number of hospitals reporting in that time frame (including the hospital and patient reporting days).\nThe data can be found at this URL: https://data.cdc.gov/Public-Health-Surveillance/Weekly-United-States-Hospitalization-Metrics-by-Ju/aemt-mg7g/about_data\nThe citation for this data is:\nCenters for Disease Control and Prevention, Division of Healthcare Quality Promotion, National Healthcare Safety Network (NHSN), Weekly United States Viral Respiratory Hospitalization, Bed Occupancy, and Bed Capacity Metrics by Jurisdiction, During the Mandatory Hospital Reporting Period from August 1, 2020 to April 30, 2024, and for Data Reported Voluntarily Beginning May 1, 2024 (version date: November 1, 2024).\n\n\nFirst let’s load the required packages for our data analysis\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.2\n\n\nWarning: package 'readr' was built under R version 4.4.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(dplyr)\nlibrary(\"readr\")\nlibrary(ggplot2)\nlibrary(patchwork)\n\nLet us load and get a summary of the CDC dataset. Note that the name of the file was changed at download to have a more user friendly name. Change the name at download to the same name used below or change the name of the file when loading the data to the name We will name this full dataset as cdc_datsset in R and work with that variable name.\n\ncdc_dataset &lt;- read_csv(\"cdc_data_weekly_respiratory_hospitalizations_2020-2024.csv\")\n\nRows: 12597 Columns: 82\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (1): Geographic aggregation\ndbl  (80): Hospital Reporting Days, Percent Hospital Reporting Days, Number ...\ndate  (1): Week Ending Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n#Viewing the dataset and getting a summary\nsummary(cdc_dataset)\n\n Week Ending Date     Geographic aggregation Hospital Reporting Days\n Min.   :2020-08-08   Length:12597           Min.   :    0.0        \n 1st Qu.:2021-08-28   Class :character       1st Qu.:  204.2        \n Median :2022-09-17   Mode  :character       Median :  474.0        \n Mean   :2022-09-17                          Mean   : 1101.5        \n 3rd Qu.:2023-10-07                          3rd Qu.:  797.0        \n Max.   :2024-10-26                          Max.   :33925.0        \n                                             NA's   :171            \n Percent Hospital Reporting Days\n Min.   :0.0000                 \n 1st Qu.:0.9500                 \n Median :0.9800                 \n Mean   :0.8996                 \n 3rd Qu.:1.0000                 \n Max.   :1.0000                 \n NA's   :171                    \n Number Hospitals Reporting Adult COVID-19 Admissions\n Min.   :   0.0                                      \n 1st Qu.:  28.0                                      \n Median :  64.0                                      \n Mean   : 157.4                                      \n 3rd Qu.: 114.0                                      \n Max.   :4872.0                                      \n                                                     \n Number Hospitals Reporting Pediatric COVID-19 Admissions\n Min.   :   0.0                                          \n 1st Qu.:  27.0                                          \n Median :  63.0                                          \n Mean   : 156.4                                          \n 3rd Qu.: 114.0                                          \n Max.   :4872.0                                          \n                                                         \n Number Hospitals Reporting Influenza Admissions\n Min.   :   0.0                                 \n 1st Qu.:  24.0                                 \n Median :  58.0                                 \n Mean   : 144.9                                 \n 3rd Qu.: 112.0                                 \n Max.   :4872.0                                 \n                                                \n Number Hospitals Reporting Prevalent Influenza Hospitalizations\n Min.   :   0.0                                                 \n 1st Qu.:  24.0                                                 \n Median :  58.0                                                 \n Mean   : 144.9                                                 \n 3rd Qu.: 112.0                                                 \n Max.   :4872.0                                                 \n                                                                \n Number Hospitals Reporting Hospitalized Influenza ICU Patients\n Min.   :   0.0                                                \n 1st Qu.:  24.0                                                \n Median :  58.0                                                \n Mean   : 144.9                                                \n 3rd Qu.: 112.0                                                \n Max.   :4872.0                                                \n                                                               \n Number Hospitals Reporting Inpatient Beds Number Hospitals Reporting ICU Beds\n Min.   :   0.0                            Min.   :   0.0                     \n 1st Qu.:  28.0                            1st Qu.:  28.0                     \n Median :  63.0                            Median :  63.0                     \n Mean   : 156.7                            Mean   : 157.1                     \n 3rd Qu.: 114.0                            3rd Qu.: 114.0                     \n Max.   :4868.0                            Max.   :4872.0                     \n                                                                              \n Number Hospitals Reporting Inpatient Beds Occupied\n Min.   :   0.0                                    \n 1st Qu.:  28.0                                    \n Median :  63.0                                    \n Mean   : 156.7                                    \n 3rd Qu.: 114.0                                    \n Max.   :4868.0                                    \n                                                   \n Number Hospitals Reporting ICU Beds Occupied\n Min.   :   0.0                              \n 1st Qu.:  27.0                              \n Median :  63.0                              \n Mean   : 155.8                              \n 3rd Qu.: 114.0                              \n Max.   :4864.0                              \n                                             \n Number Hospitals Reporting Percent Inpatient Bed Occupancy\n Min.   :   0.0                                            \n 1st Qu.:  28.0                                            \n Median :  63.0                                            \n Mean   : 156.7                                            \n 3rd Qu.: 114.0                                            \n Max.   :4868.0                                            \n                                                           \n Number Hospitals Reporting Percent ICU Bed Occupancy\n Min.   :   0.0                                      \n 1st Qu.:  27.0                                      \n Median :  63.0                                      \n Mean   : 155.8                                      \n 3rd Qu.: 114.0                                      \n Max.   :4864.0                                      \n                                                     \n Number Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy\n Min.   :   0.0                                                     \n 1st Qu.:  27.0                                                     \n Median :  63.0                                                     \n Mean   : 156.3                                                     \n 3rd Qu.: 114.0                                                     \n Max.   :4868.0                                                     \n                                                                    \n Number Hospitals Reporting Percent Influenza Inpatient Bed Occupancy\n Min.   :   0.0                                                      \n 1st Qu.:  24.0                                                      \n Median :  57.0                                                      \n Mean   : 144.4                                                      \n 3rd Qu.: 112.0                                                      \n Max.   :4868.0                                                      \n                                                                     \n Number Hospitals Reporting Percent COVID-19 ICU Bed Occupancy\n Min.   :   0.0                                               \n 1st Qu.:  27.0                                               \n Median :  63.0                                               \n Mean   : 156.3                                               \n 3rd Qu.: 114.0                                               \n Max.   :4872.0                                               \n                                                              \n Number Hospitals Reporting Percent Influenza ICU Bed Occupancy\n Min.   :   0.0                                                \n 1st Qu.:  24.0                                                \n Median :  57.0                                                \n Mean   : 144.7                                                \n 3rd Qu.: 112.0                                                \n Max.   :4872.0                                                \n                                                               \n Number Hospitals Reporting Total COVID-19 Admissions\n Min.   :   0.0                                      \n 1st Qu.:  28.0                                      \n Median :  64.0                                      \n Mean   : 157.4                                      \n 3rd Qu.: 114.0                                      \n Max.   :4872.0                                      \n                                                     \n Number Hospitals Reporting Prevalent COVID-19 Hospitalizations\n Min.   :   0                                                  \n 1st Qu.:  27                                                  \n Median :  63                                                  \n Mean   : 157                                                  \n 3rd Qu.: 114                                                  \n Max.   :4872                                                  \n                                                               \n Number Hospitals Reporting Hospitalized COVID-19 ICU Patients\n Min.   :   0.0                                               \n 1st Qu.:  27.0                                               \n Median :  63.0                                               \n Mean   : 156.4                                               \n 3rd Qu.: 114.0                                               \n Max.   :4872.0                                               \n                                                              \n Weekly Average Adult COVID-19 Admissions\n Min.   :    0.00                        \n 1st Qu.:    8.71                        \n Median :   28.86                        \n Mean   :  154.91                        \n 3rd Qu.:   86.82                        \n Max.   :20271.57                        \n NA's   :263                             \n Weekly Total Adult COVID-19 Admissions\n Min.   :     0.0                      \n 1st Qu.:    61.0                      \n Median :   202.0                      \n Mean   :  1084.3                      \n 3rd Qu.:   607.8                      \n Max.   :141901.0                      \n NA's   :263                           \n Weekly Average Pediatric COVID-19 Admissions\n Min.   :  0.000                             \n 1st Qu.:  0.290                             \n Median :  1.140                             \n Mean   :  5.356                             \n 3rd Qu.:  3.140                             \n Max.   :907.140                             \n NA's   :272                                 \n Weekly Total Pediatric COVID-19 Admissions Weekly Average COVID-19 Admissions\n Min.   :   0.00                            Min.   :    0.00                  \n 1st Qu.:   2.00                            1st Qu.:    9.43                  \n Median :   8.00                            Median :   30.14                  \n Mean   :  37.49                            Mean   :  160.27                  \n 3rd Qu.:  22.00                            3rd Qu.:   89.57                  \n Max.   :6350.00                            Max.   :21178.71                  \n NA's   :272                                NA's   :263                       \n Weekly Total COVID-19 Admissions Weekly Average Influenza Admissions\n Min.   :     0                   Min.   :   0.00                    \n 1st Qu.:    66                   1st Qu.:   0.14                    \n Median :   211                   Median :   1.14                    \n Mean   :  1122                   Mean   :  13.44                    \n 3rd Qu.:   627                   3rd Qu.:   4.71                    \n Max.   :148251                   Max.   :3696.00                    \n NA's   :263                      NA's   :778                        \n Weekly Total Influenza Admissions\n Min.   :    0.00                 \n 1st Qu.:    1.00                 \n Median :    8.00                 \n Mean   :   94.09                 \n 3rd Qu.:   33.00                 \n Max.   :25872.00                 \n NA's   :778                      \n Weekly Average Prevalent COVID-19 Hospitalizations\n Min.   :     0.00                                 \n 1st Qu.:    55.86                                 \n Median :   193.64                                 \n Mean   :  1121.83                                 \n 3rd Qu.:   600.18                                 \n Max.   :143988.14                                 \n NA's   :263                                       \n Weekly Average Prevalent Influenza Hospitalizations\n Min.   :    0.00                                   \n 1st Qu.:    1.00                                   \n Median :    6.29                                   \n Mean   :   70.75                                   \n 3rd Qu.:   26.86                                   \n Max.   :15911.71                                   \n NA's   :786                                        \n Weekly Average Hospitalized COVID-19 ICU Patients\n Min.   :    0.00                                 \n 1st Qu.:    7.43                                 \n Median :   32.14                                 \n Mean   :  229.82                                 \n 3rd Qu.:  117.00                                 \n Max.   :26442.14                                 \n NA's   :274                                      \n Weekly Average Hospitalized Influenza ICU Patients\n Min.   :   0.00                                   \n 1st Qu.:   0.00                                   \n Median :   0.86                                   \n Mean   :  11.23                                   \n 3rd Qu.:   3.71                                   \n Max.   :2333.71                                   \n NA's   :778                                       \n Weekly Average Inpatient Beds Weekly Average ICU Beds\n Min.   :     7                Min.   :     0.0       \n 1st Qu.:  2590                1st Qu.:   332.3       \n Median :  7648                Median :  1052.9       \n Mean   : 22430                Mean   :  3363.7       \n 3rd Qu.: 15473                3rd Qu.:  2425.8       \n Max.   :710607                Max.   :113106.0       \n NA's   :263                   NA's   :263            \n Weekly Average Inpatient Beds Occupied Weekly Average ICU Beds Occupied\n Min.   :     0.3                       Min.   :    0.0                 \n 1st Qu.:  1891.2                       1st Qu.:  221.7                 \n Median :  5241.7                       Median :  747.6                 \n Mean   : 16707.7                       Mean   : 2370.4                 \n 3rd Qu.: 11438.7                       3rd Qu.: 1570.2                 \n Max.   :538750.1                       Max.   :82660.3                 \n NA's   :263                            NA's   :278                     \n Weekly Average Percent Inpatient Bed Occupancy\n Min.   :0.0400                                \n 1st Qu.:0.6700                                \n Median :0.7300                                \n Mean   :0.7187                                \n 3rd Qu.:0.7900                                \n Max.   :1.0900                                \n NA's   :263                                   \n Weekly Average Percent ICU Bed Occupancy\n Min.   :0.0000                          \n 1st Qu.:0.6300                          \n Median :0.7000                          \n Mean   :0.6823                          \n 3rd Qu.:0.7600                          \n Max.   :1.0000                          \n NA's   :309                             \n Weekly Average Percent COVID-19 Inpatient Bed Occupancy\n Min.   :0.00000                                        \n 1st Qu.:0.01000                                        \n Median :0.03000                                        \n Mean   :0.04221                                        \n 3rd Qu.:0.05000                                        \n Max.   :0.35000                                        \n NA's   :263                                            \n Weekly Average Percent Influenza Inpatient Bed Occupancy\n Min.   :0.0000                                          \n 1st Qu.:0.0000                                          \n Median :0.0000                                          \n Mean   :0.0023                                          \n 3rd Qu.:0.0000                                          \n Max.   :0.0700                                          \n NA's   :781                                             \n Weekly Average Percent COVID-19 ICU Bed Occupancy\n Min.   :0.00000                                  \n 1st Qu.:0.01000                                  \n Median :0.03000                                  \n Mean   :0.05781                                  \n 3rd Qu.:0.07000                                  \n Max.   :0.68000                                  \n NA's   :305                                      \n Weekly Average Percent Influenza ICU Bed Occupancy\n Min.   :0.0000                                    \n 1st Qu.:0.0000                                    \n Median :0.0000                                    \n Mean   :0.0026                                    \n 3rd Qu.:0.0000                                    \n Max.   :0.0900                                    \n NA's   :839                                       \n Percent Adult COVID-19 Admissions Percent Pediatric COVID-19 Admissions\n Min.   :0.0000                    Min.   :0.0000                       \n 1st Qu.:0.9500                    1st Qu.:0.0200                       \n Median :0.9700                    Median :0.0300                       \n Mean   :0.9537                    Mean   :0.0454                       \n 3rd Qu.:0.9800                    3rd Qu.:0.0500                       \n Max.   :1.0000                    Max.   :1.0000                       \n NA's   :574                       NA's   :574                          \n Percent Hospitals Reporting Adult COVID-19 Admissions\n Min.   :0.0000                                       \n 1st Qu.:0.9600                                       \n Median :0.9800                                       \n Mean   :0.8984                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Pediatric COVID-19 Admissions\n Min.   :0.0000                                           \n 1st Qu.:0.9600                                           \n Median :0.9800                                           \n Mean   :0.8927                                           \n 3rd Qu.:1.0000                                           \n Max.   :1.0000                                           \n                                                          \n Percent Hospitals Reporting Influenza Admissions\n Min.   :0.0000                                  \n 1st Qu.:0.9200                                  \n Median :0.9700                                  \n Mean   :0.8312                                  \n 3rd Qu.:1.0000                                  \n Max.   :1.0000                                  \n                                                 \n Percent Hospitals Reporting Prevalent Influenza Hospitalizations\n Min.   :0.0000                                                  \n 1st Qu.:0.9200                                                  \n Median :0.9700                                                  \n Mean   :0.8313                                                  \n 3rd Qu.:1.0000                                                  \n Max.   :1.0000                                                  \n                                                                 \n Percent Hospitals Reporting Hospitalized Influenza ICU Patients\n Min.   :0.0000                                                 \n 1st Qu.:0.9200                                                 \n Median :0.9700                                                 \n Mean   :0.8312                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Inpatient Beds\n Min.   :0.0000                            \n 1st Qu.:0.9500                            \n Median :0.9800                            \n Mean   :0.8945                            \n 3rd Qu.:1.0000                            \n Max.   :1.0000                            \n                                           \n Percent Hospitals Reporting ICU Beds\n Min.   :0.0000                      \n 1st Qu.:0.9600                      \n Median :0.9800                      \n Mean   :0.8969                      \n 3rd Qu.:1.0000                      \n Max.   :1.0000                      \n                                     \n Percent Hospitals Reporting Inpatient Beds Occupied\n Min.   :0.0000                                     \n 1st Qu.:0.9500                                     \n Median :0.9800                                     \n Mean   :0.8945                                     \n 3rd Qu.:1.0000                                     \n Max.   :1.0000                                     \n                                                    \n Percent Hospitals Reporting ICU Beds Occupied\n Min.   :0.0000                               \n 1st Qu.:0.9500                               \n Median :0.9800                               \n Mean   :0.8881                               \n 3rd Qu.:1.0000                               \n Max.   :1.0000                               \n                                              \n Percent Hospitals Reporting Percent Inpatient Bed Occupancy\n Min.   :0.0000                                             \n 1st Qu.:0.9500                                             \n Median :0.9800                                             \n Mean   :0.8945                                             \n 3rd Qu.:1.0000                                             \n Max.   :1.0000                                             \n                                                            \n Percent Hospitals Reporting Percent ICU Bed Occupancy\n Min.   :0.0000                                       \n 1st Qu.:0.9500                                       \n Median :0.9800                                       \n Mean   :0.8881                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy\n Min.   :0.0000                                                      \n 1st Qu.:0.9500                                                      \n Median :0.9800                                                      \n Mean   :0.8926                                                      \n 3rd Qu.:1.0000                                                      \n Max.   :1.0000                                                      \n                                                                     \n Percent Hospitals Reporting Percent Influenza Inpatient Bed Occupancy\n Min.   :0.0000                                                       \n 1st Qu.:0.9200                                                       \n Median :0.9700                                                       \n Mean   :0.8293                                                       \n 3rd Qu.:1.0000                                                       \n Max.   :1.0000                                                       \n                                                                      \n Percent Hospitals Reporting Percent COVID-19 ICU Bed Occupancy\n Min.   :0.0000                                                \n 1st Qu.:0.9600                                                \n Median :0.9800                                                \n Mean   :0.8916                                                \n 3rd Qu.:1.0000                                                \n Max.   :1.0000                                                \n                                                               \n Percent Hospitals Reporting Percent Influenza ICU Bed Occupancy\n Min.   :0.0000                                                 \n 1st Qu.:0.9200                                                 \n Median :0.9700                                                 \n Mean   :0.8305                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Total COVID-19 Admissions\n Min.   :0.0000                                       \n 1st Qu.:0.9600                                       \n Median :0.9800                                       \n Mean   :0.8985                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Prevalent COVID-19 Hospitalizations\n Min.   :0.0000                                                 \n 1st Qu.:0.9600                                                 \n Median :0.9800                                                 \n Mean   :0.8963                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Hospitalized COVID-19 ICU Patients\n Min.   :0.0000                                                \n 1st Qu.:0.9600                                                \n Median :0.9800                                                \n Mean   :0.8925                                                \n 3rd Qu.:1.0000                                                \n Max.   :1.0000                                                \n                                                               \n Absolute Change in the Percent Hospitals Reporting Adult COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.2037                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Pediatric COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                               \n 1st Qu.:   0.0000                                                                               \n Median :   0.0000                                                                               \n Mean   :  -0.1778                                                                               \n 3rd Qu.:   0.0000                                                                               \n Max.   : 100.0000                                                                               \n NA's   :57                                                                                      \n Absolute Change in the Percent Hospitals Reporting Influenza Admissions from Prior Week\n Min.   :-100.0000                                                                      \n 1st Qu.:   0.0000                                                                      \n Median :   0.0000                                                                      \n Mean   :   0.1491                                                                      \n 3rd Qu.:   0.0000                                                                      \n Max.   : 100.0000                                                                      \n NA's   :57                                                                             \n Absolute Change in the Percent Hospitals Reporting Prevalent Influenza Hospitalizations from Prior Week\n Min.   :-100.0000                                                                                      \n 1st Qu.:   0.0000                                                                                      \n Median :   0.0000                                                                                      \n Mean   :   0.1487                                                                                      \n 3rd Qu.:   0.0000                                                                                      \n Max.   : 100.0000                                                                                      \n NA's   :57                                                                                             \n Absolute Change in the Percent Hospitals Reporting Hospitalized Influenza ICU Patients from Prior Week\n Min.   :-100.0000                                                                                     \n 1st Qu.:   0.0000                                                                                     \n Median :   0.0000                                                                                     \n Mean   :   0.1485                                                                                     \n 3rd Qu.:   0.0000                                                                                     \n Max.   : 100.0000                                                                                     \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Inpatient Beds from Prior Week\n Min.   :-100.0000                                                                \n 1st Qu.:   0.0000                                                                \n Median :   0.0000                                                                \n Mean   :  -0.2326                                                                \n 3rd Qu.:   0.0000                                                                \n Max.   : 100.0000                                                                \n NA's   :57                                                                       \n Absolute Change in the Percent Hospitals Reporting ICU Beds from Prior Week\n Min.   :-100.0000                                                          \n 1st Qu.:   0.0000                                                          \n Median :   0.0000                                                          \n Mean   :  -0.2561                                                          \n 3rd Qu.:   0.0000                                                          \n Max.   : 100.0000                                                          \n NA's   :57                                                                 \n Absolute Change in the Percent Hospitals Reporting Inpatient Beds Occupied from Prior Week\n Min.   :-100.0000                                                                         \n 1st Qu.:   0.0000                                                                         \n Median :   0.0000                                                                         \n Mean   :  -0.2326                                                                         \n 3rd Qu.:   0.0000                                                                         \n Max.   : 100.0000                                                                         \n NA's   :57                                                                                \n Absolute Change in the Percent Hospitals Reporting ICU Beds Occupied from Prior Week\n Min.   :-100.0000                                                                   \n 1st Qu.:   0.0000                                                                   \n Median :   0.0000                                                                   \n Mean   :  -0.1627                                                                   \n 3rd Qu.:   0.0000                                                                   \n Max.   : 100.0000                                                                   \n NA's   :57                                                                          \n Absolute Change in the Percent Hospitals Reporting Percent Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                 \n 1st Qu.:   0.0000                                                                                 \n Median :   0.0000                                                                                 \n Mean   :  -0.2326                                                                                 \n 3rd Qu.:   0.0000                                                                                 \n Max.   : 100.0000                                                                                 \n NA's   :57                                                                                        \n Absolute Change in the Percent Hospitals Reporting Percent ICU Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.1627                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                          \n 1st Qu.:   0.0000                                                                                          \n Median :   0.0000                                                                                          \n Mean   :  -0.1973                                                                                          \n 3rd Qu.:   0.0000                                                                                          \n Max.   : 100.0000                                                                                          \n NA's   :57                                                                                                 \n Absolute Change in the Percent Hospitals Reporting Percent Influenza Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                           \n 1st Qu.:   0.0000                                                                                           \n Median :   0.0000                                                                                           \n Mean   :   0.1487                                                                                           \n 3rd Qu.:   0.0000                                                                                           \n Max.   : 100.0000                                                                                           \n NA's   :57                                                                                                  \n Absolute Change in the Percent Hospitals Reporting Percent COVID-19 ICU Bed Occupancy from Prior Week\n Min.   :-100.000                                                                                     \n 1st Qu.:   0.000                                                                                     \n Median :   0.000                                                                                     \n Mean   :  -0.195                                                                                     \n 3rd Qu.:   0.000                                                                                     \n Max.   : 100.000                                                                                     \n NA's   :57                                                                                           \n Absolute Change in the Percent Hospitals Reporting Percent Influenza ICU Bed Occupancy from Prior Week\n Min.   :-100.000                                                                                      \n 1st Qu.:   0.000                                                                                      \n Median :   0.000                                                                                      \n Mean   :   0.142                                                                                      \n 3rd Qu.:   0.000                                                                                      \n Max.   : 100.000                                                                                      \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Total COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.2091                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Prevalent COVID-19 Hospitalizations from Prior Week\n Min.   :-100.0000                                                                                     \n 1st Qu.:   0.0000                                                                                     \n Median :   0.0000                                                                                     \n Mean   :  -0.2261                                                                                     \n 3rd Qu.:   0.0000                                                                                     \n Max.   : 100.0000                                                                                     \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Hospitalized COVID-19 ICU Patients from Prior Week\n Min.   :-100.000                                                                                     \n 1st Qu.:   0.000                                                                                     \n Median :   0.000                                                                                     \n Mean   :  -0.201                                                                                     \n 3rd Qu.:   0.000                                                                                     \n Max.   : 100.000                                                                                     \n NA's   :57                                                                                           \n\nview(cdc_dataset)\nprint(cdc_dataset)\n\n# A tibble: 12,597 × 82\n   `Week Ending Date` `Geographic aggregation` `Hospital Reporting Days`\n   &lt;date&gt;             &lt;chr&gt;                                        &lt;dbl&gt;\n 1 2020-08-08         AK                                              98\n 2 2020-08-15         AK                                              98\n 3 2020-08-22         AK                                              98\n 4 2020-08-29         AK                                              97\n 5 2020-09-05         AK                                              97\n 6 2020-09-12         AK                                              98\n 7 2020-09-19         AK                                              98\n 8 2020-09-26         AK                                              96\n 9 2020-10-03         AK                                              97\n10 2020-10-10         AK                                              98\n# ℹ 12,587 more rows\n# ℹ 79 more variables: `Percent Hospital Reporting Days` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Pediatric COVID-19 Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Prevalent Influenza Hospitalizations` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Hospitalized Influenza ICU Patients` &lt;dbl&gt;, …\n\n\nThe summary of the dataset is valuable but it helps to actually view and scroll through the data for a better overview and feel of the data.\nWe can see that this is a very large dataset. There are 12597 observations in this dataset and 82 columns. We have to do a lot of scrolling to see much, including our summary, which is not very helpful. This is very big for us to evaluate and so we might want to cut it down a bit before we spend time filtering through and cleaning all of the data that is not of interest to us.\nFor this evaluation we want to have an idea of how COVID-19 and infuenza affected the population by evaluating the hospitilization rates. We are interested in knowing how this affected the healthcare system so we will include the information related to how many hospitals reported data and the occupancy of these hospitals. From viewing the data there seems to be overlap and repetition of some of the data, as well as categories and definitions that are not necessary for us, so we will reduce our columns to those of greatest interest to us. We will focus on adult data as the reporting of pediatric data seems to be limited to COVID-19 and thus will limit any comparisons to influenza.\nWe are also not going to split up ICU vs general admissions for our evaluations, but this is somehting that could be broken down.\nWe will also cut down our observations by focusing on one State and by defining our time frame.\nThis part could be done in either order and the State and time frame could be adapted.\nCutting down our dataset: Since we know that the mandatory reporting period will have the best information reported, we will focus on this time frame August 1, 2020 - April 30, 2024. We will also start by focusing on the state of Georgia (region=GA). We will use the filter function to get the rows with these variables.\n\n#Using the filter function to select for our rows of interest. We will assign these to two new variables.\n#Filter by State = selecting GA\ncdc_data_georgia &lt;- cdc_dataset |&gt; filter(`Geographic aggregation` == \"GA\")\n\n#Filter further by date = August 1, 2020 - April 30, 2024\ncdc_georgia_mandatory_data &lt;- cdc_data_georgia |&gt; filter(`Week Ending Date`&gt;=\"2020-08-01\" & `Week Ending Date` &lt;= \"2024-04-30\")\n\nWe can see that we have filtered our observations down to 195 observations. We could do the same thing for multiple states (or have included multiple states) and compared the data between states.\nNow we will focus on selecting the columns that we are most interested in: We will use the select function. Columns of interest to be kept: - Week Ending Date - Geographic aggregation - Number Hospitals Reporting Adult COVID-19 Admissions - Number Hospitals Reporting Influenza Admissions - Weekly Total Adult COVID-19 Admissions - Weekly Total Influenza Admissions - Weekly Average Hospitalized COVID-19 ICU Patients - Weekly Average Hospitalized Influenza ICU Patients - Weekly Average Inpatient Beds - Weekly Average ICU Beds - Weekly Average Inpatient Beds Occupied - Weekly Average ICU Beds Occupied\nDefining our new dataset with columns of interest:\n\n#Using the select function to define our columns of interest for the GA dataset that we refined\ncdc_ga_mandatory_refined &lt;- cdc_georgia_mandatory_data |&gt; select(`Week Ending Date`,\n`Geographic aggregation`,\n`Number Hospitals Reporting Adult COVID-19 Admissions`,\n`Number Hospitals Reporting Influenza Admissions`,\n`Weekly Total Adult COVID-19 Admissions`,\n`Weekly Total Influenza Admissions`,\n`Weekly Average Hospitalized COVID-19 ICU Patients`,\n`Weekly Average Hospitalized Influenza ICU Patients`,\n`Weekly Average Inpatient Beds`,\n`Weekly Average ICU Beds`,\n`Weekly Average Inpatient Beds Occupied`,\n`Weekly Average ICU Beds Occupied`)\n\n#View the new datset and a summary\nsummary(cdc_ga_mandatory_refined)\n\n Week Ending Date     Geographic aggregation\n Min.   :2020-08-08   Length:195            \n 1st Qu.:2021-07-13   Class :character      \n Median :2022-06-18   Mode  :character      \n Mean   :2022-06-18                         \n 3rd Qu.:2023-05-23                         \n Max.   :2024-04-27                         \n                                            \n Number Hospitals Reporting Adult COVID-19 Admissions\n Min.   : 87.0                                       \n 1st Qu.:137.0                                       \n Median :138.0                                       \n Mean   :137.5                                       \n 3rd Qu.:139.0                                       \n Max.   :140.0                                       \n                                                     \n Number Hospitals Reporting Influenza Admissions\n Min.   :  0.0                                  \n 1st Qu.:134.0                                  \n Median :137.0                                  \n Mean   :127.2                                  \n 3rd Qu.:139.0                                  \n Max.   :139.0                                  \n                                                \n Weekly Total Adult COVID-19 Admissions Weekly Total Influenza Admissions\n Min.   : 122.0                         Min.   :   0.00                  \n 1st Qu.: 410.5                         1st Qu.:  17.00                  \n Median : 816.0                         Median :  30.00                  \n Mean   :1259.5                         Mean   :  73.04                  \n 3rd Qu.:1446.5                         3rd Qu.:  54.75                  \n Max.   :5459.0                         Max.   :1123.00                  \n                                        NA's   :5                        \n Weekly Average Hospitalized COVID-19 ICU Patients\n Min.   :  28.57                                  \n 1st Qu.:  69.64                                  \n Median : 137.29                                  \n Mean   : 283.58                                  \n 3rd Qu.: 376.29                                  \n Max.   :1319.86                                  \n                                                  \n Weekly Average Hospitalized Influenza ICU Patients\n Min.   :  0.000                                   \n 1st Qu.:  2.895                                   \n Median : 31.570                                   \n Mean   : 45.580                                   \n 3rd Qu.: 71.395                                   \n Max.   :255.000                                   \n NA's   :5                                         \n Weekly Average Inpatient Beds Weekly Average ICU Beds\n Min.   :12754                 Min.   :2403           \n 1st Qu.:17263                 1st Qu.:3007           \n Median :17994                 Median :3043           \n Mean   :18361                 Mean   :3069           \n 3rd Qu.:20123                 3rd Qu.:3153           \n Max.   :20852                 Max.   :3422           \n                                                      \n Weekly Average Inpatient Beds Occupied Weekly Average ICU Beds Occupied\n Min.   :10065                          Min.   :1210                    \n 1st Qu.:13769                          1st Qu.:2315                    \n Median :14365                          Median :2395                    \n Mean   :14415                          Mean   :2377                    \n 3rd Qu.:15170                          3rd Qu.:2484                    \n Max.   :16660                          Max.   :2828                    \n                                                                        \n\nview(cdc_ga_mandatory_refined)\nprint(cdc_ga_mandatory_refined)\n\n# A tibble: 195 × 12\n   `Week Ending Date` `Geographic aggregation` Number Hospitals Reporting Adul…¹\n   &lt;date&gt;             &lt;chr&gt;                                                &lt;dbl&gt;\n 1 2020-08-08         GA                                                      87\n 2 2020-08-15         GA                                                     130\n 3 2020-08-22         GA                                                     130\n 4 2020-08-29         GA                                                     131\n 5 2020-09-05         GA                                                     133\n 6 2020-09-12         GA                                                     134\n 7 2020-09-19         GA                                                     129\n 8 2020-09-26         GA                                                     131\n 9 2020-10-03         GA                                                     139\n10 2020-10-10         GA                                                     139\n# ℹ 185 more rows\n# ℹ abbreviated name: ¹​`Number Hospitals Reporting Adult COVID-19 Admissions`\n# ℹ 9 more variables: `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Total Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Weekly Total Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized COVID-19 ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized Influenza ICU Patients` &lt;dbl&gt;, …\n\n\nWe have reduced our datset to a much more manageable set of information that we can refine and evalaute. If we feel that we should incude an additional column (left something valuable out) we can go back and add it now. Our sumamry shows us that we have a few NA values in our datset.\nWe will look for these using the is.na function. We will create a specific variable from these NA values to make it easier to visualise without searching. In reality, with the summary and reduced size of the dataset we can scroll through and find these if we want. However, printing these specifically allows us to isolate them quickly.\n\ncdc_refined_ga_NA &lt;- cdc_ga_mandatory_refined |&gt; filter(if_any(everything(), is.na))\n\nprint(cdc_refined_ga_NA)\n\n# A tibble: 5 × 12\n  `Week Ending Date` `Geographic aggregation` Number Hospitals Reporting Adult…¹\n  &lt;date&gt;             &lt;chr&gt;                                                 &lt;dbl&gt;\n1 2020-08-08         GA                                                       87\n2 2020-08-15         GA                                                      130\n3 2020-08-22         GA                                                      130\n4 2020-08-29         GA                                                      131\n5 2020-10-10         GA                                                      139\n# ℹ abbreviated name: ¹​`Number Hospitals Reporting Adult COVID-19 Admissions`\n# ℹ 9 more variables: `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Total Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Weekly Total Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized COVID-19 ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized Influenza ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Inpatient Beds` &lt;dbl&gt;, `Weekly Average ICU Beds` &lt;dbl&gt;, …\n\n\nWe can see that these NA values are in the first four weeks of observations, and one week in October 2020, and that they are all in the influenza observations. We might be led to believe that perhaps the recording/reporting (or testing) of influenza tests was halted in the peak of the COVID-19 pandemic when resources were limited, or that the order to report influenza cases for this use only cae through later. This is somehtign that we might be able to find on the CDC website if desired. We will not delete these observations because we would lose valuable information related to the COVID-19 pandemic from these weeks. We could potentially use synthetic data for these missing variables or we could work on date ranges that do not include these weeks (2020-08-08 - 2020-08-29 and 2020-10-10) if we want to compare COVID-19 to Influenza.\nWe will make a few plots of different variables. We will start by analyzing the COVID-19 data.\n\n#We are looking at the distribution of the total adult COVID-19 cases  \ncovid_adult_admissions_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Total Adult COVID-19 Admissions`)) + geom_histogram(bins=10,fill= \"green\", color = \"black\") + labs(title = \"Distribution of the weekly total adult COVID-19 Hospital Admissions\", x = \"Weekly Total Adult COVID-19 Admissions\", y = \"Week counts\")\n\nprint(covid_adult_admissions_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of this data (Distribution of the weekly total adult COVID-19 Hospital Admissions) and calcualte the standard deviation\n\nsummary(cdc_ga_mandatory_refined$`Weekly Total Adult COVID-19 Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  122.0   410.5   816.0  1259.5  1446.5  5459.0 \n\n#We will calculate the standard deviation\nsd(cdc_ga_mandatory_refined$`Weekly Total Adult COVID-19 Admissions`)\n\n[1] 1267.792\n\n\n\n#We are looking at the distribution of the average hospitalized COVID-19 ICU patients  \ncovid_icu_patients_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Hospitalized COVID-19 ICU Patients`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the average COVID-19 Hospital ICU Patients\", x = \"Weekly Average COVID-19 ICU Patients\", y = \"Week counts\")\n\nprint(covid_icu_patients_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of this data (Distribution of the average COVID-19 Hospital ICU Patients) and calcualte the standard deviation\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Hospitalized COVID-19 ICU Patients`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  28.57   69.64  137.29  283.58  376.29 1319.86 \n\n#We will calculate the standard deviation\nsd(cdc_ga_mandatory_refined$`Weekly Average Hospitalized COVID-19 ICU Patients`)\n\n[1] 315.2279\n\n\nWe see how many more patients were hospitalized than were in ICU in Georgia, as the max number for the ICU patients is quite close to mean value of the hospital admissions.\nLooking at the same distributions for the Influenza data:\n\n#We are looking at the distribution of the total Influenza cases  \ninfluenza_adult_admissions_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Total Influenza Admissions`)) + geom_histogram(bins=10,fill= \"blue\", color = \"black\") + labs(title = \"Distribution of the weekly Influenza Hospital Admissions\", x = \"Weekly Total Influenza Admissions\", y = \"Week counts\")\n\nprint(influenza_adult_admissions_plot)\n\nWarning: Removed 5 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nWe receive a warning that some values were excluded (likely our NA values).\nWe will get a summmary of this data (Weekly Total Influenza Admissions) and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Total Influenza Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n   0.00   17.00   30.00   73.04   54.75 1123.00       5 \n\n#We will calculate the standard deviation and exclude the NA values in the influenza data\nsd(cdc_ga_mandatory_refined$`Weekly Total Influenza Admissions`, na.rm = TRUE)  \n\n[1] 137.6914\n\n\nThe mean value for admissions for the influenza cases is a great deal lower than that from the COVID-19 cases. We see that the mean of the COVID-19 hospital admissions is 17.2 times greater than the mean from the influenza admissions.\n\n#We are looking at the distribution of the average influenza ICU patients  \ninfluenza_icu_patients_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Hospitalized Influenza ICU Patients`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the average Influenza Hospital ICU Patients\", x = \"Weekly Average Influenza ICU Patients\", y = \"Week counts\")\n\nprint(influenza_icu_patients_plot)\n\nWarning: Removed 5 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nWe get the same warning as our previous plot for the influenza cases (regarding the missing NA values).\nWe will get a summmary of this data (Weekly Average Influenza ICU Patients) and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Hospitalized Influenza ICU Patients`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n  0.000   2.895  31.570  45.580  71.395 255.000       5 \n\n#We will calculate the standard deviation and exclude the NA values in the influenza data\nsd(cdc_ga_mandatory_refined$`Weekly Average Hospitalized Influenza ICU Patients`, na.rm = TRUE)\n\n[1] 51.3058\n\n\nThe mean value for ICU patients for the influenza cases is also much lower than that from the COVID-19 cases (not quite as much compared to admissions). We see that the mean of the COVID-19 hospital admissions is 6.2 times greater than the mean from the influenza ICU patients.\nBy comparing the plots and summary data we generated for COVID-19 and Influenza cases we can already see the much greater number of hospital admissions and ICU cases from COVID-19 compared to influenza. We also see the wider range for the COVID-19 cases compared to Influenza. The pronounced impact of COVID-19 as a respiratory disease is obvious before we do further analysis.\nWe can evaluate the strain on the healthcare system by looking at the hospital beds that were occupied (we will just look at total numbers between inpatient and ICU and not as a percentage). This does not distinguish what caused the beds to be occupied.\nLooking at the distributions of occupied inptient beds:\n\n#We are looking at the distribution of the occupied inptient beds  \ncdc_inpatient_occupied_beds_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Inpatient Beds Occupied`)) + geom_histogram(bins=10,fill= \"blue\", color = \"black\") + labs(title = \"Distribution of the weekly Average Occupied Inpatient Beds\", x = \"Weekly Inpatient Beds\", y = \"Week counts\")\n\nprint(cdc_inpatient_occupied_beds_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of the inpatient occupied beds data and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Inpatient Beds Occupied`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  10065   13769   14365   14415   15170   16660 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Weekly Average Inpatient Beds Occupied`)\n\n[1] 1097.536\n\n\n\n#We are looking at the distribution of the occupied ICU beds  \ncdc_icu_occupied_beds_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average ICU Beds Occupied`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the weekly Average Occupied ICU Beds\", x = \"Weekly Occupied ICU Beds\", y = \"Week counts\")\n\nprint(cdc_icu_occupied_beds_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of the occupied ICU beds data and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average ICU Beds Occupied`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   1210    2315    2395    2377    2484    2828 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Weekly Average ICU Beds Occupied`)\n\n[1] 237.6443\n\n\nWe can look at the occupancy of the inpatient hosptial beds by week for the period evaluated, we will generate a line plot:\n\n#We are looking at the distribution of the occupied inptient beds over time \ncdc_inpatient_beds_time_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Week Ending Date`, y=`Weekly Average Inpatient Beds Occupied`)) + geom_line(color = \"black\") + labs(title = \"Average Occupancy of Inpatient Beds over time\", x = \"Week Evaluated\", y = \"Weekly Occupied Inpatient Beds\")\n\nprint(cdc_inpatient_beds_time_plot)\n\n\n\n\n\n\n\n\nWe will provide a summary of the number of hospitals reporting COVID-19 and influenza respectively without plotting a graph.\nWe will get a summmary of the number of hospital reporting Adult COVID-19 Admissions and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Number Hospitals Reporting Adult COVID-19 Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   87.0   137.0   138.0   137.5   139.0   140.0 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Number Hospitals Reporting Adult COVID-19 Admissions`)\n\n[1] 4.080754\n\n\nWe will get a summmary of the number of hospital reporting Influenza Admissions and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Number Hospitals Reporting Influenza Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    0.0   134.0   137.0   127.2   139.0   139.0 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Number Hospitals Reporting Influenza Admissions`)\n\n[1] 31.62036"
  },
  {
    "objectID": "cdcdata-exercise/cdcdata-exercise.html#evaluating-the-data",
    "href": "cdcdata-exercise/cdcdata-exercise.html#evaluating-the-data",
    "title": "CDC Data Exercise",
    "section": "",
    "text": "First let’s load the required packages for our data analysis\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.4.2\n\n\nWarning: package 'readr' was built under R version 4.4.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(dplyr)\nlibrary(\"readr\")\nlibrary(ggplot2)\nlibrary(patchwork)\n\nLet us load and get a summary of the CDC dataset. Note that the name of the file was changed at download to have a more user friendly name. Change the name at download to the same name used below or change the name of the file when loading the data to the name We will name this full dataset as cdc_datsset in R and work with that variable name.\n\ncdc_dataset &lt;- read_csv(\"cdc_data_weekly_respiratory_hospitalizations_2020-2024.csv\")\n\nRows: 12597 Columns: 82\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (1): Geographic aggregation\ndbl  (80): Hospital Reporting Days, Percent Hospital Reporting Days, Number ...\ndate  (1): Week Ending Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n#Viewing the dataset and getting a summary\nsummary(cdc_dataset)\n\n Week Ending Date     Geographic aggregation Hospital Reporting Days\n Min.   :2020-08-08   Length:12597           Min.   :    0.0        \n 1st Qu.:2021-08-28   Class :character       1st Qu.:  204.2        \n Median :2022-09-17   Mode  :character       Median :  474.0        \n Mean   :2022-09-17                          Mean   : 1101.5        \n 3rd Qu.:2023-10-07                          3rd Qu.:  797.0        \n Max.   :2024-10-26                          Max.   :33925.0        \n                                             NA's   :171            \n Percent Hospital Reporting Days\n Min.   :0.0000                 \n 1st Qu.:0.9500                 \n Median :0.9800                 \n Mean   :0.8996                 \n 3rd Qu.:1.0000                 \n Max.   :1.0000                 \n NA's   :171                    \n Number Hospitals Reporting Adult COVID-19 Admissions\n Min.   :   0.0                                      \n 1st Qu.:  28.0                                      \n Median :  64.0                                      \n Mean   : 157.4                                      \n 3rd Qu.: 114.0                                      \n Max.   :4872.0                                      \n                                                     \n Number Hospitals Reporting Pediatric COVID-19 Admissions\n Min.   :   0.0                                          \n 1st Qu.:  27.0                                          \n Median :  63.0                                          \n Mean   : 156.4                                          \n 3rd Qu.: 114.0                                          \n Max.   :4872.0                                          \n                                                         \n Number Hospitals Reporting Influenza Admissions\n Min.   :   0.0                                 \n 1st Qu.:  24.0                                 \n Median :  58.0                                 \n Mean   : 144.9                                 \n 3rd Qu.: 112.0                                 \n Max.   :4872.0                                 \n                                                \n Number Hospitals Reporting Prevalent Influenza Hospitalizations\n Min.   :   0.0                                                 \n 1st Qu.:  24.0                                                 \n Median :  58.0                                                 \n Mean   : 144.9                                                 \n 3rd Qu.: 112.0                                                 \n Max.   :4872.0                                                 \n                                                                \n Number Hospitals Reporting Hospitalized Influenza ICU Patients\n Min.   :   0.0                                                \n 1st Qu.:  24.0                                                \n Median :  58.0                                                \n Mean   : 144.9                                                \n 3rd Qu.: 112.0                                                \n Max.   :4872.0                                                \n                                                               \n Number Hospitals Reporting Inpatient Beds Number Hospitals Reporting ICU Beds\n Min.   :   0.0                            Min.   :   0.0                     \n 1st Qu.:  28.0                            1st Qu.:  28.0                     \n Median :  63.0                            Median :  63.0                     \n Mean   : 156.7                            Mean   : 157.1                     \n 3rd Qu.: 114.0                            3rd Qu.: 114.0                     \n Max.   :4868.0                            Max.   :4872.0                     \n                                                                              \n Number Hospitals Reporting Inpatient Beds Occupied\n Min.   :   0.0                                    \n 1st Qu.:  28.0                                    \n Median :  63.0                                    \n Mean   : 156.7                                    \n 3rd Qu.: 114.0                                    \n Max.   :4868.0                                    \n                                                   \n Number Hospitals Reporting ICU Beds Occupied\n Min.   :   0.0                              \n 1st Qu.:  27.0                              \n Median :  63.0                              \n Mean   : 155.8                              \n 3rd Qu.: 114.0                              \n Max.   :4864.0                              \n                                             \n Number Hospitals Reporting Percent Inpatient Bed Occupancy\n Min.   :   0.0                                            \n 1st Qu.:  28.0                                            \n Median :  63.0                                            \n Mean   : 156.7                                            \n 3rd Qu.: 114.0                                            \n Max.   :4868.0                                            \n                                                           \n Number Hospitals Reporting Percent ICU Bed Occupancy\n Min.   :   0.0                                      \n 1st Qu.:  27.0                                      \n Median :  63.0                                      \n Mean   : 155.8                                      \n 3rd Qu.: 114.0                                      \n Max.   :4864.0                                      \n                                                     \n Number Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy\n Min.   :   0.0                                                     \n 1st Qu.:  27.0                                                     \n Median :  63.0                                                     \n Mean   : 156.3                                                     \n 3rd Qu.: 114.0                                                     \n Max.   :4868.0                                                     \n                                                                    \n Number Hospitals Reporting Percent Influenza Inpatient Bed Occupancy\n Min.   :   0.0                                                      \n 1st Qu.:  24.0                                                      \n Median :  57.0                                                      \n Mean   : 144.4                                                      \n 3rd Qu.: 112.0                                                      \n Max.   :4868.0                                                      \n                                                                     \n Number Hospitals Reporting Percent COVID-19 ICU Bed Occupancy\n Min.   :   0.0                                               \n 1st Qu.:  27.0                                               \n Median :  63.0                                               \n Mean   : 156.3                                               \n 3rd Qu.: 114.0                                               \n Max.   :4872.0                                               \n                                                              \n Number Hospitals Reporting Percent Influenza ICU Bed Occupancy\n Min.   :   0.0                                                \n 1st Qu.:  24.0                                                \n Median :  57.0                                                \n Mean   : 144.7                                                \n 3rd Qu.: 112.0                                                \n Max.   :4872.0                                                \n                                                               \n Number Hospitals Reporting Total COVID-19 Admissions\n Min.   :   0.0                                      \n 1st Qu.:  28.0                                      \n Median :  64.0                                      \n Mean   : 157.4                                      \n 3rd Qu.: 114.0                                      \n Max.   :4872.0                                      \n                                                     \n Number Hospitals Reporting Prevalent COVID-19 Hospitalizations\n Min.   :   0                                                  \n 1st Qu.:  27                                                  \n Median :  63                                                  \n Mean   : 157                                                  \n 3rd Qu.: 114                                                  \n Max.   :4872                                                  \n                                                               \n Number Hospitals Reporting Hospitalized COVID-19 ICU Patients\n Min.   :   0.0                                               \n 1st Qu.:  27.0                                               \n Median :  63.0                                               \n Mean   : 156.4                                               \n 3rd Qu.: 114.0                                               \n Max.   :4872.0                                               \n                                                              \n Weekly Average Adult COVID-19 Admissions\n Min.   :    0.00                        \n 1st Qu.:    8.71                        \n Median :   28.86                        \n Mean   :  154.91                        \n 3rd Qu.:   86.82                        \n Max.   :20271.57                        \n NA's   :263                             \n Weekly Total Adult COVID-19 Admissions\n Min.   :     0.0                      \n 1st Qu.:    61.0                      \n Median :   202.0                      \n Mean   :  1084.3                      \n 3rd Qu.:   607.8                      \n Max.   :141901.0                      \n NA's   :263                           \n Weekly Average Pediatric COVID-19 Admissions\n Min.   :  0.000                             \n 1st Qu.:  0.290                             \n Median :  1.140                             \n Mean   :  5.356                             \n 3rd Qu.:  3.140                             \n Max.   :907.140                             \n NA's   :272                                 \n Weekly Total Pediatric COVID-19 Admissions Weekly Average COVID-19 Admissions\n Min.   :   0.00                            Min.   :    0.00                  \n 1st Qu.:   2.00                            1st Qu.:    9.43                  \n Median :   8.00                            Median :   30.14                  \n Mean   :  37.49                            Mean   :  160.27                  \n 3rd Qu.:  22.00                            3rd Qu.:   89.57                  \n Max.   :6350.00                            Max.   :21178.71                  \n NA's   :272                                NA's   :263                       \n Weekly Total COVID-19 Admissions Weekly Average Influenza Admissions\n Min.   :     0                   Min.   :   0.00                    \n 1st Qu.:    66                   1st Qu.:   0.14                    \n Median :   211                   Median :   1.14                    \n Mean   :  1122                   Mean   :  13.44                    \n 3rd Qu.:   627                   3rd Qu.:   4.71                    \n Max.   :148251                   Max.   :3696.00                    \n NA's   :263                      NA's   :778                        \n Weekly Total Influenza Admissions\n Min.   :    0.00                 \n 1st Qu.:    1.00                 \n Median :    8.00                 \n Mean   :   94.09                 \n 3rd Qu.:   33.00                 \n Max.   :25872.00                 \n NA's   :778                      \n Weekly Average Prevalent COVID-19 Hospitalizations\n Min.   :     0.00                                 \n 1st Qu.:    55.86                                 \n Median :   193.64                                 \n Mean   :  1121.83                                 \n 3rd Qu.:   600.18                                 \n Max.   :143988.14                                 \n NA's   :263                                       \n Weekly Average Prevalent Influenza Hospitalizations\n Min.   :    0.00                                   \n 1st Qu.:    1.00                                   \n Median :    6.29                                   \n Mean   :   70.75                                   \n 3rd Qu.:   26.86                                   \n Max.   :15911.71                                   \n NA's   :786                                        \n Weekly Average Hospitalized COVID-19 ICU Patients\n Min.   :    0.00                                 \n 1st Qu.:    7.43                                 \n Median :   32.14                                 \n Mean   :  229.82                                 \n 3rd Qu.:  117.00                                 \n Max.   :26442.14                                 \n NA's   :274                                      \n Weekly Average Hospitalized Influenza ICU Patients\n Min.   :   0.00                                   \n 1st Qu.:   0.00                                   \n Median :   0.86                                   \n Mean   :  11.23                                   \n 3rd Qu.:   3.71                                   \n Max.   :2333.71                                   \n NA's   :778                                       \n Weekly Average Inpatient Beds Weekly Average ICU Beds\n Min.   :     7                Min.   :     0.0       \n 1st Qu.:  2590                1st Qu.:   332.3       \n Median :  7648                Median :  1052.9       \n Mean   : 22430                Mean   :  3363.7       \n 3rd Qu.: 15473                3rd Qu.:  2425.8       \n Max.   :710607                Max.   :113106.0       \n NA's   :263                   NA's   :263            \n Weekly Average Inpatient Beds Occupied Weekly Average ICU Beds Occupied\n Min.   :     0.3                       Min.   :    0.0                 \n 1st Qu.:  1891.2                       1st Qu.:  221.7                 \n Median :  5241.7                       Median :  747.6                 \n Mean   : 16707.7                       Mean   : 2370.4                 \n 3rd Qu.: 11438.7                       3rd Qu.: 1570.2                 \n Max.   :538750.1                       Max.   :82660.3                 \n NA's   :263                            NA's   :278                     \n Weekly Average Percent Inpatient Bed Occupancy\n Min.   :0.0400                                \n 1st Qu.:0.6700                                \n Median :0.7300                                \n Mean   :0.7187                                \n 3rd Qu.:0.7900                                \n Max.   :1.0900                                \n NA's   :263                                   \n Weekly Average Percent ICU Bed Occupancy\n Min.   :0.0000                          \n 1st Qu.:0.6300                          \n Median :0.7000                          \n Mean   :0.6823                          \n 3rd Qu.:0.7600                          \n Max.   :1.0000                          \n NA's   :309                             \n Weekly Average Percent COVID-19 Inpatient Bed Occupancy\n Min.   :0.00000                                        \n 1st Qu.:0.01000                                        \n Median :0.03000                                        \n Mean   :0.04221                                        \n 3rd Qu.:0.05000                                        \n Max.   :0.35000                                        \n NA's   :263                                            \n Weekly Average Percent Influenza Inpatient Bed Occupancy\n Min.   :0.0000                                          \n 1st Qu.:0.0000                                          \n Median :0.0000                                          \n Mean   :0.0023                                          \n 3rd Qu.:0.0000                                          \n Max.   :0.0700                                          \n NA's   :781                                             \n Weekly Average Percent COVID-19 ICU Bed Occupancy\n Min.   :0.00000                                  \n 1st Qu.:0.01000                                  \n Median :0.03000                                  \n Mean   :0.05781                                  \n 3rd Qu.:0.07000                                  \n Max.   :0.68000                                  \n NA's   :305                                      \n Weekly Average Percent Influenza ICU Bed Occupancy\n Min.   :0.0000                                    \n 1st Qu.:0.0000                                    \n Median :0.0000                                    \n Mean   :0.0026                                    \n 3rd Qu.:0.0000                                    \n Max.   :0.0900                                    \n NA's   :839                                       \n Percent Adult COVID-19 Admissions Percent Pediatric COVID-19 Admissions\n Min.   :0.0000                    Min.   :0.0000                       \n 1st Qu.:0.9500                    1st Qu.:0.0200                       \n Median :0.9700                    Median :0.0300                       \n Mean   :0.9537                    Mean   :0.0454                       \n 3rd Qu.:0.9800                    3rd Qu.:0.0500                       \n Max.   :1.0000                    Max.   :1.0000                       \n NA's   :574                       NA's   :574                          \n Percent Hospitals Reporting Adult COVID-19 Admissions\n Min.   :0.0000                                       \n 1st Qu.:0.9600                                       \n Median :0.9800                                       \n Mean   :0.8984                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Pediatric COVID-19 Admissions\n Min.   :0.0000                                           \n 1st Qu.:0.9600                                           \n Median :0.9800                                           \n Mean   :0.8927                                           \n 3rd Qu.:1.0000                                           \n Max.   :1.0000                                           \n                                                          \n Percent Hospitals Reporting Influenza Admissions\n Min.   :0.0000                                  \n 1st Qu.:0.9200                                  \n Median :0.9700                                  \n Mean   :0.8312                                  \n 3rd Qu.:1.0000                                  \n Max.   :1.0000                                  \n                                                 \n Percent Hospitals Reporting Prevalent Influenza Hospitalizations\n Min.   :0.0000                                                  \n 1st Qu.:0.9200                                                  \n Median :0.9700                                                  \n Mean   :0.8313                                                  \n 3rd Qu.:1.0000                                                  \n Max.   :1.0000                                                  \n                                                                 \n Percent Hospitals Reporting Hospitalized Influenza ICU Patients\n Min.   :0.0000                                                 \n 1st Qu.:0.9200                                                 \n Median :0.9700                                                 \n Mean   :0.8312                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Inpatient Beds\n Min.   :0.0000                            \n 1st Qu.:0.9500                            \n Median :0.9800                            \n Mean   :0.8945                            \n 3rd Qu.:1.0000                            \n Max.   :1.0000                            \n                                           \n Percent Hospitals Reporting ICU Beds\n Min.   :0.0000                      \n 1st Qu.:0.9600                      \n Median :0.9800                      \n Mean   :0.8969                      \n 3rd Qu.:1.0000                      \n Max.   :1.0000                      \n                                     \n Percent Hospitals Reporting Inpatient Beds Occupied\n Min.   :0.0000                                     \n 1st Qu.:0.9500                                     \n Median :0.9800                                     \n Mean   :0.8945                                     \n 3rd Qu.:1.0000                                     \n Max.   :1.0000                                     \n                                                    \n Percent Hospitals Reporting ICU Beds Occupied\n Min.   :0.0000                               \n 1st Qu.:0.9500                               \n Median :0.9800                               \n Mean   :0.8881                               \n 3rd Qu.:1.0000                               \n Max.   :1.0000                               \n                                              \n Percent Hospitals Reporting Percent Inpatient Bed Occupancy\n Min.   :0.0000                                             \n 1st Qu.:0.9500                                             \n Median :0.9800                                             \n Mean   :0.8945                                             \n 3rd Qu.:1.0000                                             \n Max.   :1.0000                                             \n                                                            \n Percent Hospitals Reporting Percent ICU Bed Occupancy\n Min.   :0.0000                                       \n 1st Qu.:0.9500                                       \n Median :0.9800                                       \n Mean   :0.8881                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy\n Min.   :0.0000                                                      \n 1st Qu.:0.9500                                                      \n Median :0.9800                                                      \n Mean   :0.8926                                                      \n 3rd Qu.:1.0000                                                      \n Max.   :1.0000                                                      \n                                                                     \n Percent Hospitals Reporting Percent Influenza Inpatient Bed Occupancy\n Min.   :0.0000                                                       \n 1st Qu.:0.9200                                                       \n Median :0.9700                                                       \n Mean   :0.8293                                                       \n 3rd Qu.:1.0000                                                       \n Max.   :1.0000                                                       \n                                                                      \n Percent Hospitals Reporting Percent COVID-19 ICU Bed Occupancy\n Min.   :0.0000                                                \n 1st Qu.:0.9600                                                \n Median :0.9800                                                \n Mean   :0.8916                                                \n 3rd Qu.:1.0000                                                \n Max.   :1.0000                                                \n                                                               \n Percent Hospitals Reporting Percent Influenza ICU Bed Occupancy\n Min.   :0.0000                                                 \n 1st Qu.:0.9200                                                 \n Median :0.9700                                                 \n Mean   :0.8305                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Total COVID-19 Admissions\n Min.   :0.0000                                       \n 1st Qu.:0.9600                                       \n Median :0.9800                                       \n Mean   :0.8985                                       \n 3rd Qu.:1.0000                                       \n Max.   :1.0000                                       \n                                                      \n Percent Hospitals Reporting Prevalent COVID-19 Hospitalizations\n Min.   :0.0000                                                 \n 1st Qu.:0.9600                                                 \n Median :0.9800                                                 \n Mean   :0.8963                                                 \n 3rd Qu.:1.0000                                                 \n Max.   :1.0000                                                 \n                                                                \n Percent Hospitals Reporting Hospitalized COVID-19 ICU Patients\n Min.   :0.0000                                                \n 1st Qu.:0.9600                                                \n Median :0.9800                                                \n Mean   :0.8925                                                \n 3rd Qu.:1.0000                                                \n Max.   :1.0000                                                \n                                                               \n Absolute Change in the Percent Hospitals Reporting Adult COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.2037                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Pediatric COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                               \n 1st Qu.:   0.0000                                                                               \n Median :   0.0000                                                                               \n Mean   :  -0.1778                                                                               \n 3rd Qu.:   0.0000                                                                               \n Max.   : 100.0000                                                                               \n NA's   :57                                                                                      \n Absolute Change in the Percent Hospitals Reporting Influenza Admissions from Prior Week\n Min.   :-100.0000                                                                      \n 1st Qu.:   0.0000                                                                      \n Median :   0.0000                                                                      \n Mean   :   0.1491                                                                      \n 3rd Qu.:   0.0000                                                                      \n Max.   : 100.0000                                                                      \n NA's   :57                                                                             \n Absolute Change in the Percent Hospitals Reporting Prevalent Influenza Hospitalizations from Prior Week\n Min.   :-100.0000                                                                                      \n 1st Qu.:   0.0000                                                                                      \n Median :   0.0000                                                                                      \n Mean   :   0.1487                                                                                      \n 3rd Qu.:   0.0000                                                                                      \n Max.   : 100.0000                                                                                      \n NA's   :57                                                                                             \n Absolute Change in the Percent Hospitals Reporting Hospitalized Influenza ICU Patients from Prior Week\n Min.   :-100.0000                                                                                     \n 1st Qu.:   0.0000                                                                                     \n Median :   0.0000                                                                                     \n Mean   :   0.1485                                                                                     \n 3rd Qu.:   0.0000                                                                                     \n Max.   : 100.0000                                                                                     \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Inpatient Beds from Prior Week\n Min.   :-100.0000                                                                \n 1st Qu.:   0.0000                                                                \n Median :   0.0000                                                                \n Mean   :  -0.2326                                                                \n 3rd Qu.:   0.0000                                                                \n Max.   : 100.0000                                                                \n NA's   :57                                                                       \n Absolute Change in the Percent Hospitals Reporting ICU Beds from Prior Week\n Min.   :-100.0000                                                          \n 1st Qu.:   0.0000                                                          \n Median :   0.0000                                                          \n Mean   :  -0.2561                                                          \n 3rd Qu.:   0.0000                                                          \n Max.   : 100.0000                                                          \n NA's   :57                                                                 \n Absolute Change in the Percent Hospitals Reporting Inpatient Beds Occupied from Prior Week\n Min.   :-100.0000                                                                         \n 1st Qu.:   0.0000                                                                         \n Median :   0.0000                                                                         \n Mean   :  -0.2326                                                                         \n 3rd Qu.:   0.0000                                                                         \n Max.   : 100.0000                                                                         \n NA's   :57                                                                                \n Absolute Change in the Percent Hospitals Reporting ICU Beds Occupied from Prior Week\n Min.   :-100.0000                                                                   \n 1st Qu.:   0.0000                                                                   \n Median :   0.0000                                                                   \n Mean   :  -0.1627                                                                   \n 3rd Qu.:   0.0000                                                                   \n Max.   : 100.0000                                                                   \n NA's   :57                                                                          \n Absolute Change in the Percent Hospitals Reporting Percent Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                 \n 1st Qu.:   0.0000                                                                                 \n Median :   0.0000                                                                                 \n Mean   :  -0.2326                                                                                 \n 3rd Qu.:   0.0000                                                                                 \n Max.   : 100.0000                                                                                 \n NA's   :57                                                                                        \n Absolute Change in the Percent Hospitals Reporting Percent ICU Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.1627                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Percent COVID-19 Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                          \n 1st Qu.:   0.0000                                                                                          \n Median :   0.0000                                                                                          \n Mean   :  -0.1973                                                                                          \n 3rd Qu.:   0.0000                                                                                          \n Max.   : 100.0000                                                                                          \n NA's   :57                                                                                                 \n Absolute Change in the Percent Hospitals Reporting Percent Influenza Inpatient Bed Occupancy from Prior Week\n Min.   :-100.0000                                                                                           \n 1st Qu.:   0.0000                                                                                           \n Median :   0.0000                                                                                           \n Mean   :   0.1487                                                                                           \n 3rd Qu.:   0.0000                                                                                           \n Max.   : 100.0000                                                                                           \n NA's   :57                                                                                                  \n Absolute Change in the Percent Hospitals Reporting Percent COVID-19 ICU Bed Occupancy from Prior Week\n Min.   :-100.000                                                                                     \n 1st Qu.:   0.000                                                                                     \n Median :   0.000                                                                                     \n Mean   :  -0.195                                                                                     \n 3rd Qu.:   0.000                                                                                     \n Max.   : 100.000                                                                                     \n NA's   :57                                                                                           \n Absolute Change in the Percent Hospitals Reporting Percent Influenza ICU Bed Occupancy from Prior Week\n Min.   :-100.000                                                                                      \n 1st Qu.:   0.000                                                                                      \n Median :   0.000                                                                                      \n Mean   :   0.142                                                                                      \n 3rd Qu.:   0.000                                                                                      \n Max.   : 100.000                                                                                      \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Total COVID-19 Admissions from Prior Week\n Min.   :-100.0000                                                                           \n 1st Qu.:   0.0000                                                                           \n Median :   0.0000                                                                           \n Mean   :  -0.2091                                                                           \n 3rd Qu.:   0.0000                                                                           \n Max.   : 100.0000                                                                           \n NA's   :57                                                                                  \n Absolute Change in the Percent Hospitals Reporting Prevalent COVID-19 Hospitalizations from Prior Week\n Min.   :-100.0000                                                                                     \n 1st Qu.:   0.0000                                                                                     \n Median :   0.0000                                                                                     \n Mean   :  -0.2261                                                                                     \n 3rd Qu.:   0.0000                                                                                     \n Max.   : 100.0000                                                                                     \n NA's   :57                                                                                            \n Absolute Change in the Percent Hospitals Reporting Hospitalized COVID-19 ICU Patients from Prior Week\n Min.   :-100.000                                                                                     \n 1st Qu.:   0.000                                                                                     \n Median :   0.000                                                                                     \n Mean   :  -0.201                                                                                     \n 3rd Qu.:   0.000                                                                                     \n Max.   : 100.000                                                                                     \n NA's   :57                                                                                           \n\nview(cdc_dataset)\nprint(cdc_dataset)\n\n# A tibble: 12,597 × 82\n   `Week Ending Date` `Geographic aggregation` `Hospital Reporting Days`\n   &lt;date&gt;             &lt;chr&gt;                                        &lt;dbl&gt;\n 1 2020-08-08         AK                                              98\n 2 2020-08-15         AK                                              98\n 3 2020-08-22         AK                                              98\n 4 2020-08-29         AK                                              97\n 5 2020-09-05         AK                                              97\n 6 2020-09-12         AK                                              98\n 7 2020-09-19         AK                                              98\n 8 2020-09-26         AK                                              96\n 9 2020-10-03         AK                                              97\n10 2020-10-10         AK                                              98\n# ℹ 12,587 more rows\n# ℹ 79 more variables: `Percent Hospital Reporting Days` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Pediatric COVID-19 Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Prevalent Influenza Hospitalizations` &lt;dbl&gt;,\n#   `Number Hospitals Reporting Hospitalized Influenza ICU Patients` &lt;dbl&gt;, …\n\n\nThe summary of the dataset is valuable but it helps to actually view and scroll through the data for a better overview and feel of the data.\nWe can see that this is a very large dataset. There are 12597 observations in this dataset and 82 columns. We have to do a lot of scrolling to see much, including our summary, which is not very helpful. This is very big for us to evaluate and so we might want to cut it down a bit before we spend time filtering through and cleaning all of the data that is not of interest to us.\nFor this evaluation we want to have an idea of how COVID-19 and infuenza affected the population by evaluating the hospitilization rates. We are interested in knowing how this affected the healthcare system so we will include the information related to how many hospitals reported data and the occupancy of these hospitals. From viewing the data there seems to be overlap and repetition of some of the data, as well as categories and definitions that are not necessary for us, so we will reduce our columns to those of greatest interest to us. We will focus on adult data as the reporting of pediatric data seems to be limited to COVID-19 and thus will limit any comparisons to influenza.\nWe are also not going to split up ICU vs general admissions for our evaluations, but this is somehting that could be broken down.\nWe will also cut down our observations by focusing on one State and by defining our time frame.\nThis part could be done in either order and the State and time frame could be adapted.\nCutting down our dataset: Since we know that the mandatory reporting period will have the best information reported, we will focus on this time frame August 1, 2020 - April 30, 2024. We will also start by focusing on the state of Georgia (region=GA). We will use the filter function to get the rows with these variables.\n\n#Using the filter function to select for our rows of interest. We will assign these to two new variables.\n#Filter by State = selecting GA\ncdc_data_georgia &lt;- cdc_dataset |&gt; filter(`Geographic aggregation` == \"GA\")\n\n#Filter further by date = August 1, 2020 - April 30, 2024\ncdc_georgia_mandatory_data &lt;- cdc_data_georgia |&gt; filter(`Week Ending Date`&gt;=\"2020-08-01\" & `Week Ending Date` &lt;= \"2024-04-30\")\n\nWe can see that we have filtered our observations down to 195 observations. We could do the same thing for multiple states (or have included multiple states) and compared the data between states.\nNow we will focus on selecting the columns that we are most interested in: We will use the select function. Columns of interest to be kept: - Week Ending Date - Geographic aggregation - Number Hospitals Reporting Adult COVID-19 Admissions - Number Hospitals Reporting Influenza Admissions - Weekly Total Adult COVID-19 Admissions - Weekly Total Influenza Admissions - Weekly Average Hospitalized COVID-19 ICU Patients - Weekly Average Hospitalized Influenza ICU Patients - Weekly Average Inpatient Beds - Weekly Average ICU Beds - Weekly Average Inpatient Beds Occupied - Weekly Average ICU Beds Occupied\nDefining our new dataset with columns of interest:\n\n#Using the select function to define our columns of interest for the GA dataset that we refined\ncdc_ga_mandatory_refined &lt;- cdc_georgia_mandatory_data |&gt; select(`Week Ending Date`,\n`Geographic aggregation`,\n`Number Hospitals Reporting Adult COVID-19 Admissions`,\n`Number Hospitals Reporting Influenza Admissions`,\n`Weekly Total Adult COVID-19 Admissions`,\n`Weekly Total Influenza Admissions`,\n`Weekly Average Hospitalized COVID-19 ICU Patients`,\n`Weekly Average Hospitalized Influenza ICU Patients`,\n`Weekly Average Inpatient Beds`,\n`Weekly Average ICU Beds`,\n`Weekly Average Inpatient Beds Occupied`,\n`Weekly Average ICU Beds Occupied`)\n\n#View the new datset and a summary\nsummary(cdc_ga_mandatory_refined)\n\n Week Ending Date     Geographic aggregation\n Min.   :2020-08-08   Length:195            \n 1st Qu.:2021-07-13   Class :character      \n Median :2022-06-18   Mode  :character      \n Mean   :2022-06-18                         \n 3rd Qu.:2023-05-23                         \n Max.   :2024-04-27                         \n                                            \n Number Hospitals Reporting Adult COVID-19 Admissions\n Min.   : 87.0                                       \n 1st Qu.:137.0                                       \n Median :138.0                                       \n Mean   :137.5                                       \n 3rd Qu.:139.0                                       \n Max.   :140.0                                       \n                                                     \n Number Hospitals Reporting Influenza Admissions\n Min.   :  0.0                                  \n 1st Qu.:134.0                                  \n Median :137.0                                  \n Mean   :127.2                                  \n 3rd Qu.:139.0                                  \n Max.   :139.0                                  \n                                                \n Weekly Total Adult COVID-19 Admissions Weekly Total Influenza Admissions\n Min.   : 122.0                         Min.   :   0.00                  \n 1st Qu.: 410.5                         1st Qu.:  17.00                  \n Median : 816.0                         Median :  30.00                  \n Mean   :1259.5                         Mean   :  73.04                  \n 3rd Qu.:1446.5                         3rd Qu.:  54.75                  \n Max.   :5459.0                         Max.   :1123.00                  \n                                        NA's   :5                        \n Weekly Average Hospitalized COVID-19 ICU Patients\n Min.   :  28.57                                  \n 1st Qu.:  69.64                                  \n Median : 137.29                                  \n Mean   : 283.58                                  \n 3rd Qu.: 376.29                                  \n Max.   :1319.86                                  \n                                                  \n Weekly Average Hospitalized Influenza ICU Patients\n Min.   :  0.000                                   \n 1st Qu.:  2.895                                   \n Median : 31.570                                   \n Mean   : 45.580                                   \n 3rd Qu.: 71.395                                   \n Max.   :255.000                                   \n NA's   :5                                         \n Weekly Average Inpatient Beds Weekly Average ICU Beds\n Min.   :12754                 Min.   :2403           \n 1st Qu.:17263                 1st Qu.:3007           \n Median :17994                 Median :3043           \n Mean   :18361                 Mean   :3069           \n 3rd Qu.:20123                 3rd Qu.:3153           \n Max.   :20852                 Max.   :3422           \n                                                      \n Weekly Average Inpatient Beds Occupied Weekly Average ICU Beds Occupied\n Min.   :10065                          Min.   :1210                    \n 1st Qu.:13769                          1st Qu.:2315                    \n Median :14365                          Median :2395                    \n Mean   :14415                          Mean   :2377                    \n 3rd Qu.:15170                          3rd Qu.:2484                    \n Max.   :16660                          Max.   :2828                    \n                                                                        \n\nview(cdc_ga_mandatory_refined)\nprint(cdc_ga_mandatory_refined)\n\n# A tibble: 195 × 12\n   `Week Ending Date` `Geographic aggregation` Number Hospitals Reporting Adul…¹\n   &lt;date&gt;             &lt;chr&gt;                                                &lt;dbl&gt;\n 1 2020-08-08         GA                                                      87\n 2 2020-08-15         GA                                                     130\n 3 2020-08-22         GA                                                     130\n 4 2020-08-29         GA                                                     131\n 5 2020-09-05         GA                                                     133\n 6 2020-09-12         GA                                                     134\n 7 2020-09-19         GA                                                     129\n 8 2020-09-26         GA                                                     131\n 9 2020-10-03         GA                                                     139\n10 2020-10-10         GA                                                     139\n# ℹ 185 more rows\n# ℹ abbreviated name: ¹​`Number Hospitals Reporting Adult COVID-19 Admissions`\n# ℹ 9 more variables: `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Total Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Weekly Total Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized COVID-19 ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized Influenza ICU Patients` &lt;dbl&gt;, …\n\n\nWe have reduced our datset to a much more manageable set of information that we can refine and evalaute. If we feel that we should incude an additional column (left something valuable out) we can go back and add it now. Our sumamry shows us that we have a few NA values in our datset.\nWe will look for these using the is.na function. We will create a specific variable from these NA values to make it easier to visualise without searching. In reality, with the summary and reduced size of the dataset we can scroll through and find these if we want. However, printing these specifically allows us to isolate them quickly.\n\ncdc_refined_ga_NA &lt;- cdc_ga_mandatory_refined |&gt; filter(if_any(everything(), is.na))\n\nprint(cdc_refined_ga_NA)\n\n# A tibble: 5 × 12\n  `Week Ending Date` `Geographic aggregation` Number Hospitals Reporting Adult…¹\n  &lt;date&gt;             &lt;chr&gt;                                                 &lt;dbl&gt;\n1 2020-08-08         GA                                                       87\n2 2020-08-15         GA                                                      130\n3 2020-08-22         GA                                                      130\n4 2020-08-29         GA                                                      131\n5 2020-10-10         GA                                                      139\n# ℹ abbreviated name: ¹​`Number Hospitals Reporting Adult COVID-19 Admissions`\n# ℹ 9 more variables: `Number Hospitals Reporting Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Total Adult COVID-19 Admissions` &lt;dbl&gt;,\n#   `Weekly Total Influenza Admissions` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized COVID-19 ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Hospitalized Influenza ICU Patients` &lt;dbl&gt;,\n#   `Weekly Average Inpatient Beds` &lt;dbl&gt;, `Weekly Average ICU Beds` &lt;dbl&gt;, …\n\n\nWe can see that these NA values are in the first four weeks of observations, and one week in October 2020, and that they are all in the influenza observations. We might be led to believe that perhaps the recording/reporting (or testing) of influenza tests was halted in the peak of the COVID-19 pandemic when resources were limited, or that the order to report influenza cases for this use only cae through later. This is somehtign that we might be able to find on the CDC website if desired. We will not delete these observations because we would lose valuable information related to the COVID-19 pandemic from these weeks. We could potentially use synthetic data for these missing variables or we could work on date ranges that do not include these weeks (2020-08-08 - 2020-08-29 and 2020-10-10) if we want to compare COVID-19 to Influenza.\nWe will make a few plots of different variables. We will start by analyzing the COVID-19 data.\n\n#We are looking at the distribution of the total adult COVID-19 cases  \ncovid_adult_admissions_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Total Adult COVID-19 Admissions`)) + geom_histogram(bins=10,fill= \"green\", color = \"black\") + labs(title = \"Distribution of the weekly total adult COVID-19 Hospital Admissions\", x = \"Weekly Total Adult COVID-19 Admissions\", y = \"Week counts\")\n\nprint(covid_adult_admissions_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of this data (Distribution of the weekly total adult COVID-19 Hospital Admissions) and calcualte the standard deviation\n\nsummary(cdc_ga_mandatory_refined$`Weekly Total Adult COVID-19 Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  122.0   410.5   816.0  1259.5  1446.5  5459.0 \n\n#We will calculate the standard deviation\nsd(cdc_ga_mandatory_refined$`Weekly Total Adult COVID-19 Admissions`)\n\n[1] 1267.792\n\n\n\n#We are looking at the distribution of the average hospitalized COVID-19 ICU patients  \ncovid_icu_patients_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Hospitalized COVID-19 ICU Patients`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the average COVID-19 Hospital ICU Patients\", x = \"Weekly Average COVID-19 ICU Patients\", y = \"Week counts\")\n\nprint(covid_icu_patients_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of this data (Distribution of the average COVID-19 Hospital ICU Patients) and calcualte the standard deviation\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Hospitalized COVID-19 ICU Patients`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  28.57   69.64  137.29  283.58  376.29 1319.86 \n\n#We will calculate the standard deviation\nsd(cdc_ga_mandatory_refined$`Weekly Average Hospitalized COVID-19 ICU Patients`)\n\n[1] 315.2279\n\n\nWe see how many more patients were hospitalized than were in ICU in Georgia, as the max number for the ICU patients is quite close to mean value of the hospital admissions.\nLooking at the same distributions for the Influenza data:\n\n#We are looking at the distribution of the total Influenza cases  \ninfluenza_adult_admissions_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Total Influenza Admissions`)) + geom_histogram(bins=10,fill= \"blue\", color = \"black\") + labs(title = \"Distribution of the weekly Influenza Hospital Admissions\", x = \"Weekly Total Influenza Admissions\", y = \"Week counts\")\n\nprint(influenza_adult_admissions_plot)\n\nWarning: Removed 5 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nWe receive a warning that some values were excluded (likely our NA values).\nWe will get a summmary of this data (Weekly Total Influenza Admissions) and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Total Influenza Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n   0.00   17.00   30.00   73.04   54.75 1123.00       5 \n\n#We will calculate the standard deviation and exclude the NA values in the influenza data\nsd(cdc_ga_mandatory_refined$`Weekly Total Influenza Admissions`, na.rm = TRUE)  \n\n[1] 137.6914\n\n\nThe mean value for admissions for the influenza cases is a great deal lower than that from the COVID-19 cases. We see that the mean of the COVID-19 hospital admissions is 17.2 times greater than the mean from the influenza admissions.\n\n#We are looking at the distribution of the average influenza ICU patients  \ninfluenza_icu_patients_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Hospitalized Influenza ICU Patients`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the average Influenza Hospital ICU Patients\", x = \"Weekly Average Influenza ICU Patients\", y = \"Week counts\")\n\nprint(influenza_icu_patients_plot)\n\nWarning: Removed 5 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\nWe get the same warning as our previous plot for the influenza cases (regarding the missing NA values).\nWe will get a summmary of this data (Weekly Average Influenza ICU Patients) and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Hospitalized Influenza ICU Patients`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n  0.000   2.895  31.570  45.580  71.395 255.000       5 \n\n#We will calculate the standard deviation and exclude the NA values in the influenza data\nsd(cdc_ga_mandatory_refined$`Weekly Average Hospitalized Influenza ICU Patients`, na.rm = TRUE)\n\n[1] 51.3058\n\n\nThe mean value for ICU patients for the influenza cases is also much lower than that from the COVID-19 cases (not quite as much compared to admissions). We see that the mean of the COVID-19 hospital admissions is 6.2 times greater than the mean from the influenza ICU patients.\nBy comparing the plots and summary data we generated for COVID-19 and Influenza cases we can already see the much greater number of hospital admissions and ICU cases from COVID-19 compared to influenza. We also see the wider range for the COVID-19 cases compared to Influenza. The pronounced impact of COVID-19 as a respiratory disease is obvious before we do further analysis.\nWe can evaluate the strain on the healthcare system by looking at the hospital beds that were occupied (we will just look at total numbers between inpatient and ICU and not as a percentage). This does not distinguish what caused the beds to be occupied.\nLooking at the distributions of occupied inptient beds:\n\n#We are looking at the distribution of the occupied inptient beds  \ncdc_inpatient_occupied_beds_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average Inpatient Beds Occupied`)) + geom_histogram(bins=10,fill= \"blue\", color = \"black\") + labs(title = \"Distribution of the weekly Average Occupied Inpatient Beds\", x = \"Weekly Inpatient Beds\", y = \"Week counts\")\n\nprint(cdc_inpatient_occupied_beds_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of the inpatient occupied beds data and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average Inpatient Beds Occupied`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  10065   13769   14365   14415   15170   16660 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Weekly Average Inpatient Beds Occupied`)\n\n[1] 1097.536\n\n\n\n#We are looking at the distribution of the occupied ICU beds  \ncdc_icu_occupied_beds_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Weekly Average ICU Beds Occupied`)) + geom_histogram(bins=10,fill= \"red\", color = \"black\") + labs(title = \"Distribution of the weekly Average Occupied ICU Beds\", x = \"Weekly Occupied ICU Beds\", y = \"Week counts\")\n\nprint(cdc_icu_occupied_beds_plot)\n\n\n\n\n\n\n\n\nWe will get a summmary of the occupied ICU beds data and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Weekly Average ICU Beds Occupied`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   1210    2315    2395    2377    2484    2828 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Weekly Average ICU Beds Occupied`)\n\n[1] 237.6443\n\n\nWe can look at the occupancy of the inpatient hosptial beds by week for the period evaluated, we will generate a line plot:\n\n#We are looking at the distribution of the occupied inptient beds over time \ncdc_inpatient_beds_time_plot&lt;- ggplot(cdc_ga_mandatory_refined, aes(x=`Week Ending Date`, y=`Weekly Average Inpatient Beds Occupied`)) + geom_line(color = \"black\") + labs(title = \"Average Occupancy of Inpatient Beds over time\", x = \"Week Evaluated\", y = \"Weekly Occupied Inpatient Beds\")\n\nprint(cdc_inpatient_beds_time_plot)\n\n\n\n\n\n\n\n\nWe will provide a summary of the number of hospitals reporting COVID-19 and influenza respectively without plotting a graph.\nWe will get a summmary of the number of hospital reporting Adult COVID-19 Admissions and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Number Hospitals Reporting Adult COVID-19 Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   87.0   137.0   138.0   137.5   139.0   140.0 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Number Hospitals Reporting Adult COVID-19 Admissions`)\n\n[1] 4.080754\n\n\nWe will get a summmary of the number of hospital reporting Influenza Admissions and calcualte the standard deviation.\n\nsummary(cdc_ga_mandatory_refined$`Number Hospitals Reporting Influenza Admissions`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    0.0   134.0   137.0   127.2   139.0   139.0 \n\n#We will calculate the standard deviation \nsd(cdc_ga_mandatory_refined$`Number Hospitals Reporting Influenza Admissions`)\n\n[1] 31.62036"
  }
]